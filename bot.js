const _0x14fbd0=_0x5799;(function(_0x5e0327,_0x326936){const _0x4ebb52=_0x5799,_0x5d959e=_0x5e0327();while(!![]){try{const _0x44e224=parseInt(_0x4ebb52(0x1c4))/0x1+parseInt(_0x4ebb52(0x1e5))/0x2+parseInt(_0x4ebb52(0x155))/0x3*(parseInt(_0x4ebb52(0x1a2))/0x4)+parseInt(_0x4ebb52(0x1b9))/0x5+-parseInt(_0x4ebb52(0x162))/0x6*(-parseInt(_0x4ebb52(0x1bd))/0x7)+-parseInt(_0x4ebb52(0x1cf))/0x8*(-parseInt(_0x4ebb52(0x200))/0x9)+parseInt(_0x4ebb52(0x184))/0xa*(-parseInt(_0x4ebb52(0x178))/0xb);if(_0x44e224===_0x326936)break;else _0x5d959e['push'](_0x5d959e['shift']());}catch(_0x54e5fb){_0x5d959e['push'](_0x5d959e['shift']());}}}(_0x4e15,0x6f52f));const originalStdoutWrite=process[_0x14fbd0(0x163)][_0x14fbd0(0x1f1)][_0x14fbd0(0x201)](process[_0x14fbd0(0x163)]),originalStderrWrite=process['stderr'][_0x14fbd0(0x1f1)]['bind'](process['stderr']),globalMessagesToSuppress=[_0x14fbd0(0x187),'Failed\x20to\x20decrypt\x20message\x20with\x20any\x20known\x20session','Session\x20error:Error:\x20Bad\x20MAC','sent\x20retry\x20receipt','Closing\x20open\x20session\x20in\x20favor\x20of\x20incoming\x20prekey\x20bundle','No\x20matching\x20sessions\x20found\x20for\x20message','Closing\x20session:\x20SessionEntry',_0x14fbd0(0x213),'No\x20SenderKeyRecord\x20found\x20for\x20decryption'];function createGlobalFilteringWriter(_0x488855){const _0xf17728={'GDUqP':function(_0x2f9371,_0x44f512){return _0x2f9371(_0x44f512);},'QxnYW':function(_0x1857fa,_0x4a91d6){return _0x1857fa===_0x4a91d6;}},_0x5d7f8a=(function(){let _0x157a54=!![];return function(_0xb89add,_0x4762b5){const _0x3c3e19=_0x157a54?function(){if('DJvQZ'!=='zLjqM'){if(_0x4762b5){const _0x428eca=_0x4762b5['apply'](_0xb89add,arguments);return _0x4762b5=null,_0x428eca;}}else process['stderr']['write'](_0x5edd77);}:function(){};return _0x157a54=![],_0x3c3e19;};}());return(function(){const _0x2834fb={'IjUcr':function(_0x2ba123,_0x45ca7c){return _0xf17728['GDUqP'](_0x2ba123,_0x45ca7c);}};_0x5d7f8a(this,function(){const _0x376bce=_0x5799,_0x23d473=new RegExp(_0x376bce(0x198)),_0x42d557=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x2f0ab5=_0x1bece7('init');!_0x23d473['test'](_0x2f0ab5+'chain')||!_0x42d557['test'](_0x2f0ab5+'input')?_0x2834fb['IjUcr'](_0x2f0ab5,'0'):_0x1bece7();})();}()),function(_0x1091ee,_0x19b628,_0x4d7369){const _0xf710b7=_0x5799;if('xFoLX'==='xFoLX'){const _0x5b71a0=_0x1091ee['toString'](),_0x260ac2=globalMessagesToSuppress['some'](_0x41bc75=>_0x5b71a0[_0xf710b7(0x180)](_0x41bc75));if(_0x260ac2)return _0xf17728['QxnYW'](typeof _0x4d7369,'function')&&_0x4d7369(),!![];return _0x488855(_0x1091ee,_0x19b628,_0x4d7369);}else _0x3e9210(_0x5c415e,'Restart\x20attempt\x20failed,\x20will\x20schedule\x20another\x20attempt'),_0x222a26(_0x127d08);};}process['stdout'][_0x14fbd0(0x1f1)]=createGlobalFilteringWriter(originalStdoutWrite),process['stderr']['write']=createGlobalFilteringWriter(originalStderrWrite);import _0x23ac89 from'util';import _0x2347e7 from'@whiskeysockets/baileys';const {makeWASocket,useMultiFileAuthState,fetchLatestBaileysVersion,DisconnectReason,jidNormalizedUser,makeCacheableSignalKeyStore,getUrlInfo,generateLinkPreviewIfRequired,downloadMediaMessage,getAggregateVotesInPollMessage,makeInMemoryStore:maybeMakeInMemoryStore,proto,areJidsSameUser,isJidGroup,isJidStatusBroadcast,isJidBroadcast,isJidUser,isJidNewsletter}=_0x2347e7;import _0x1591f4 from'qrcode-terminal';import _0x5d96c5 from'pino';import _0x48a101 from'events';import _0x320a40 from'path';import _0x51d098 from'fs/promises';import{fileURLToPath}from'url';import _0x147fb2 from'express';import _0x4b7234 from'prom-client';import{createRequire}from'module';import{Writable}from'stream';import{initLogger,debug,info,warn,error,fatal}from'./utils/logger.js';const require=createRequire(import.meta['url']);import*as _0x3ec2e7 from'./utils/connection.js';function _0x5799(_0x24a56c,_0x5b0729){const _0x4f6170=_0x4e15();return _0x5799=function(_0x1bece7,_0x168334){_0x1bece7=_0x1bece7-0x151;let _0x276d20=_0x4f6170[_0x1bece7];if(_0x5799['BDSFbL']===undefined){var _0x316146=function(_0x4654e6){const _0x3de2e9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3a30da='',_0x4e0618='';for(let _0x136204=0x0,_0x399a89,_0x2ad7dc,_0xef3c08=0x0;_0x2ad7dc=_0x4654e6['charAt'](_0xef3c08++);~_0x2ad7dc&&(_0x399a89=_0x136204%0x4?_0x399a89*0x40+_0x2ad7dc:_0x2ad7dc,_0x136204++%0x4)?_0x3a30da+=String['fromCharCode'](0xff&_0x399a89>>(-0x2*_0x136204&0x6)):0x0){_0x2ad7dc=_0x3de2e9['indexOf'](_0x2ad7dc);}for(let _0x3f99ad=0x0,_0x7a0ea2=_0x3a30da['length'];_0x3f99ad<_0x7a0ea2;_0x3f99ad++){_0x4e0618+='%'+('00'+_0x3a30da['charCodeAt'](_0x3f99ad)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4e0618);};_0x5799['hpliJw']=_0x316146,_0x24a56c=arguments,_0x5799['BDSFbL']=!![];}const _0x4e157b=_0x4f6170[0x0],_0x5799d2=_0x1bece7+_0x4e157b,_0x3570dd=_0x24a56c[_0x5799d2];return!_0x3570dd?(_0x276d20=_0x5799['hpliJw'](_0x276d20),_0x24a56c[_0x5799d2]=_0x276d20):_0x276d20=_0x3570dd,_0x276d20;},_0x5799(_0x24a56c,_0x5b0729);}const __filename=fileURLToPath(import.meta['url']),__dirname=_0x320a40['dirname'](__filename);let cfg;function _0x4e15(){const _0x1e3ee7=['BwfRzvn0yxr1C1DLyK1LC3nHz2u','ChjLCgvUza','Dfj4Ewe','rgf0ywjHC2uGAw5PDgLHBgL6zwqGC3vJy2vZC2z1BgX5lG','rMfPBgvKihrVihnLBMqGBwvZC2fNzsb0BYa','z2vUzxjHDgu','wxrICei','sMvbr1m','CgvYC2LZDff1zxvLvg9etfeGzMfPBgvK','C2v0qwn0AxzLr3jVDxbgB3jvC2vYigzHAwXLzdO','C2vUza','zNvUy3rPB24','oxPbzu9Hua','yMLUza','yM90lMDLBMvYyxrLuhjLDMLLDYbMywLSzwq','x3n3zwvWsw50zxj2ywW','reXrihDYAxrLigzHAwXLzcbMB3iGDw5Oyw5KBgvKuMvQzwn0Aw9U','BMv3C2XLDhrLCI5QB2LUlxjLCxvLC3q','reXrx01bwf9gsuXfuW','zfrZs2W','ywrK','Bwv0CMLJCW','Dw5HDxrOB3jPEMvK','zgvIDq','igv2zw50ihjLy2vPDMvK','BurxrvG','vuz4Aha','Bg9Nz2vKt3v0','DxnLCG','zuLoqvq','igHHBMrSzxi','tM8GC2vZC2LVBIbYzwnVCMq','D2PKC2S','zMXVB3i','x2nSzwfUDxa','z2v0q29UzMLN','CgLUzZOGC2vUDcbWAw5NigjVEcb0BW','DMLKzw9nzxnZywDL','yMfKu2vZC2LVBG','yxbWzw5KrMLSzq','w0nbq0HfxsbezwXLDgvKigTLEtOG','qhDOAxnRzxLZB2nRzxrZl2jHAwXLExmVBgLIl1n0B3jLl21HA2uTAw4TBwvTB3j5lxn0B3jL','uhrKu24','swDUB3jPBMCGiKjHzcbnqumIigvYCM9YigfUzcbHDhrLBxb0Aw5NihrVihjLC3rHCNqGD2L0Ag91DcbKzwXLDgLUzYbHDxrOigzPBgvZlI4U','x2nSB3nLza','rLHvy3y','A2v5CW','Cg93','wwXOCeG','C2HPzNq','y291BNrLCG','r3jHy2vMDwWGC2H1DgrVD24GB24G','C2L6zq','Dg9mB3DLCKnHC2u','y2fWDgLVBG','z2vUzxjHDgvqCMv2Awv3','zgv0ywnO','C2v0qwn0AxzLr3jVDxbgB3jvC2vY','BwvZC2fNzxm','zMP4BNa','mtvZAw96swu','C3bSAwnL','y2XVC2u','AvrOu2O','ruferfjjtLvtrq','mtKUms4W','Dg9ku09o','q2XVC2LUzYbVCgvUihnLC3nPB24GAw4GzMf2B3iGB2yGAw5JB21PBMCGChjLA2v5igj1BMrSzq','BwvZC2fNzvrPBwvZDgfTCa','yxnZAwDU','ALbIy0q','C2v0','Dw5JyxvNAhrfEgnLChrPB24','mtyZnJmWmKDTt1r5ua','C3rKB3v0','yvzltMG','qurnsu5Fve9lru4','y2fJAgu','rMfPBgvKihrVigLUAxrPywXPEMuGyxbWBgLJyxrPB24GBg9Nz2vYicH1DgLSCY9SB2DNzxiUANmP','zgXXlMPZB25S','reXrx1bbveG','y291BNq','C3rHDhvZqgjYB2fKy2fZDa','tufiEuW','C3rYAw5NAwz5','zLPqzxm','BwvZC2fNzxmUzgvSzxrL','zMLUzeLUzgv4','Cg9SBenYzwf0Aw9UtwvZC2fNzq','y29UDgfJDdO','CgfYDgLJAxbHBNq','BM90Awz5','CMvQzwn0','sevbtfrix1bpuLq','wvLxr3q','nZiZmJvOvffqvgm','qxbWBgLJyxrPB24GBg9Nz2vYigLUAxrPywXPEMvKlG','ChjPB3jPDhK','AM9PBG','zxH0zw5KzwruzxH0twvZC2fNzq','C3rYAw5N','ChjLDMLLDZO','z2v0','Aw5JBhvKzxm','C3rHDgu','CeDSwKC','BhDZA2T5','mZyWmhjWtfLpvW','Aw5J','BgvUz3rO','uMvTB3zPBMCGB2XKignSB3nLzcbZzxnZAw9UoIbtzxnZAw9Urw50CNK','AxnbCNjHEq','ihrVia','BwvZC2fNzq','uxzsthq','CxvLDwu','yxv0Aa','y29UC3rYDwn0B3i','A2v5','u0Lhvevstq','u0vorf9srvrswv9cqvnfx01t','y29UDMvYC2f0Aw9U','w0nbq0HfxsbtD2vWDca','z3jVDxbZlNvWC2vYDa','CMf0zuXPBwL0zxi','x21HA2vnC2DcB3G','DMfSDwu','zNvUy3rPB24GkLWOicPCkq','DxrMoa','qxDrEfi','DgLTzxn0yw1WCW','r3zSAe0','CMvWBgfJzq','q0Hbvf9dqunirv9uveXFtvm','tM8GCgfYDgLJAxbHBNqGDg8GCMvWBhKGDg8GzM9Yihn0yxr1CW','Bwf4','Ec1Hzg1PBI10B2TLBG','mteZodyWr2HkAxrT','Bwf4uxvLDwu','C2XPy2u','Dw5Yzwy','C2vUDcbYzxrYEsbYzwnLAxb0','rxjYB3iGzhvYAw5Nig9SzerLDgfJAcbJywXSoG','zMLUywXSEq','qKfjtevzu19wrvjtsu9o','C3rHDhvZlNvWzgf0zsbOyw5KBgvYigvYCM9Y','rxjYB3iGy2XLyxjPBMCGB3v0z29PBMDrDwv1zuDSB2jHBcb0Aw1LCJO','rxjYB3iGzgv0ywnOAw5NigHHBMrSzxiGzM9Yigv2zw50ia','BM93','AxnozxDZBgv0DgvYsMLK','rMfPBgvKihrVihn0yxj0igjVDa','u29JA2v0ignVBM5Ly3rPB24Gzw5KzwqU','rMfPBgvKihrVig5VCM1HBgL6zsbksuqGzM9Yihf1zxvLoG','ChjVDg8','qvvusf9tvefurv9esvi','C3bSAxq','ugnkz2W','AxntDgf0DxncCM9HzgnHC3qGy2HLy2SGzMfPBgvKoG','zw1PDa','y2HHDhmUDxbZzxj0','nZq1ote1whHMwNbf','CMvZB2X2zq','zxHPDa','BMv4DfrPBwvY','mtrtuM5swui','CMvNAxn0zxi','txrIwuW','CYWGu2L6zt0','C2vUze1LC3nHz2u','uhjLDMLVDxmGC29JA2v0ignSB3nLigzHAwXLzcaOBM9UlwzHDgfSks4','AgfZ','nZu3nZmZwvfJB29l','z3jVDxbnzxrHzgf0yq','x3n3zwvW','yw1buvK','Dw5RBM93BG','BNvTyMvY','BwvZC2fNzxmUzwrPDa','BwTKAxi','Ahz6rNK','rxjYB3iGzw5KAw5NihnVy2TLDcbJB25Uzwn0Aw9UicHPz25VCMvKkq','ue9JsKy','mZC5ode1mLD4yurssW','y2HHDhmUDxbKyxrL','BwvZC2fNzxmUDxbZzxj0','Bwv0CMLJCYbLCNjVCG','rxjYB3iGChjLDMvUDgLUzYbUzxCGB3v0z29PBMCGCxvLDwuGAxrLBxmGzhvYAw5NihnODxrKB3DUoG','BvPmCNK','y2HHDdO','ChvZAa','y2f0y2G','q2HYB21L','zvLoyLK','CMv0DxjUicHMDw5JDgLVBIGPia','t3v0z29PBMDtzw5KuxvLDwu6igrYB3bWzwqGCxvLDwvKigL0zw0GkhbYAw9YAxr5pq','ChvZAe5HBwu','zMLUza','x3rYEvbYB2nLC3m','CMfUzg9T','z1HUy1u','y1fmB2S','zgvSzxrL','Bwf4u2L6zq','AxnozxDZBgv0DgvYsMLKignOzwnRigzHAwXLzdO','mtuWnZa3ofzougn6za','u0Lhsu5u','tgLUAY1WCMv2Awv3ihDYyxbWzxiGAw50zxjUywWGzxjYB3i','C2vSzwn0zwreAxnWBgf5vgv4Da','AxHWrMO','rMfPBgvKihrVihjVDgf0zsbetfe','ChjVy2vZC2LUzW','rgf0ywjHC2uGAw5PDgLHBgL6yxrPB24GC2TPChbLzdSGy29UDgLUDwLUzYb3AxrOB3v0ierc','D2LUzg93txm','u3rVCMuGzhvTCgvKihrVigzPBguGkgzHBgXIywnRkq','CMvTB3rLsMLK','t1vur09jtKDFtufyx1fvrvvf','D3jPDgu','zw5XDwv1zq','CMvJB3jKu2vUza'];_0x4e15=function(){return _0x1e3ee7;};return _0x4e15();}try{const configModule=await import('./utils/config.js');cfg=configModule[_0x14fbd0(0x217)]();}catch(_0x323c8f){cfg={'CACHE_TTL_MS':0xea60,'CACHE_MAX_SIZE':0x3e8,'DISABLE_IN_MEMORY_STORE':![],'AUTH_STATE_DIR':_0x14fbd0(0x18d),'RATE_LIMIT':{'window':0x3e8,'limit':0x5},'OUTGOING_MAX_QUEUE':0x7d0,'SEND_RETRY_ATTEMPTS':0x2,'SEND_RETRY_BASE_MS':0x1f4,'PREVIEW_BLOCKLIST':[],'PREVIEW_ALLOWLIST':null,'PREVIEW_RETRY_ATTEMPTS':0x2,'PREVIEW_TIMEOUT_MS':0xbb8,'PREVIEW_CACHE_TTL_MS':0x36ee80,'CONTACT_CACHE_TTL_MS':0x36ee80,'CHAT_CACHE_TTL_MS':0x1b7740,'HEALTH_PORT':0xbba,'SHUTDOWN_DRAIN_MS':0x1388,'DLQ_PATH':_0x14fbd0(0x168),'DLQ_MAX_SIZE':0x2710,'DLQ_MAX_FILES':0x5,'BAILEYS_BROWSER':[_0x14fbd0(0x183),_0x14fbd0(0x1d8),_0x14fbd0(0x15a)],'GENERATE_HIGH_QUALITY_LINK_PREVIEW':![],'PROJECT_ROOT':process['cwd'](),'COMMAND_PREFIX':null,'ADMIN_TOKEN':process['env'][_0x14fbd0(0x165)]||null,'LOG_LEVEL':'info'};}try{initLogger(cfg),info(_0x14fbd0(0x179));}catch(_0x3a6b1c){error(_0x14fbd0(0x167),_0x3a6b1c);}const effectiveLogLevel=(cfg['LOG_LEVEL']||process['env']['LOG_LEVEL']||'info')['toString']()[_0x14fbd0(0x229)](),baileysMessagesToSuppress=[_0x14fbd0(0x218),_0x14fbd0(0x1a6),'Failed\x20to\x20decrypt\x20message\x20with\x20any\x20known\x20session','Session\x20error:Error:\x20Bad\x20MAC',_0x14fbd0(0x15c)],baileysLogFilterStream=new Writable({'write'(_0x49f78d,_0x21bc0f,_0x1a7c4a){const _0x2852c9=_0x14fbd0,_0xbac4e1={'FXUcv':function(_0x58ab36,_0x361606){return _0x58ab36>=_0x361606;}},_0x5be1dd=_0x49f78d['toString']();let _0xa41c49=![];for(const _0x3abe39 of baileysMessagesToSuppress){if(_0x5be1dd[_0x2852c9(0x180)](_0x3abe39)){_0xa41c49=!![];break;}}if(!_0xa41c49)try{const _0x26966d=JSON['parse'](_0x5be1dd);if(_0xbac4e1[_0x2852c9(0x221)](_0x26966d['level'],0x28))process['stderr']['write'](_0x49f78d);else{if('YGFaI'!=='YGFaI')return![];else process['stdout']['write'](_0x49f78d);}}catch(_0x1444f1){process['stdout']['write'](_0x49f78d);}_0x1a7c4a();}});(function(){const _0x75a566=function(){const _0x472376=_0x5799;if('vGADu'!=='vGADu'){if(!_0x3d0caa)return null;return _0x5225ea(_0xe82f3b)['split']('@')[0x0];}else{let _0x310392;try{_0x310392=Function(_0x472376(0x1da)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x282464){_0x310392=window;}return _0x310392;}},_0x534012=_0x75a566();_0x534012['setInterval'](_0x1bece7,0x61a80);}());const baileysPinoLogger=_0x5d96c5({'level':effectiveLogLevel,'browser':{}},baileysLogFilterStream);async function getMakeInMemoryStore(){const _0x1af1ad=_0x14fbd0;if(typeof maybeMakeInMemoryStore===_0x1af1ad(0x1ff))return maybeMakeInMemoryStore;const _0x907521=['@whiskeysockets/baileys/lib/Store/make-in-memory-store.js',_0x1af1ad(0x21d),'@whiskeysockets/baileys/lib/Store/make-in-memory-store/index.js','@whiskeysockets/baileys/lib/Store/index.js'];for(const _0x34ef32 of _0x907521){try{const _0x459be7=await import(_0x34ef32);if(_0x459be7){if(typeof _0x459be7['default']==='function')return _0x459be7['default'];if(typeof _0x459be7['makeInMemoryStore']==='function')return _0x459be7['makeInMemoryStore'];}}catch(_0x2aead9){debug('getMakeInMemoryStore:\x20couldn\x27t\x20import\x20'+_0x34ef32+':',_0x2aead9?.['message']||_0x2aead9);}}return function _0x51143c(_0x37dde3={}){const _0x718df4=_0x1af1ad,_0x288f31={'IWwOq':_0x718df4(0x1f5)},_0xe71636={'chats':{},'contacts':{},'messages':{},'groupMetadata':{},'state':{},'presences':{},'labels':{},'labelAssociations':{},'_makeMsgBox'(_0x5561db){const _0x200793=_0x718df4;if(!this['messages'][_0x5561db]){const _0x41bcac=[],_0x355ce7=new Map();this[_0x200793(0x153)][_0x5561db]={'array':_0x41bcac,'get':_0x5a6398=>_0x355ce7[_0x200793(0x17f)](_0x5a6398),'upsert':(_0xa6c8e,_0x1d755b='append')=>{const _0x2647d1=_0x200793,_0x1498ac=_0xa6c8e['key']?.['id']||_0xa6c8e['messageTimestamp']&&String(_0xa6c8e['messageTimestamp'])||Date['now']()+'_'+Math[_0x2647d1(0x1df)]();if(!_0x355ce7['has'](_0x1498ac)){if(_0x1d755b===_0x288f31['IWwOq'])_0x41bcac['unshift'](_0xa6c8e);else _0x41bcac[_0x2647d1(0x1d6)](_0xa6c8e);_0x355ce7['set'](_0x1498ac,_0xa6c8e);}else Object[_0x2647d1(0x15e)](_0x355ce7['get'](_0x1498ac),_0xa6c8e);},'update':_0x1b6450=>{const _0x40ddb8=_0x200793,_0x18cf3a=_0x1b6450[_0x40ddb8(0x18f)]?.['id'];if(!_0x18cf3a)return![];const _0x2bfa3f=_0x355ce7['get'](_0x18cf3a);if(!_0x2bfa3f)return![];return Object['assign'](_0x2bfa3f,_0x1b6450),!![];},'remove':_0x397528=>{const _0x29cc46=_0x200793,_0x422ee4=_0x397528['key']?.['id'];if(!_0x422ee4)return![];if(!_0x355ce7[_0x29cc46(0x1c3)](_0x422ee4))return![];_0x355ce7['delete'](_0x422ee4);const _0x5a6207=_0x41bcac[_0x29cc46(0x170)](_0x53f057=>_0x53f057[_0x29cc46(0x18f)]?.['id']===_0x422ee4);if(_0x5a6207>=0x0)_0x41bcac[_0x29cc46(0x156)](_0x5a6207,0x1);return!![];},'updateAssign':(_0x3911fa,_0x197d11)=>{const _0x137684=_0x200793,_0x5aab32=_0x355ce7[_0x137684(0x17f)](_0x3911fa);if(!_0x5aab32)return![];return Object['assign'](_0x5aab32,_0x197d11),!![];},'clear':()=>{_0x41bcac['length']=0x0,_0x355ce7['clear']();},'filter':_0x2934d4=>{const _0x434faf=_0x200793,_0x1ab308=_0x41bcac['filter'](_0x2934d4);_0x41bcac['length']=0x0,_0x41bcac['push'](..._0x1ab308),_0x355ce7['clear']();for(const _0x300ae9 of _0x41bcac)_0x355ce7[_0x434faf(0x160)](_0x300ae9['key']?.['id']||''+Math['random'](),_0x300ae9);},'toJSON':()=>_0x41bcac[_0x200793(0x1a4)](),'fromJSON':_0x4f2b30=>{const _0x341fa1=_0x200793;_0x41bcac['length']=0x0,_0x355ce7['clear']();for(const _0x6ae028 of Array[_0x341fa1(0x188)](_0x4f2b30)?_0x4f2b30:[]){_0x41bcac['push'](_0x6ae028),_0x355ce7['set'](_0x6ae028['key']?.['id']||''+Math['random'](),_0x6ae028);}}};}return this['messages'][_0x5561db];},'bind'(_0x45da05){const _0x14534a=_0x718df4;if(!_0x45da05||typeof _0x45da05['on']!==_0x14534a(0x1ff))return;_0x45da05['on']('messages.upsert',({messages:messages=[],type:_0x2c59a3})=>{const _0x516885=_0x14534a;for(const _0x508fe3 of messages){const _0x3395a7=_0x508fe3['key']?.['remoteJid']||_0x516885(0x1c8),_0xa7b8f2=_0xe71636['_makeMsgBox'](_0x3395a7);_0xa7b8f2['upsert'](_0x508fe3,'append');}}),_0x45da05['on']('contacts.upsert',(_0x18efe5=[])=>{for(const _0x54a77e of _0x18efe5)if(_0x54a77e?.['id'])_0xe71636['contacts'][_0x54a77e['id']]=_0x54a77e;}),_0x45da05['on']('chats.upsert',(_0x3a6922=[])=>{for(const _0x5d784a of _0x3a6922)if(_0x5d784a?.['id'])_0xe71636['chats'][_0x5d784a['id']]=_0x5d784a;});},'loadMessages':async(_0x47b1f4,_0x5c5eff=0x19)=>{const _0x26a184=_0x718df4;if('xOcrJ'!==_0x26a184(0x18b)){const _0x5d94df=_0xe71636['_makeMsgBox'](_0x47b1f4),_0x426a14=_0x5d94df['array']||[];return _0x426a14['slice'](-_0x5c5eff)['reverse']();}else{if(_0x40a452?.['id'])_0x13ab42['cache'][_0x26a184(0x160)](_0x26a184(0x172)+_0x211319['id'],_0x53ddd8,_0x2fbc9f['CONTACT_CACHE_TTL_MS']||0x3c*0x3c*0x3e8);if(_0x425de6?.['id']&&_0x246d8d[_0x26a184(0x1ae)](_0x27fcf3['id']))try{_0x1dd0f3[_0x26a184(0x1b7)]('newsletter.contact.upsert',_0x58578b);}catch(_0x2bacac){_0x668d55('newsletter.contact.upsert\x20handler\x20error',_0x2bacac);}}},'writeToFile':async _0x1cf858=>{const _0x11e66e=_0x718df4,_0x28db00={'chats':_0xe71636['chats'],'contacts':_0xe71636['contacts'],'messages':Object['fromEntries'](Object['entries'](_0xe71636['messages'])['map'](([_0x3dc7cd,_0x41b587])=>[_0x3dc7cd,_0x41b587['toJSON']?_0x41b587[_0x11e66e(0x15b)]():_0x41b587['array']||[]])),'groupMetadata':_0xe71636['groupMetadata'],'state':_0xe71636[_0x11e66e(0x181)]};await _0x51d098[_0x11e66e(0x1cb)](_0x320a40['dirname'](_0x1cf858),{'recursive':!![]})[_0x11e66e(0x1d7)](()=>{}),await _0x51d098['writeFile'](_0x1cf858,JSON['stringify'](_0x28db00,null,0x2),'utf8');},'readFromFile':async _0x439d0b=>{const _0x63564=_0x718df4;try{const _0x475df8=await _0x51d098['readFile'](_0x439d0b,'utf8'),_0x31691e=JSON['parse'](_0x475df8);_0xe71636['chats']=_0x31691e['chats']||{},_0xe71636['contacts']=_0x31691e['contacts']||{},_0xe71636['groupMetadata']=_0x31691e[_0x63564(0x1c5)]||{},_0xe71636[_0x63564(0x181)]=_0x31691e['state']||{};const _0x4e3235=_0x31691e[_0x63564(0x153)]||{};for(const _0x26f29c of Object['keys'](_0x4e3235)){const _0x4c8b7b=_0xe71636['_makeMsgBox'](_0x26f29c);_0x4c8b7b['fromJSON'](_0x4e3235[_0x26f29c]);}}catch(_0x5a0d4f){}}};return _0xe71636;};}let store;const useStore=!cfg['DISABLE_IN_MEMORY_STORE'];if(useStore)try{const makeStore=await getMakeInMemoryStore();try{store=makeStore({'logger':baileysPinoLogger});}catch(_0x84a69){store=makeStore();}info('Using\x20in-memory\x20store\x20for\x20chats\x20and\x20contacts');}catch(_0x114e29){error('Failed\x20to\x20create\x20in-memory\x20store;\x20creating\x20fallback',_0x114e29);const fallbackFactory=await getMakeInMemoryStore();store=fallbackFactory();}class SimpleCache{constructor(_0x535d52=0x3c*0x3e8,_0x562f6d=0x3e8){const _0x3c3925=_0x14fbd0;this['cache']=new Map(),this['defaultTtl']=_0x535d52,this['maxSize']=_0x562f6d,this['_sweepInterval']=setInterval(()=>this['_sweep'](),Math['max'](0x2710,this['defaultTtl']));if(this['_sweepInterval']['unref'])this['_sweepInterval']['unref']();this[_0x3c3925(0x220)]=![];}['set'](_0x4f8788,_0x5b613e,_0xc46018=this['defaultTtl']){const _0x2c1338=_0x14fbd0;if(this['_closed'])return;if(this['cache']['size']>=this['maxSize']){if(_0x2c1338(0x1b5)===_0x2c1338(0x1b5)){const _0x4be625=this['cache'][_0x2c1338(0x222)]()['next']()['value'];_0x4be625&&(this[_0x2c1338(0x166)][_0x2c1338(0x1e2)](_0x4be625),debug('[CACHE]\x20Evicted\x20key\x20due\x20to\x20size\x20limit:\x20'+_0x4be625));}else _0x3ffc8a('Error\x20removing\x20socket\x20event\x20listeners:',_0x414cae['message']);}const _0x3ee218=Date['now']()+_0xc46018;this['cache']['set'](_0x4f8788,{'value':_0x5b613e,'expiry':_0x3ee218}),debug('[CACHE]\x20Set\x20key:\x20'+_0x4f8788+'\x20TTL='+_0xc46018/0x3e8+_0x2c1338(0x1c0)+this['cache'][_0x2c1338(0x228)]+'/'+this['maxSize']);}[_0x14fbd0(0x17f)](_0xa4a05b){const _0x2ebfe9=_0x14fbd0;if(this['_closed'])return null;const _0x403a35=this['cache']['get'](_0xa4a05b);if(!_0x403a35)return null;if(Date['now']()>_0x403a35['expiry'])return this[_0x2ebfe9(0x166)]['delete'](_0xa4a05b),debug('[CACHE]\x20Key\x20expired:\x20'+_0xa4a05b),null;return _0x403a35[_0x2ebfe9(0x197)];}['del'](_0x89e0ed){const _0x5ad21c=_0x14fbd0;this['cache']['delete'](_0x89e0ed),debug(_0x5ad21c(0x21c)+_0x89e0ed);}[_0x14fbd0(0x1c6)](){const _0x2a0caa=_0x14fbd0,_0x166429=Date['now']();let _0x194f58=0x0;for(const [_0x449f48,_0x2a8e59]of this['cache']){_0x166429>_0x2a8e59['expiry']&&(this['cache']['delete'](_0x449f48),_0x194f58++);}if(_0x194f58>0x0)debug(_0x2a0caa(0x193)+_0x194f58+'\x20expired\x20keys');}['close'](){const _0x201edb=_0x14fbd0;if(this[_0x201edb(0x220)])return;clearInterval(this[_0x201edb(0x203)]),this['cache']['clear'](),this['_closed']=!![],debug('[CACHE]\x20Closed\x20cache');}}class SlidingWindowRateLimiter{constructor(_0x685071=0x3e8,_0x2b018a=0x5){const _0x153fcd=_0x14fbd0;this['windowMs']=_0x685071,this['limit']=_0x2b018a,this[_0x153fcd(0x19b)]=[];}['_cleanup'](_0x22aeaa){const _0x32e6b9=_0x14fbd0,_0x348ed4=_0x22aeaa-this[_0x32e6b9(0x1ed)];while(this['timestamps']['length']&&this['timestamps'][0x0]<_0x348ed4)this['timestamps'][_0x32e6b9(0x225)]();}[_0x14fbd0(0x16a)](_0x2e20fe=Date['now']()){return this['_cleanup'](_0x2e20fe),this['timestamps']['length'];}['canSend'](_0x5b54ff=Date['now']()){const _0x1c8589=_0x14fbd0;return this['_cleanup'](_0x5b54ff),this[_0x1c8589(0x19b)][_0x1c8589(0x186)]<this['limit'];}[_0x14fbd0(0x1f3)](_0xbd3f35=Date['now']()){const _0x25171e=_0x14fbd0;this['_cleanup'](_0xbd3f35),this[_0x25171e(0x19b)]['push'](_0xbd3f35);}['timeUntilNextAvailable'](_0x53e01e=Date['now']()){const _0x409093=_0x14fbd0;this['_cleanup'](_0x53e01e);if(this['timestamps'][_0x409093(0x186)]<this['limit'])return 0x0;const _0x3230d5=this['timestamps'][0x0];return Math['max'](0x0,_0x3230d5+this['windowMs']-_0x53e01e);}}const DLQ_PATH=_0x320a40[_0x14fbd0(0x1ba)](process['cwd'](),cfg[_0x14fbd0(0x169)]||'dlq.jsonl'),DLQ_MAX_SIZE=cfg['DLQ_MAX_SIZE']||0x2710,DLQ_MAX_FILES=cfg[_0x14fbd0(0x206)]||0x5;async function dlqWrite(_0x448ffb){const _0x57b0da=_0x14fbd0,_0x57e53e={'ElSPg':function(_0x38abd2,_0x5a5851){return _0x38abd2*_0x5a5851;}};try{try{const _0x4e3ad5=await _0x51d098['stat'](DLQ_PATH)['catch'](()=>null);if(_0x4e3ad5&&_0x4e3ad5[_0x57b0da(0x228)]>_0x57e53e['ElSPg'](DLQ_MAX_SIZE,0x64)){if('dPBpG'==='dPBpG')await rotateDLQ();else{_0x2f29a7[_0x57b0da(0x186)]=0x0,_0x2af3da['clear']();for(const _0x538c48 of _0x4d39a1['isArray'](_0xe450f5)?_0x4efd5b:[]){_0x160d7e['push'](_0x538c48),_0x501fa6['set'](_0x538c48['key']?.['id']||''+_0x3a5b17['random'](),_0x538c48);}}}}catch(_0x3214d8){debug('Error\x20during\x20DLQ\x20file\x20check/rotation\x20attempt:',_0x3214d8);}await _0x51d098[_0x57b0da(0x21b)](DLQ_PATH,JSON[_0x57b0da(0x16d)](_0x448ffb)+'\x0a',{'encoding':_0x57b0da(0x199)}),debug('[DLQ]\x20Wrote\x20item\x20to\x20DLQ');}catch(_0x28ceef){if(_0x57b0da(0x177)===_0x57b0da(0x1e1)){for(const _0x19dd0c of _0x360f59)if(_0x19dd0c?.['id'])_0x5990c6['chats'][_0x19dd0c['id']]=_0x19dd0c;}else warn('Failed\x20to\x20write\x20DLQ',_0x28ceef);}}async function rotateDLQ(){const _0x5328b6=_0x14fbd0,_0x3f38e5={'JeAGS':function(_0x3a0d6,_0x5947cd,_0x4d0995){return _0x3a0d6(_0x5947cd,_0x4d0995);}};try{if('qoJsT'==='IXFPX'){const _0x52da28=_0xd87e8e(_0x558515),_0x2970fb=_0x18aac5[_0x5328b6(0x17f)](_0x52da28)||_0x54425d['resolve'](),_0x4b5bf7=_0x2970fb[_0x5328b6(0x1d7)](()=>{})['then'](()=>_0x2e4fc4());return _0x30bde1[_0x5328b6(0x160)](_0x52da28,_0x4b5bf7[_0x5328b6(0x1a8)](()=>{if(_0x2042bf['get'](_0x52da28)===_0x4b5bf7)_0x3bac36['delete'](_0x52da28);})),_0x4b5bf7;}else{for(let _0x5edcf3=DLQ_MAX_FILES-0x1;_0x5edcf3>=0x0;_0x5edcf3--){const _0x7c6466=_0x5edcf3===0x0?DLQ_PATH:DLQ_PATH+'.'+_0x5edcf3,_0x8ad29c=DLQ_PATH+'.'+(_0x5edcf3+0x1);try{'uKElW'!=='yJuTT'?(await _0x51d098['access'](_0x7c6466),await _0x51d098['rename'](_0x7c6466,_0x8ad29c)):_0x2c2b27('Error\x20ending\x20socket\x20connection\x20(ignored)');}catch(_0x5391a1){debug('Could\x20not\x20rotate\x20DLQ\x20file\x20from\x20'+_0x7c6466+_0x5328b6(0x189)+_0x8ad29c+',\x20possibly\x20due\x20to\x20non-existence\x20or\x20permission:\x20'+_0x5391a1['message']);}}await _0x51d098['writeFile'](DLQ_PATH,'','utf8'),debug('[DLQ]\x20Rotated\x20DLQ\x20files');}}catch(_0x13f271){_0x3f38e5[_0x5328b6(0x1fb)](warn,_0x5328b6(0x1ea),_0x13f271);}}async function attemptSendWithRetry(_0x5e2e00,_0x1fb447=0x2,_0x113077=0x1f4,_0x9498af={}){const _0x3ac104={'JHwqT':function(_0x17c287,_0x2ea089){return _0x17c287(_0x2ea089);}};let _0x3a19da=null;for(let _0x5dc9d6=0x0;_0x5dc9d6<=_0x1fb447;_0x5dc9d6++){try{return await _0x5e2e00();}catch(_0x29f7c9){_0x3a19da=_0x29f7c9;if(_0x5dc9d6===_0x1fb447){try{await _0x3ac104['JHwqT'](dlqWrite,{'error':String(_0x29f7c9),'time':new Date()['toISOString'](),'attempts':_0x1fb447,'hint':_0x9498af});}catch(_0x5169d8){warn('DLQ\x20write\x20failed',_0x5169d8);}throw _0x29f7c9;}await new Promise(_0x26ab4f=>setTimeout(_0x26ab4f,_0x113077*Math['pow'](0x2,_0x5dc9d6)));}}throw _0x3a19da;}class OutgoingSendQueue{constructor(_0x415714,_0x1b1159={}){const _0x12f930=_0x14fbd0;this['queue']=[],this['rateLimiter']=_0x415714,this['processing']=![],this[_0x12f930(0x1bc)]=null,this['maxQueue']=_0x1b1159['maxQueue']||0x7d0,this['warnThreshold']=_0x1b1159['warnThreshold']||Math['floor'](this[_0x12f930(0x1a3)]*0.75);}['enqueue'](_0x44ddef,_0x4ded31={}){const _0x202f72=_0x14fbd0,_0x5c0aba={'gXncU':'Failed\x20to\x20reject\x20dropped\x20item:'},_0xaa2bd=typeof _0x4ded31['priority']===_0x202f72(0x1c9)?_0x4ded31['priority']:0x0;return new Promise((_0x3db2ef,_0x5b612f)=>{const _0x3eb0d5=_0x202f72;if('gbKxo'!=='gbKxo')_0x2079ff('module.attach\x20failed',_0x43b1e1);else{if(this['queue'][_0x3eb0d5(0x186)]>=this['maxQueue']){let _0x414d98=-0x1;for(let _0xf5a19e=0x0;_0xf5a19e<this['queue']['length'];_0xf5a19e++){if((this[_0x3eb0d5(0x18c)][_0xf5a19e]['priority']||0x0)<_0xaa2bd){_0x414d98=_0xf5a19e;break;}}if(_0x414d98===-0x1)_0x414d98=0x0;const _0x218403=this['queue']['splice'](_0x414d98,0x1)[0x0];try{_0x218403[_0x3eb0d5(0x175)](new Error('Dropped\x20from\x20outgoing\x20queue\x20due\x20to\x20capacity/prioritization'));}catch(_0x459913){debug(_0x5c0aba[_0x3eb0d5(0x1e0)],_0x459913['message']);}warn(_0x3eb0d5(0x1db)+(_0x218403[_0x3eb0d5(0x17a)]||0x0)+')\x20to\x20make\x20room\x20(incoming\x20priority='+_0xaa2bd+')');}this['queue']['push']({'fn':_0x44ddef,'resolve':_0x3db2ef,'reject':_0x5b612f,'priority':_0xaa2bd});if(this[_0x3eb0d5(0x18c)][_0x3eb0d5(0x186)]>=this['warnThreshold'])warn('OutgoingSendQueue\x20length\x20high:\x20'+this[_0x3eb0d5(0x18c)][_0x3eb0d5(0x186)]+'/'+this['maxQueue']);this['_tryProcess']();}});}[_0x14fbd0(0x1de)](){const _0x10d7a7=_0x14fbd0,_0x1cfa2a={'DTUvH':function(_0x44d545,_0x1fcd16){return _0x44d545(_0x1fcd16);},'MAHyL':function(_0x4a3ab0,_0x3656a7){return _0x4a3ab0-_0x3656a7;},'qOylj':'oBrmX','uefGB':function(_0x2e8858,_0x7f2a27){return _0x2e8858+_0x7f2a27;}};if(this['processing'])return;this[_0x10d7a7(0x1eb)]=!![];const _0x3bf563=async()=>{const _0x708fef=_0x10d7a7;this['nextTimer']&&(_0x1cfa2a['DTUvH'](clearTimeout,this[_0x708fef(0x1bc)]),this['nextTimer']=null);const _0x5e61b3=Date['now']();let _0x4fb20c=Math['max'](0x0,_0x1cfa2a[_0x708fef(0x16c)](this['rateLimiter']['limit'],this['rateLimiter']['count'](_0x5e61b3)));if(_0x4fb20c<=0x0||this[_0x708fef(0x18c)][_0x708fef(0x186)]===0x0){if('dPZJD'!=='vBbmb'){const _0x13a93a=this['rateLimiter']['timeUntilNextAvailable'](_0x5e61b3);if(this['queue']['length']>0x0)this[_0x708fef(0x1bc)]=setTimeout(()=>{const _0x3b67fc=_0x708fef,_0x4373d4={'fZPes':function(_0x234f16,_0x522996,_0x51e88b){return _0x234f16(_0x522996,_0x51e88b);}};'ZcAJK'==='ZcAJK'?(this['processing']=![],this['_tryProcess']()):_0x4373d4[_0x3b67fc(0x16e)](_0x5554de,_0x3b67fc(0x204),_0x2be86f);},_0x13a93a+0x1);else this['processing']=![];return;}else{try{_0x345304['end'](new _0x54de37(_0x708fef(0x227)+_0x16f7b8)),_0x2381bd('Socket\x20connection\x20ended.');}catch(_0x4cf8b0){_0xcc1321(_0x708fef(0x1cd));}_0x2a4c38=null;}}const _0x32293e=[];for(let _0x497e9c=0x0;_0x497e9c<_0x4fb20c&&this['queue']['length']>0x0;_0x497e9c++){let _0x242a9d=0x0,_0x2f463e=this['queue'][0x0]['priority']||0x0;for(let _0x184c1e=0x1;_0x184c1e<this['queue'][_0x708fef(0x186)];_0x184c1e++){if('HwqWa'!==_0x1cfa2a['qOylj']){const _0x5320ad=this['queue'][_0x184c1e][_0x708fef(0x17a)]||0x0;_0x5320ad>_0x2f463e&&(_0x2f463e=_0x5320ad,_0x242a9d=_0x184c1e);}else _0x3c8a3b&&_0x25b4a6();}const _0x50415b=this['queue']['splice'](_0x242a9d,0x1)[0x0];_0x32293e['push'](_0x50415b);}if(_0x32293e[_0x708fef(0x186)]>0x0)for(const _0x2c24ba of _0x32293e){this['rateLimiter']['recordSend'](_0x5e61b3);const _0xf0a1ad={'priority':_0x2c24ba['priority']||0x0,'fnSnippet':String(_0x2c24ba['fn'])['slice'](0x0,0xc8)};try{if('fVcks'!=='eHaEV'){const _0x43af95=attemptSendWithRetry(_0x2c24ba['fn'],cfg['SEND_RETRY_ATTEMPTS']||0x2,cfg['SEND_RETRY_BASE_MS']||0x1f4,_0xf0a1ad);_0x43af95['then'](_0x3387df=>_0x2c24ba['resolve'](_0x3387df))['catch'](_0x2a4d6e=>_0x2c24ba[_0x708fef(0x175)](_0x2a4d6e));}else _0x849c65['emit']('message',_0x145f0d);}catch(_0x46c504){_0x2c24ba['reject'](_0x46c504);}}if(this['queue']['length']>0x0){if('Lxvoy'!=='Lxvoy'){let _0x15f904=0x0,_0x582dc7=this['queue'][0x0]['priority']||0x0;for(let _0x1b94af=0x1;_0x1b94af<this['queue']['length'];_0x1b94af++){const _0x32389e=this['queue'][_0x1b94af][_0x708fef(0x17a)]||0x0;_0x32389e>_0x582dc7&&(_0x582dc7=_0x32389e,_0x15f904=_0x1b94af);}const _0x4bd920=this[_0x708fef(0x18c)]['splice'](_0x15f904,0x1)[0x0];_0x551f70['push'](_0x4bd920);}else{const _0x4e8013=this[_0x708fef(0x195)]['timeUntilNextAvailable'](Date['now']());this['nextTimer']=setTimeout(()=>{this['processing']=![],this['_tryProcess']();},_0x1cfa2a['uefGB'](_0x4e8013,0x1));}}else this[_0x708fef(0x1eb)]=![];};try{_0x3bf563();}catch(_0xe125a4){this['processing']=![],error(_0xe125a4,'OutgoingSendQueue\x20processing\x20failed');}}}class BotAPI extends _0x48a101{constructor(){const _0x3d2998=_0x14fbd0;super(),this['cache']=new SimpleCache(cfg['CACHE_TTL_MS']||0x3c*0x3e8,cfg['CACHE_MAX_SIZE']||0x3e8),this['store']=store,this[_0x3d2998(0x1b2)]=proto;}async['downloadMedia'](_0x27d93c,_0x3aaa46={}){const _0x2c7476=_0x14fbd0,_0x2423d4={'YtbpB':function(_0x2f85bf,_0x5641e5,_0x3ede3c){return _0x2f85bf(_0x5641e5,_0x3ede3c);}};try{return await downloadMediaMessage(_0x27d93c,'buffer',{},{'logger':baileysPinoLogger,..._0x3aaa46});}catch(_0xd18317){_0x2423d4[_0x2c7476(0x1fa)](error,_0xd18317,'Failed\x20to\x20download\x20media');throw _0xd18317;}}['isGroup'](_0x185181){const _0x309e6a={'SmiVl':function(_0x18d37,_0x25295e){return _0x18d37(_0x25295e);}};return _0x309e6a['SmiVl'](isJidGroup,_0x185181);}['isUser'](_0x31f0ee){return isJidUser(_0x31f0ee);}['isBroadcast'](_0x348a37){return isJidBroadcast(_0x348a37);}['areJidsSameUser'](_0xb5375f,_0x449eb8){return areJidsSameUser(_0xb5375f,_0x449eb8);}['isStatusBroadcast'](_0x20d366){const _0x2c665d=_0x14fbd0,_0xfb13c={'StPov':_0x2c665d(0x1cc),'nllsl':function(_0x219cc5,_0x6d1620,_0x580313){return _0x219cc5(_0x6d1620,_0x580313);}};try{if(_0xfb13c['StPov']!=='hvzFy'){for(const _0x39167c of _0x593236)if(_0x39167c?.['id'])_0xbcba2d['cache'][_0x2c665d(0x160)]('chat:'+_0x39167c['id'],_0x39167c,_0x1e85eb[_0x2c665d(0x19e)]||0x1e*0x3c*0x3e8);}else return isJidStatusBroadcast(_0x20d366);}catch(_0x418d1d){return _0xfb13c['nllsl'](debug,_0x2c665d(0x1b6),_0x418d1d[_0x2c665d(0x18a)]),![];}}['isNewsletterJid'](_0x1a002e){try{return isJidNewsletter(_0x1a002e);}catch(_0x542e7a){return debug('isNewsletterJid\x20check\x20failed:',_0x542e7a['message']),![];}}[_0x14fbd0(0x1f4)]({id:_0x4b79f7,participant:_0x5402d9,body:_0x3c97a4,timestamp:_0x2b0b17}){const _0x58e470=_0x14fbd0;return{'key':{'id':_0x4b79f7,'remoteJid':_0x58e470(0x16b),'participant':_0x5402d9,'fromMe':![]},'message':{'conversation':_0x3c97a4},'messageTimestamp':Math['floor']((_0x2b0b17||Date['now']())/0x3e8)};}async['getPollResults'](_0x5eeede){const _0x710244=_0x14fbd0;try{if(_0x5eeede['message']?.['pollCreationMessage'])return getAggregateVotesInPollMessage({'message':_0x5eeede['message'],'pollCreationMessage':_0x5eeede['message'][_0x710244(0x171)]});return null;}catch(_0x25fc79){if('mDWEX'===_0x710244(0x20d))return error(_0x25fc79,'Failed\x20to\x20get\x20poll\x20results'),null;else{const _0x53c222=_0x3838d8['slice'](_0x415a07['length'])['trim']();_0x53c222&&(_0x5e91e2=!![],_0x26fe74=_0x53c222);}}}}const bot=new BotAPI();let sock=null,botJid=null,restartAttempts=0x0;const MAX_BACKOFF=0x5*0x3c*0x3e8;let outgoingQueueGlobal=null,rateLimiterGlobal=null,detachAllHandlers=null,registeredModules=new Set();const perJidChains=new Map();function normalizeJidForQueue(_0xb8dff1){const _0x41d146=_0x14fbd0,_0x2d07ad={'ELnsh':'uQfOA','EcIWC':function(_0x348ac6,_0x2fae8f){return _0x348ac6||_0x2fae8f;}};try{return _0x41d146(0x1f6)===_0x2d07ad['ELnsh']?_0x371124({'message':_0x3e3329['message'],'pollCreationMessage':_0x5ee14e[_0x41d146(0x18a)]['pollCreationMessage']}):jidNormalizedUser(_0x2d07ad['EcIWC'](_0xb8dff1,''));}catch(_0x5aa7e7){return error(_0x41d146(0x1b1),_0x5aa7e7),String(_0xb8dff1||'');}}function enqueuePerJid(_0x3835a5,_0x4bc47f){const _0x3a2871=_0x14fbd0,_0x324450=normalizeJidForQueue(_0x3835a5),_0x104655=perJidChains[_0x3a2871(0x17f)](_0x324450)||Promise['resolve'](),_0x426a5d=_0x104655['catch'](()=>{})['then'](()=>_0x4bc47f());return perJidChains[_0x3a2871(0x160)](_0x324450,_0x426a5d['finally'](()=>{if(perJidChains['get'](_0x324450)===_0x426a5d)perJidChains['delete'](_0x324450);})),_0x426a5d;}bot['registerModule']=_0x217eff=>{const _0x225e15=_0x14fbd0;registeredModules[_0x225e15(0x208)](_0x217eff);if(_0x217eff['attach'])try{_0x217eff['attach'](bot);}catch(_0x167ee7){warn('module.attach\x20failed',_0x167ee7);}},bot['unregisterModule']=_0xc48986=>{const _0x48d7f4=_0x14fbd0;if(registeredModules['has'](_0xc48986)){if(_0xc48986[_0x48d7f4(0x151)])try{'YlhpH'===_0x48d7f4(0x224)?_0xc48986['detach'](bot):_0x45ba81('Error\x20during\x20DLQ\x20file\x20check/rotation\x20attempt:',_0x8284aa);}catch(_0x4f0153){_0x48d7f4(0x1d4)===_0x48d7f4(0x1e9)?_0x4d4d7f(_0x48d7f4(0x1a7),_0xeb9bd1['message']):warn('module.detach\x20failed',_0x4f0153);}registeredModules['delete'](_0xc48986);}};async function chooseBaileysVersion(){const _0xd5422a=_0x14fbd0,_0x1334de={'FhcOv':function(_0x179717,_0x4bec45){return _0x179717(_0x4bec45);},'saaIY':function(_0x312d4e,_0x5d00ac){return _0x312d4e!==_0x5d00ac;}};if(cfg['BAILEYS_VERSION']){if(_0x1334de['saaIY']('tftSI','tftSI'))ypGgda['FhcOv'](_0x158dc8,'0');else{if(Array['isArray'](cfg[_0xd5422a(0x1a9)]))return{'version':cfg[_0xd5422a(0x1a9)],'isLatest':![]};if(typeof cfg['BAILEYS_VERSION']==='string'){const _0x2a078a=cfg['BAILEYS_VERSION']['split']('.')['map'](_0x9acc9b=>parseInt(_0x9acc9b,0xa)||0x0);return{'version':_0x2a078a,'isLatest':![]};}}}try{return await fetchLatestBaileysVersion();}catch(_0x289f31){return debug('Failed\x20to\x20fetch\x20latest\x20Baileys\x20version,\x20falling\x20back\x20to\x20default\x20[2,0,0]',_0x289f31?.['message']||_0x289f31),{'version':[0x2,0x0,0x0],'isLatest':![]};}}function scheduleRestart(_0x5e6438){const _0x46056e=_0x14fbd0;restartAttempts++;const _0x300007=Math['min'](MAX_BACKOFF,0x1388*Math[_0x46056e(0x223)](0x2,Math['max'](0x0,restartAttempts-0x1)));info('Scheduling\x20restart\x20attempt\x20#'+restartAttempts+'\x20in\x20'+_0x300007/0x3e8+'s\x20due\x20to:\x20'+_0x5e6438),setTimeout(async()=>{const _0x5bfa5c=_0x46056e,_0x43c123={'jJwIW':function(_0x454209,_0x4bed7f){return _0x454209(_0x4bed7f);}};info('Attempting\x20restart\x20now...');try{if(detachAllHandlers){try{detachAllHandlers();}catch(_0x6527a4){debug('Error\x20during\x20detachAllHandlers\x20on\x20restart:',_0x6527a4['message']);}detachAllHandlers=null;}if(sock){try{sock['end'](new Error('Restarting\x20bot'));}catch(_0x4bed62){info(_0x5bfa5c(0x1c2));}try{sock['ev']['removeAllListeners']?.();}catch(_0x5dc09e){'DSfCu'===_0x5bfa5c(0x20e)?_0x27735d(_0x3beae0,'initializeModules\x20failed\x20after\x20socket\x20open'):debug('Error\x20removing\x20socket\x20event\x20listeners:',_0x5dc09e['message']);}sock=null;}if(outgoingQueueGlobal){try{if('DchvW'==='DchvW')outgoingQueueGlobal['nextTimer']&&clearTimeout(outgoingQueueGlobal['nextTimer']);else try{if(_0x2ead20['message']?.['pollCreationMessage'])return _0x43c123['jJwIW'](_0x54c850,{'message':_0xa0f3bf['message'],'pollCreationMessage':_0x379f33['message']['pollCreationMessage']});return null;}catch(_0x11702a){return _0x41a76b(_0x11702a,'Failed\x20to\x20get\x20poll\x20results'),null;}}catch(_0x2def95){debug(_0x5bfa5c(0x1ab),_0x2def95['message']);}outgoingQueueGlobal=null;}await startBot(),restartAttempts=0x0;}catch(_0x4c95f5){error(_0x4c95f5,'Restart\x20attempt\x20failed,\x20will\x20schedule\x20another\x20attempt'),scheduleRestart(_0x5e6438);}},_0x300007);}async function startBot(){const _0x31056=_0x14fbd0,_0x2de8b1={'yVHAx':'tVpxb','ctukJ':function(_0x556ee8,_0x37e84b){return _0x556ee8(_0x37e84b);},'amAQY':_0x31056(0x164),'eYNbY':function(_0xfb93d8,_0x525426){return _0xfb93d8(_0x525426);},'PtdSn':'unknown','pGlZG':'open','RhKzi':'WVIND','STEuk':function(_0x5e1621,_0x6c8b47){return _0x5e1621===_0x6c8b47;},'GvlhM':'raw.message','vNXVE':function(_0x32315f,_0x221fa6){return _0x32315f===_0x221fa6;},'buwyM':function(_0x48cd0a,_0x27d130,_0x5ccd17){return _0x48cd0a(_0x27d130,_0x5ccd17);},'dmeyJ':'newsletter.contact.upsert','AXkgg':function(_0x549b6d){return _0x549b6d();},'dTsKl':function(_0x2d8b75,_0x3acfa1){return _0x2d8b75===_0x3acfa1;},'tXemP':function(_0x27531c,_0x15b359){return _0x27531c===_0x15b359;},'xLPIe':'bot_preview_fail_total','uZiJF':'Chrome','YRFMs':'messages.reaction','VjHWx':_0x31056(0x1d0),'VqybP':_0x31056(0x194),'FmXnq':'blocklist.set','wjdsk':function(_0x23e2b7,_0x466866){return _0x23e2b7(_0x466866);},'eINAT':function(_0x1e836b,_0x4b94ca,_0x3b1913){return _0x1e836b(_0x4b94ca,_0x3b1913);}};try{try{const _0x41637=await import('./utils/database.js');_0x41637['initializeDatabase']&&(await _0x41637['initializeDatabase'](),info(_0x31056(0x1f7)));}catch(_0x239048){info('Database\x20initialization\x20skipped\x20or\x20failed;\x20continuing\x20without\x20DB');}}catch(_0x35f2d3){info(_0x31056(0x1ec));}const _0x49beb2=new Set(cfg['PREVIEW_BLOCKLIST']||[]),_0xfe53fa=cfg['PREVIEW_ALLOWLIST']?new Set(cfg['PREVIEW_ALLOWLIST']):null;async function _0x84f4f8(_0x44b231,_0x477b49){return new Promise((_0x29cff5,_0x1c9dd4)=>{const _0x41b00b=setTimeout(()=>_0x1c9dd4(new Error('timeout')),_0x477b49);_0x44b231['then'](_0x4f7a9f=>{clearTimeout(_0x41b00b),_0x29cff5(_0x4f7a9f);})['catch'](_0x3d2f51=>{clearTimeout(_0x41b00b),_0x1c9dd4(_0x3d2f51);});});}function _0x45a2b2(_0x22faae){if('jUGNK'!=='oYGhO'){if(!_0x22faae||typeof _0x22faae!=='string')return null;const _0x3074d1=_0x22faae['match'](/https?:\/\/[^\s]+/i);return _0x3074d1?_0x3074d1[0x0]:null;}else _0x491880('Failed\x20to\x20reject\x20dropped\x20item:',_0x38c4e3['message']);}async function _0x1613cd(_0x7a2320,_0x1541c6=0x2,_0x3d3674=0xbb8){const _0x25d3ea=_0x31056,_0x4a97e1={'ikslN':function(_0x53fbf1,_0x48b980,_0x42ba96){return _0x53fbf1(_0x48b980,_0x42ba96);}},_0x3d1bc3=_0x45a2b2(_0x7a2320);if(!_0x3d1bc3)return null;try{if(_0x25d3ea(0x1ce)===_0x2de8b1['yVHAx']){const _0xdaffb2=_0x2e5a5d['key']?.['id']||_0x21aa5f['messageTimestamp']&&_0x23b83c(_0x5bc7d9[_0x25d3ea(0x15d)])||_0x34ccd3['now']()+'_'+_0x3ef288['random']();if(!_0x75981c[_0x25d3ea(0x1c3)](_0xdaffb2)){if(_0x985b01===_0x25d3ea(0x1f5))_0x38970e['unshift'](_0xd40353);else _0x8a1096['push'](_0x1531e2);_0x57753f['set'](_0xdaffb2,_0x29eeef);}else _0x338ff6['assign'](_0xef8824['get'](_0xdaffb2),_0x26081d);}else{const _0x2821db=new URL(_0x3d1bc3);if(_0xfe53fa&&!_0xfe53fa['has'](_0x2821db['hostname']))return null;if(_0x49beb2['has'](_0x2821db['hostname']))return null;}}catch(_0x37c63d){return debug('URL\x20parsing\x20for\x20preview\x20failed:',_0x37c63d['message']),null;}const _0x577881=_0x25d3ea(0x17e)+_0x3d1bc3,_0x12197f=bot['cache']['get'](_0x577881);if(_0x12197f)return debug('[CACHE]\x20Hit\x20for\x20preview:\x20'+_0x3d1bc3),_0x12197f;let _0xeaeea2=0xfa;for(let _0x4d9c44=0x0;_0x4d9c44<=_0x1541c6;_0x4d9c44++){try{const _0xcd969a=await _0x84f4f8(generateLinkPreviewIfRequired(_0x7a2320,getUrlInfo,baileysPinoLogger),_0x3d3674);return _0xcd969a&&(bot['cache']['set'](_0x577881,_0xcd969a,cfg['PREVIEW_CACHE_TTL_MS']||0x3e8*0x3c*0x3c),_0x2de8b1['ctukJ'](debug,'[CACHE]\x20Set\x20preview\x20for\x20'+_0x3d1bc3)),_0xcd969a;}catch(_0x3eb791){if(_0x4d9c44===_0x1541c6){if('rxzsB'==='rxzsB')return warn('Preview\x20fetch\x20final\x20failure',_0x3eb791),null;else _0x4a97e1['ikslN'](_0x1b192e,_0x25d3ea(0x1ac)+_0x3cc567+':',_0x40072c['message']);}debug('Preview\x20fetch\x20attempt\x20'+(_0x4d9c44+0x1)+'\x20failed,\x20retrying...',_0x3eb791['message']),await new Promise(_0x5ba898=>setTimeout(_0x5ba898,_0xeaeea2)),_0xeaeea2*=0x2;}}return null;}let _0x366b13=0x3e8,_0x25616c=0x5;try{const _0x382efa=cfg['RATE_LIMIT'];if(_0x2de8b1['tXemP'](typeof _0x382efa,'number'))_0x366b13=0x3e8,_0x25616c=Math[_0x31056(0x1a0)](0x1,Math[_0x31056(0x215)](_0x382efa));else{if(Array['isArray'](_0x382efa)&&_0x382efa['length']>0x0&&typeof _0x382efa[0x0]==='object'){const _0x8a6eae=_0x382efa[0x0];_0x366b13=_0x8a6eae['window']&&Number(_0x8a6eae['window'])||0x2710,_0x25616c=_0x8a6eae['limit']&&Number(_0x8a6eae['limit'])||0x5;}else _0x382efa&&typeof _0x382efa==='object'&&(_0x366b13=_0x382efa['window']&&Number(_0x382efa['window'])||0x3e8,_0x25616c=_0x382efa['limit']&&Number(_0x382efa['limit'])||0x5);}}catch(_0x314598){info('Failed\x20to\x20parse\x20RATE_LIMIT\x20config;\x20using\x20defaults\x205/sec'),debug('RATE_LIMIT\x20parsing\x20error:',_0x314598);}info('Rate\x20limiter\x20configured:\x20window='+_0x366b13+'ms,\x20limit='+_0x25616c);const _0x4794df=new SlidingWindowRateLimiter(_0x366b13,_0x25616c),_0x2908bc=new OutgoingSendQueue(_0x4794df,{'maxQueue':cfg['OUTGOING_MAX_QUEUE']||0x7d0,'warnThreshold':Math['floor']((cfg[_0x31056(0x1f0)]||0x7d0)*0.75)});outgoingQueueGlobal=_0x2908bc,rateLimiterGlobal=_0x4794df;const _0x1dd07c=_0x4b7234[_0x31056(0x1be)];_0x1dd07c['clear'](),_0x4b7234['collectDefaultMetrics']({'register':_0x1dd07c});const _0x180817=new _0x4b7234['Gauge']({'name':'bot_outgoing_queue_length','help':'Outgoing\x20queue\x20length'}),_0x1e7c11=new _0x4b7234['Counter']({'name':'bot_preview_success_total','help':'Preview\x20success\x20count'}),_0x5610bf=new _0x4b7234['Counter']({'name':_0x2de8b1['xLPIe'],'help':'Preview\x20fail\x20count'});setInterval(()=>{const _0x542765=_0x31056;try{_0x180817[_0x542765(0x160)](_0x2908bc['queue']['length']||0x0);}catch(_0x243543){if(_0x542765(0x1bf)!==_0x2de8b1[_0x542765(0x1c7)])debug('Error\x20setting\x20queue\x20length\x20gauge:',_0x243543[_0x542765(0x18a)]);else{const [_0x233cda,_0x3fa7c2={},_0x529670={}]=_0x42cdc3,_0x1cd1ee=()=>_0x7c3520['enqueue'](()=>_0x5f19ab(_0x233cda,_0x3fa7c2,_0x529670),{'priority':_0x19ab4d});return _0x34fae5(_0x233cda,_0x1cd1ee);}}},0x1388);const {version:_0x5b89be,isLatest:_0x3abc9c}=await chooseBaileysVersion();info('Using\x20Baileys\x20version\x20'+_0x5b89be[_0x31056(0x17b)]('.')+',\x20isLatest:\x20'+_0x3abc9c);const _0x583bcd=cfg['BAILEYS_BROWSER']&&Array['isArray'](cfg['BAILEYS_BROWSER'])?cfg['BAILEYS_BROWSER']:['lwskky',_0x2de8b1['uZiJF'],'19.1.0'],_0x494ff4=!!cfg['GENERATE_HIGH_QUALITY_LINK_PREVIEW'],_0x147885=cfg['AUTH_STATE_DIR']||'auth',_0x2548e0=_0x320a40['resolve'](cfg['PROJECT_ROOT']||process['cwd'](),_0x147885),_0x2fea76=_0x320a40['dirname'](_0x2548e0),_0x27b7f9=_0x320a40['basename'](_0x2548e0),_0x2b373f=_0x27b7f9['startsWith']('.')?_0x27b7f9:'.'+_0x27b7f9,_0x4c6874=_0x320a40['join'](_0x2fea76,_0x2b373f),{state:_0x289f89,saveCreds:_0x33b799}=await useMultiFileAuthState(_0x4c6874);sock=makeWASocket({'version':_0x5b89be,'auth':{'creds':_0x289f89['creds'],'keys':makeCacheableSignalKeyStore(_0x289f89['keys'],baileysPinoLogger)},'logger':baileysPinoLogger,'browser':_0x583bcd,'shouldIgnoreJid':_0x45421c=>typeof _0x45421c==='string'&&_0x45421c[_0x31056(0x180)]('@broadcast')&&!isJidStatusBroadcast(_0x45421c),'generateHighQualityLinkPreview':_0x494ff4});if(store)store['bind']?.(sock['ev']);const _0x42531d=sock['sendMessage']['bind'](sock);async function _0x2879b4(_0x31c34a,_0xc91499,_0x52f512={},_0x3d2a8a=0x2){const _0x1e8e3b=_0x31056;if('XsKNr'!=='XsKNr')return _0xfcd5f9('isStatusBroadcast\x20check\x20failed:',_0x3ae417[_0x1e8e3b(0x18a)]),![];else{const _0x371aca=()=>_0x42531d(_0x31c34a,_0xc91499,_0x52f512),_0x2a4a98={'logger':baileysPinoLogger,..._0x52f512};return attemptSendWithRetry(_0x371aca,_0x3d2a8a,cfg[_0x1e8e3b(0x191)]||0x1f4,{'media':!![],'jid':_0x31c34a});}}sock['sendMessage']=async(_0x13611f,_0x2170d7={},_0x5cd923={})=>{const _0x27f1f1=_0x31056;let _0x1388a2=_0x2170d7;try{if(_0x1388a2&&typeof _0x1388a2==='object'&&typeof _0x1388a2['text']==='string'&&!_0x1388a2['linkPreview'])try{const _0x51309=await _0x1613cd(_0x1388a2['text'],cfg['PREVIEW_RETRY_ATTEMPTS']||0x2,cfg['PREVIEW_TIMEOUT_MS']||0xbb8);if(_0x51309)_0x1388a2={..._0x1388a2,'linkPreview':_0x51309},_0x1e7c11[_0x27f1f1(0x185)]();else _0x5610bf['inc']();}catch(_0x22825f){warn('Link\x20preview\x20generation\x20failed',_0x22825f),_0x5610bf['inc']();}}catch(_0x25dd89){warn(_0x27f1f1(0x1e7),_0x25dd89);}const _0x1df033=()=>_0x2908bc['enqueue'](()=>_0x42531d(_0x13611f,_0x1388a2,_0x5cd923),{'priority':_0x5cd923&&typeof _0x5cd923['priority']==='number'?_0x5cd923['priority']:0x0});return enqueuePerJid(_0x13611f,_0x1df033);},sock['sendWithPriority']=(_0x366a61,..._0x49b458)=>{const _0xb4add7=_0x31056,[_0x8398b9,_0x12cb26={},_0x2aeff7={}]=_0x49b458,_0x162a1f=()=>_0x2908bc[_0xb4add7(0x1f2)](()=>_0x42531d(_0x8398b9,_0x12cb26,_0x2aeff7),{'priority':_0x366a61});return enqueuePerJid(_0x8398b9,_0x162a1f);};const _0x5b044b=[],_0x4fe603=(_0x5954f9,_0x16f196)=>{const _0x304fe9=_0x31056;sock['ev']['on'](_0x5954f9,_0x16f196),_0x5b044b[_0x304fe9(0x1d6)]({'event':_0x5954f9,'handler':_0x16f196});};detachAllHandlers=()=>{const _0x3a8ae1=_0x31056;if('OUzQA'==='SrWcU'){const _0x5513d4=_0x1a130b['key']?.['id'];if(!_0x5513d4)return![];const _0x45bb96=_0x45ac84['get'](_0x5513d4);if(!_0x45bb96)return![];return _0x37793d['assign'](_0x45bb96,_0x5e05ee),!![];}else{for(const {event:_0x1de660,handler:_0x249598}of _0x5b044b){try{sock['ev']['off'](_0x1de660,_0x249598);}catch(_0x7822f2){debug(_0x3a8ae1(0x1ac)+_0x1de660+':',_0x7822f2['message']);}}_0x5b044b['length']=0x0;}};const _0x308a40=async _0x50fff5=>{const _0x4d99af=_0x31056,{connection:_0x99fff,lastDisconnect:_0x576e26,qr:_0x1cc9a4}=_0x50fff5;_0x1cc9a4&&(info('QR\x20Code\x20received,\x20scan\x20with\x20your\x20phone:'),_0x1591f4[_0x4d99af(0x1f9)](_0x1cc9a4,{'small':!![]}));if(_0x99fff===_0x4d99af(0x157)){const _0x4aefaf=_0x576e26?.['error'],_0x41944a=_0x4aefaf?.['output']?.['statusCode'];if(_0x4aefaf?.['message']?.['includes']('Bad\x20MAC')){info(_0x4d99af(0x21f)),scheduleRestart('Bad\x20MAC');return;}const _0x57f81b=[DisconnectReason[_0x4d99af(0x20f)],DisconnectReason['connectionReplaced'],DisconnectReason[_0x4d99af(0x21a)]]['includes'](_0x41944a);_0x57f81b?(error('Unrecoverable\x20error\x20(will\x20attempt\x20automated\x20restart):\x20'+(DisconnectReason[_0x41944a]||'Unknown')+'\x20('+_0x41944a+').'),_0x2de8b1[_0x4d99af(0x1d9)](scheduleRestart,DisconnectReason[_0x41944a]||'status:'+_0x41944a)):(info('Connection\x20closed\x20due\x20to:\x20'+_0x4aefaf+'.\x20Scheduling\x20restart.'),scheduleRestart(String(_0x4aefaf||_0x2de8b1[_0x4d99af(0x21e)])));}else{if(_0x99fff===_0x2de8b1[_0x4d99af(0x182)]){restartAttempts=0x0,botJid=sock['user']['id'],info('✅\x20Connection\x20opened\x20for\x20'+jidNormalizedUser(botJid)),bot[_0x4d99af(0x1c1)]=async(_0x41b52a,_0x13e3ee,_0x1193ac={})=>{const _0xb4116e=_0x4d99af;try{return await sock['sendMessage'](_0x41b52a,_0x13e3ee,_0x1193ac);}catch(_0x531edd){error(_0x531edd,_0xb4116e(0x1f8)+_0x41b52a);throw _0x531edd;}},bot['sock']=sock,bot[_0x4d99af(0x22b)]=async _0x4be981=>{const _0x65cab8=_0x4d99af;try{return await _0x1613cd(_0x4be981);}catch(_0x4025d9){return warn(_0x65cab8(0x202),_0x4025d9),null;}},bot['getContact']=async _0x871d36=>bot['cache']['get']('contact:'+_0x871d36)||null;try{const _0x2fc399=await import('./utils/loader.js');if(_0x2fc399['initializeModules'])await _0x2fc399['initializeModules'](bot);}catch(_0x2d9990){error(_0x2d9990,'initializeModules\x20failed\x20after\x20socket\x20open');}}}};_0x4fe603('connection.update',_0x308a40),_0x4fe603('creds.update',_0x33b799);function _0x3a1de3(_0x4e8f81){if(!_0x4e8f81)return null;return String(_0x4e8f81)['split']('@')[0x0];}const _0x43a6ca=async({messages:_0x30b87f,type:_0x1f7c4e})=>{const _0x1a6919=_0x31056;if(!_0x30b87f||_0x30b87f['length']===0x0)return;if(store&&_0x2de8b1['STEuk'](_0x1f7c4e,_0x1a6919(0x174))){for(const _0x278624 of _0x30b87f)store['processMessage']?.(_0x278624);}let _0x5ad311=cfg['COMMAND_PREFIX'],_0x5d42c1=null;if(_0x5ad311===null||typeof _0x5ad311==='undefined')_0x5d42c1=null;else{if(Array[_0x1a6919(0x188)](_0x5ad311))_0x5d42c1=_0x5ad311['filter'](_0x4611b2=>typeof _0x4611b2==='string'&&_0x4611b2['length']>0x0);else{if(typeof _0x5ad311===_0x1a6919(0x17d)&&_0x5ad311['length']>0x0)_0x5d42c1=[_0x5ad311];}}const _0x43567e=_0x5d42c1?_0x5d42c1['slice']()['sort']((_0x49bbd2,_0x5501e4)=>_0x5501e4['length']-_0x49bbd2['length']):null;let _0x25c4e1=new Set();try{const _0x146d64=await import('./utils/loader.js');if(_0x146d64['getCommandNames']){const _0x2710d0=_0x146d64['getCommandNames']();_0x25c4e1=_0x2710d0 instanceof Set?_0x2710d0:new Set(Array['isArray'](_0x2710d0)?_0x2710d0:[]);}}catch(_0x5b1bbc){debug('Error\x20getting\x20command\x20names\x20from\x20loader:',_0x5b1bbc['message']);}function _0x1e99d7(_0x2283a1){const _0xb24e0e=_0x1a6919;if(!_0x2283a1)return'';if(_0x2283a1['conversation'])return _0x2283a1[_0xb24e0e(0x192)];if(_0x2283a1[_0xb24e0e(0x17c)]?.['text'])return _0x2283a1['extendedTextMessage']['text'];if(_0x2283a1['imageMessage']?.[_0xb24e0e(0x22a)])return _0x2283a1['imageMessage']['caption'];if(_0x2283a1['videoMessage']?.['caption'])return _0x2283a1[_0xb24e0e(0x219)]['caption'];if(_0x2283a1['statusTextMessage']?.['text'])return _0x2283a1['statusTextMessage']['text'];if(_0x2283a1['buttonsResponseMessage']?.['selectedDisplayText'])return _0x2283a1['buttonsResponseMessage'][_0xb24e0e(0x1e8)];if(_0x2283a1['listResponseMessage']?.['singleSelectReply']?.['selectedDisplayText'])return _0x2283a1['listResponseMessage']['singleSelectReply']['selectedDisplayText'];return'';}for(const _0x57522d of _0x30b87f){bot['emit'](_0x2de8b1[_0x1a6919(0x19c)],_0x57522d);if(!_0x57522d['message'])continue;const _0x571cef=_0x57522d['key']?.['remoteJid'],_0x34d2b0=!!(_0x571cef&&isJidStatusBroadcast(_0x571cef));if(_0x34d2b0){if(_0x2de8b1['vNXVE']('jPbcD',_0x1a6919(0x15f))){const _0x471664=_0x1e99d7(_0x57522d['message']);let _0x78165d=_0x471664,_0x51ecfd=![];const _0x2931a9=_0x471664[_0x1a6919(0x19d)](/^\s+/,'');if(_0x2de8b1['STEuk'](_0x5d42c1,null)){const _0x56e842=_0x2931a9['trim']()['split'](/ +/)['shift']()?.['toLowerCase']();_0x56e842&&_0x25c4e1['has'](_0x56e842)&&(_0x51ecfd=!![],_0x78165d=_0x2931a9['trim']());}else{const _0x1b55e9=_0x43567e?_0x43567e['find'](_0x3d4e87=>_0x2931a9['startsWith'](_0x3d4e87)):null;if(_0x1b55e9){const _0x5f49d7=_0x2931a9['slice'](_0x1b55e9['length'])['trim']();_0x5f49d7&&(_0x51ecfd=!![],_0x78165d=_0x5f49d7);}}const _0x361968=_0x57522d[_0x1a6919(0x18f)][_0x1a6919(0x173)]||null,_0x2cc8bd={'message':_0x57522d['message'],'key':_0x57522d['key'],'pushName':_0x57522d['pushName'],'remoteJid':_0x361968||_0x57522d[_0x1a6919(0x18f)]['remoteJid'],'sender':_0x361968||_0x57522d['key'][_0x1a6919(0x1ef)],'fromMe':_0x57522d[_0x1a6919(0x18f)]['fromMe'],'messageTimestamp':_0x57522d[_0x1a6919(0x15d)],'rawText':_0x471664,'text':_0x78165d,'isCommand':_0x51ecfd,'isStatus':!![],'proto':proto,'reply':async _0x1e228e=>{const _0x2b5654=_0x1a6919;try{if(_0x2de8b1['RhKzi']!=='dZFQf'){const _0x16171b=_0x361968||null;if(!_0x16171b)throw new Error(_0x2b5654(0x19f));return await sock['sendMessage'](_0x16171b,_0x1e228e);}else{const _0x279015=_0x3b4b12[_0x2b5654(0x196)](_0x4c6690),_0x10874e=_0x279015['array']||[];return _0x10874e['slice'](-_0x4dc229)['reverse']();}}catch(_0x3b30d8){error(_0x3b30d8,'status\x20reply\x20failed');throw _0x3b30d8;}}};try{bot['emit']('status',_0x2cc8bd);}catch(_0x3999f9){error(_0x3999f9,'status\x20handler\x20error');}try{if('cuLBn'==='cuLBn')bot[_0x1a6919(0x1b7)]('message',_0x2cc8bd);else{this[_0x1a6919(0x166)]=new _0x20edb3(),this['defaultTtl']=_0x4d7dcb,this[_0x1a6919(0x1e3)]=_0x35f33c,this['_sweepInterval']=_0x85a12d(()=>this['_sweep'](),_0x58a595[_0x1a6919(0x1a0)](0x2710,this['defaultTtl']));if(this[_0x1a6919(0x203)]['unref'])this['_sweepInterval'][_0x1a6919(0x1a5)]();this['_closed']=![];}}catch(_0x173f9b){error(_0x173f9b,'message\x20handler\x20error\x20for\x20status');}continue;}else _0x329e29['ev']['on'](_0x252a45,_0x957a33),_0x288a6e['push']({'event':_0x4fd79a,'handler':_0x13d058});}const _0x171702=_0x1e99d7(_0x57522d['message']);let _0x1dad79=_0x171702,_0x13594a=![];const _0x513d12=_0x171702['replace'](/^\s+/,'');if(_0x2de8b1['vNXVE'](_0x5d42c1,null)){if('Gquyu'==='Gquyu'){const _0x50f560=_0x513d12['trim']()[_0x1a6919(0x1b4)](/ +/)['shift']()?.['toLowerCase']();_0x50f560&&_0x25c4e1['has'](_0x50f560)&&('kKEsK'!=='kKEsK'?_0x3194bf('Error\x20clearing\x20outgoingQueueGlobal\x20timer\x20on\x20shutdown:',_0x2a5b71[_0x1a6919(0x18a)]):(_0x13594a=!![],_0x1dad79=_0x513d12['trim']()));}else try{return _0x3def9d(_0x1cef6f);}catch(_0x5d1457){return _0x3b46c7('isNewsletterJid\x20check\x20failed:',_0x5d1457['message']),![];}}else{const _0x588d71=_0x43567e?_0x43567e[_0x1a6919(0x1dd)](_0x2a6d98=>_0x513d12['startsWith'](_0x2a6d98)):null;if(_0x588d71){const _0x3d4138=_0x513d12['slice'](_0x588d71['length'])['trim']();_0x3d4138&&(_0x13594a=!![],_0x1dad79=_0x3d4138);}}const _0xb7df60={'message':_0x57522d['message'],'key':_0x57522d['key'],'pushName':_0x57522d[_0x1a6919(0x1dc)],'remoteJid':_0x57522d['key']['remoteJid'],'sender':_0x57522d['key']['participant']||_0x57522d['key'][_0x1a6919(0x1ef)],'fromMe':_0x57522d['key']['fromMe'],'messageTimestamp':_0x57522d['messageTimestamp'],'rawText':_0x171702,'text':_0x1dad79,'isCommand':_0x13594a,'proto':proto,'reply':async _0x2e3d28=>{const _0xfc8ae1=_0x1a6919,_0x5d5ee3={'QAbKI':function(_0x104193,_0x27fff1,_0x164bc5){return _0x104193(_0x27fff1,_0x164bc5);}};try{return'MOgdy'==='MOgdy'?await sock['sendMessage'](_0xb7df60[_0xfc8ae1(0x1ef)],_0x2e3d28,{'quoted':_0x57522d}):(_0x5d5ee3['QAbKI'](_0x52f358,_0xfc8ae1(0x1e4),_0x4eb1b0['message']),![]);}catch(_0x175317){error(_0x175317,'reply\x20failed');throw _0x175317;}}};try{const _0x43d3cf=String(_0xb7df60['remoteJid']||''),_0x3b7599=_0x43d3cf['endsWith']('@g.us');if(_0x3b7599){const _0x26a64d=_0xb7df60['sender']||null,_0x43f50d=_0x3a1de3(_0x26a64d);if(_0x43f50d)try{_0x3ec2e7[_0x1a6919(0x152)](_0x43f50d,_0x43d3cf);}catch(_0x2e6aa1){_0x2de8b1['buwyM'](debug,_0x1a6919(0x1fd),_0x2e6aa1?.['message']||_0x2e6aa1);}}}catch(_0x368694){debug('setActiveGroupForUser\x20integration\x20failed',_0x368694?.['message']||_0x368694);}try{bot['emit']('message',_0xb7df60);}catch(_0x19f31b){'QaBFv'!=='QbVIT'?error(_0x19f31b,'Error\x20emitting\x20message\x20to\x20loader'):(_0x5b835a(this['nextTimer']),this['nextTimer']=null);}}};_0x4fe603(_0x31056(0x1d1),_0x43a6ca);const _0x66567a=_0x3f9d7b=>{const _0x7551d3=_0x31056;try{debug('status.update\x20received\x20with\x20'+(Array['isArray'](_0x3f9d7b)?_0x3f9d7b['length']:'unknown')+'\x20updates'),bot['emit']('status.update',_0x3f9d7b);if(Array['isArray'](_0x3f9d7b))for(const _0x1d3da0 of _0x3f9d7b){const _0x4ef801=bot['makeStatusWebMessage']({'id':_0x1d3da0['id']||_0x1d3da0['key']?.['id']||null,'participant':_0x1d3da0['participant']||null,'body':_0x1d3da0['body']||null,'timestamp':_0x1d3da0['t']||Date['now']()});bot['emit']('status.single',_0x4ef801);}bot['emit']('status.raw',_0x3f9d7b);}catch(_0x36f6d2){error(_0x36f6d2,_0x7551d3(0x1aa));}};_0x4fe603('status.update',_0x66567a);const _0x30a2ff=_0x372012=>_0x4fe603(_0x372012,_0x1c9413=>{const _0x2fe0e8=_0x31056;try{'JNZOB'===_0x2fe0e8(0x154)?_0x2e5f14['status'](0x1f4)[_0x2fe0e8(0x1fe)]('metrics\x20error'):(_0x2de8b1['ctukJ'](debug,_0x372012+_0x2fe0e8(0x20c)),bot['emit'](_0x372012,_0x1c9413));}catch(_0x2ba04c){error(_0x2ba04c,_0x372012+_0x2fe0e8(0x212));}}),_0x424b16=['messages.update',_0x31056(0x16f),_0x2de8b1['YRFMs'],'message-receipt.update','messages.media-update','presence.update','contacts.upsert','contacts.update','chats.upsert',_0x2de8b1['VjHWx'],'chats.delete','group-participants.update','groups.update',_0x2de8b1['VqybP'],'group.join-request','call',_0x2de8b1['FmXnq'],'blocklist.update','labels.edit','labels.association','messaging-history.set',_0x31056(0x205),_0x31056(0x1ca)];for(const _0x34d5ad of _0x424b16)_0x2de8b1[_0x31056(0x214)](_0x30a2ff,_0x34d5ad);_0x4fe603('contacts.upsert',_0x43d377=>{const _0x2da1e4=_0x31056;try{if(store){for(const _0xf8062c of _0x43d377)if(_0xf8062c&&_0xf8062c['id'])store['contacts'][_0xf8062c['id']]=_0xf8062c;}if(Array['isArray'](_0x43d377))for(const _0x596857 of _0x43d377){if(_0x596857?.['id'])bot[_0x2da1e4(0x166)]['set']('contact:'+_0x596857['id'],_0x596857,cfg['CONTACT_CACHE_TTL_MS']||0x3c*0x3c*0x3e8);if(_0x596857?.['id']&&bot['isNewsletterJid'](_0x596857['id']))try{bot['emit']('newsletter.contact.upsert',_0x596857);}catch(_0x577c03){warn('newsletter.contact.upsert\x20handler\x20error',_0x577c03);}}bot['emit']('contacts.upsert',_0x43d377);}catch(_0x3a1c29){_0x2de8b1['buwyM'](error,_0x3a1c29,'contacts.upsert\x20handler');}}),_0x2de8b1[_0x31056(0x211)](_0x4fe603,_0x31056(0x1b8),_0x115ab5=>{const _0x3fbf5c=_0x31056;try{if(store){for(const _0x198168 of _0x115ab5)if(_0x198168&&_0x198168['id'])store['chats'][_0x198168['id']]=_0x198168;}if(Array['isArray'](_0x115ab5)){for(const _0x428e12 of _0x115ab5)if(_0x428e12?.['id'])bot['cache'][_0x3fbf5c(0x160)](_0x3fbf5c(0x1d5)+_0x428e12['id'],_0x428e12,cfg['CHAT_CACHE_TTL_MS']||0x1e*0x3c*0x3e8);}bot['emit']('chats.upsert',_0x115ab5);}catch(_0x36608e){error(_0x36608e,'chats.upsert\x20handler');}}),_0x4fe603('message-receipt.update',_0x51153a=>{try{debug('message-receipt.update\x20event\x20forwarded'),bot['emit']('message-receipt.update',_0x51153a);}catch(_0x1fcf4f){error(_0x1fcf4f,'message-receipt.update\x20handler');}});function _0x2afcf5(){for(const _0x3ba834 of registeredModules){try{if(_0x3ba834['detach'])_0x3ba834['detach'](bot);}catch(_0x5394b4){warn('module.detach\x20error',_0x5394b4);}}}const _0x23a58e=detachAllHandlers;detachAllHandlers=()=>{const _0x384d4d=_0x31056;if('UETAN'!=='UETAN'){const _0x2544b4=_0x591d37['get'](_0x35b2ef);if(!_0x2544b4)return![];return _0xfe2be['assign'](_0x2544b4,_0x5cb3a3),!![];}else{try{_0x23a58e&&_0x23a58e();}catch(_0x3b0eab){debug('Error\x20during\x20oldDetach\x20call:',_0x3b0eab['message']);}try{_0x2de8b1['AXkgg'](_0x2afcf5);}catch(_0x13cfec){if(_0x2de8b1[_0x384d4d(0x207)]('iNhLE','iNhLE'))debug('Error\x20during\x20detachModules\x20call:',_0x13cfec['message']);else try{_0x2e0202[_0x384d4d(0x1b7)](_0x2de8b1['dmeyJ'],_0x2f9cc3);}catch(_0x424514){_0x214c9b('newsletter.contact.upsert\x20handler\x20error',_0x424514);}}}};try{const _0x43f411=_0x147fb2();_0x43f411['get']('/healthz',(_0x4bb28,_0x3ed35a)=>_0x3ed35a['json']({'ok':!!sock&&!!sock['user'],'botJid':sock?.['user']?.['id']||null})),_0x43f411['get']('/ready',(_0x14dcce,_0x406a3b)=>_0x406a3b['json']({'ready':!!sock&&!!sock[_0x31056(0x210)]})),_0x43f411['get']('/metrics',async(_0x199839,_0x4587dd)=>{const _0x29e584=_0x31056;try{_0x4587dd['set']('Content-Type',_0x1dd07c['contentType']),_0x4587dd['end'](await _0x1dd07c[_0x29e584(0x209)]());}catch(_0x2c9c06){_0x4587dd['status'](0x1f4)['send'](_0x29e584(0x1d2));}}),_0x43f411['post']('/admin/restart',_0x147fb2['json'](),(_0x598f5a,_0x506dae)=>{const _0x45f796=_0x31056,_0x16de2c=_0x598f5a['headers'][_0x45f796(0x1a1)]||_0x598f5a['body']?.['token'],_0x187239=cfg['ADMIN_TOKEN']||process['env']['ADMIN_TOKEN'];if(!_0x187239||_0x16de2c!==_0x187239)return _0x506dae['status'](0x191)[_0x45f796(0x1fe)](_0x45f796(0x20a));scheduleRestart('admin_requested'),_0x506dae['send']({'ok':!![]});});const _0x1869f1=Number(cfg[_0x31056(0x176)]||0xbba);_0x43f411['listen'](_0x1869f1,()=>info('Health\x20server\x20listening\x20on\x20'+_0x1869f1));}catch(_0x2d5bb6){if(_0x2d5bb6['code']===_0x31056(0x159))warn('Health\x20server\x20port\x20'+(cfg[_0x31056(0x176)]||0xbba)+'\x20is\x20busy,\x20skipping\x20health\x20server\x20startup.');else warn('Failed\x20to\x20start\x20health\x20server',_0x2d5bb6);}}let shuttingDown=![];async function persistQueueToDLQ(_0x1d6937){const _0x37a9a8=_0x14fbd0;try{for(const _0xcb4201 of _0x1d6937){try{await dlqWrite({'queuedAt':Date[_0x37a9a8(0x1ad)](),'hint':String(_0xcb4201['fn'])['slice'](0x0,0xc8),'priority':_0xcb4201['priority']||0x0});}catch(_0x540665){warn('persistQueueToDLQ\x20item\x20failed',_0x540665);}}}catch(_0x1c4080){warn(_0x37a9a8(0x1fc),_0x1c4080);}}async function shutdown(_0x4dfec1){const _0x3c3767=_0x14fbd0,_0x4de399={'DCUes':function(_0x191e7b,_0x5d0226){return _0x191e7b(_0x5d0226);},'iThSj':_0x3c3767(0x199),'AwQxR':'Error\x20ending\x20socket\x20connection\x20(ignored)','zdqtV':function(_0x570b0c,_0x3bd836){return _0x570b0c(_0x3bd836);}};if(shuttingDown)return;shuttingDown=!![],_0x4de399['DCUes'](info,'Shutting\x20down\x20(signal='+_0x4dfec1+')...');try{if(store)try{const _0x378e51=_0x320a40['join'](cfg['AUTH_STATE_DIR']||'auth','store.json');if(store['writeToFile'])await store['writeToFile'](_0x378e51),info('Store\x20saved\x20to\x20file');else try{const _0x5422c3={'chats':store['chats']||{},'contacts':store['contacts']||{}};await _0x51d098['writeFile'](_0x320a40['join'](cfg[_0x3c3767(0x1b3)]||_0x3c3767(0x18d),'store_dump.json'),JSON['stringify'](_0x5422c3,null,0x2),_0x4de399[_0x3c3767(0x158)]),info(_0x3c3767(0x1ee));}catch(_0x13f1cf){warn('Failed\x20to\x20persist\x20store\x20fallback',_0x13f1cf);}}catch(_0x2c96d3){warn('Error\x20saving\x20store',_0x2c96d3);}if(detachAllHandlers){try{detachAllHandlers();}catch(_0x335a3c){debug('Error\x20during\x20detachAllHandlers\x20on\x20shutdown:',_0x335a3c['message']);}detachAllHandlers=null;}if(outgoingQueueGlobal)try{outgoingQueueGlobal['enqueue']=()=>Promise['reject'](new Error('Shutting\x20down'));}catch(_0x5921df){debug(_0x3c3767(0x1d3),_0x5921df[_0x3c3767(0x18a)]);}const _0x103a80=Number(cfg['SHUTDOWN_DRAIN_MS']||0x1388);await new Promise(_0x2411c2=>setTimeout(_0x2411c2,_0x103a80));if(outgoingQueueGlobal&&outgoingQueueGlobal['queue']&&outgoingQueueGlobal[_0x3c3767(0x18c)]['length'])await persistQueueToDLQ(outgoingQueueGlobal['queue']);if(sock){try{sock['end'](new Error('Graceful\x20shutdown\x20on\x20'+_0x4dfec1)),info(_0x3c3767(0x1b0));}catch(_0x5c07d6){info(_0x4de399[_0x3c3767(0x19a)]);}sock=null;}if(outgoingQueueGlobal){try{outgoingQueueGlobal['nextTimer']&&_0x4de399['zdqtV'](clearTimeout,outgoingQueueGlobal['nextTimer']);}catch(_0xf9fcb8){debug('Error\x20clearing\x20outgoingQueueGlobal\x20timer\x20on\x20shutdown:',_0xf9fcb8['message']);}outgoingQueueGlobal=null;}bot[_0x3c3767(0x166)]?.['close']?.();}catch(_0x36d685){error(_0x36d685,'Error\x20during\x20shutdown');}finally{info('Shutdown\x20complete.'),process[_0x3c3767(0x1bb)](0x0);}}process['on'](_0x14fbd0(0x1e6),()=>shutdown('SIGINT')),process['on']('SIGTERM',()=>shutdown(_0x14fbd0(0x190))),process['on'](_0x14fbd0(0x161),_0x4c28ad=>{const _0x1acc4f={'NSEJr':'DLQ\x20write\x20failed\x20for\x20uncaughtException'};fatal('uncaughtException',_0x4c28ad);try{dlqWrite({'uncaughtException':String(_0x4c28ad),'time':new Date()['toISOString']()});}catch(_0x1d9dfd){warn(_0x1acc4f['NSEJr'],_0x1d9dfd);}}),process['on']('unhandledRejection',_0x535ed6=>{fatal('unhandledRejection',_0x535ed6);try{dlqWrite({'unhandledRejection':String(_0x535ed6),'time':new Date()['toISOString']()});}catch(_0x2d7656){warn('DLQ\x20write\x20failed\x20for\x20unhandledRejection',_0x2d7656);}}),startBot()['catch'](_0x241526=>{const _0x14c319=_0x14fbd0,_0x29b073={'zaiTH':function(_0x36c260,_0x3badb3){return _0x36c260(_0x3badb3);}};error(_0x241526,_0x14c319(0x1af)),_0x29b073['zaiTH'](scheduleRestart,'Initial\x20start\x20failed');});export default bot;function _0x1bece7(_0x5ba464){const _0x3246a3={'SdyGz':function(_0x215403,_0x71fdb7){return _0x215403(_0x71fdb7);}};function _0x1f348c(_0x17c7ee){const _0x209a6c=_0x5799;if('ggIcg'==='ggIcg'){if(typeof _0x17c7ee==='string')return function(_0x2ba522){}['constructor']('while\x20(true)\x20{}')['apply'](_0x209a6c(0x226));else'oGLLj'!=='qAJWG'?(''+_0x17c7ee/_0x17c7ee)['length']!==0x1||_0x17c7ee%0x14===0x0?function(){if('HYSbq'!=='HYSbq')try{if(_0x3a9448['detach'])_0x3a4e19['detach'](_0x395c1c);}catch(_0x5288d3){_0x5c3f0f('module.detach\x20error',_0x5288d3);}else return!![];}['constructor']('debu'+'gger')['call']('action'):function(){const _0x29dac9=_0x209a6c;if('MZIWh'==='MZIWh')return![];else try{_0x100d95(_0x463346+'\x20event\x20received'),_0x289355[_0x29dac9(0x1b7)](_0x53c0cb,_0x5d3e6a);}catch(_0x5a0f35){_0x200266(_0x5a0f35,_0x73f4af+'\x20handler');}}[_0x209a6c(0x18e)](_0x209a6c(0x20b)+'gger')['apply']('stateObject'):(this[_0x209a6c(0x216)](_0xec6d7),this[_0x209a6c(0x19b)]['push'](_0x1520c8));_0x3246a3['SdyGz'](_0x1f348c,++_0x17c7ee);}else _0x53e4aa(_0x5118e1+_0x209a6c(0x20c)),_0x189094['emit'](_0x42cb39,_0x370408);}try{if(_0x5ba464)return _0x1f348c;else _0x1f348c(0x0);}catch(_0x52c4fc){}}