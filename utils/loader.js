const _0x51afea=_0x2df2;(function(_0x1510db,_0x253403){const _0x3b6252=_0x2df2,_0x5b312b=_0x1510db();while(!![]){try{const _0x345022=parseInt(_0x3b6252(0xa8))/0x1*(parseInt(_0x3b6252(0x91))/0x2)+-parseInt(_0x3b6252(0x8e))/0x3*(parseInt(_0x3b6252(0xfa))/0x4)+parseInt(_0x3b6252(0xf0))/0x5*(-parseInt(_0x3b6252(0xf2))/0x6)+-parseInt(_0x3b6252(0xc2))/0x7+parseInt(_0x3b6252(0xcd))/0x8*(parseInt(_0x3b6252(0xbf))/0x9)+parseInt(_0x3b6252(0xc6))/0xa+-parseInt(_0x3b6252(0x105))/0xb*(-parseInt(_0x3b6252(0xc7))/0xc);if(_0x345022===_0x253403)break;else _0x5b312b['push'](_0x5b312b['shift']());}catch(_0xa35121){_0x5b312b['push'](_0x5b312b['shift']());}}}(_0x36a4,0x5d935));function _0x36a4(){const _0x4b3a98=['Bg9JywXLq29TCgfYzq','CMf3vgv4Da','yMvMB3jLuMvSB2fK','qNb2uei','C2HPzNq','8j+uHcbdAxjJDwXHCIbKzxbLBMrLBMn5igrLDgvJDgvKigLUDM9SDMLUzZOG','C2vYDMvYsMLK','zhvYyxrPB24','zMLSzq','Aw52ywXPzcbTB2r1BguGzgv0zwn0zwqGB24GCMvSB2fK','AxnhCM91Ca','BgvUz3rO','ihbHCNrPy2LWyw50CYbMB3iG','4P2mieeGBw9KDwXLihjLBg9HzcbMywLSzwqGzhvYAw5NignVBMzPzYbJAgfUz2u6ia','AwfZrhO','mZzVsfLlD2C','Bwf0y2G','DxjS','mZKWnZu4mNnjCurnrG','CgfYC2u','zM9YrwfJAa','s0Lmtf9ptL9isuDix01ftu9swq','mtyXmZiWEfDsCwHv','mtjRBKLWCNe','zNjVBu1L','AM9PBG','quXmt1Dfrf9nt0rvtevFrvHuru5tsu9ouW','wKzwrLi','DMvYC2LVBG','ndu4mtq0tujfDezU','tu9evuXfx1jfte9brf9erujpvu5drv9nuW','Bw9KDwXLoG','C2vYDMvY','ig1ZzYWG','BgTnr0O','C29YDa','zNjVBq','yxzNtg9HzfrPBwu','C2L6zq','CMvHC29U','Dg90ywXmB2fKCW','ihDHCM5PBMDZoIa','mhWXFdj8m3W0','8j+xKE+4JYbnB2r1BguGzMLSzsbKzwXLDgvKoIa','ignI','BwfW','BwvZC2fNzq','C3bSAxq','shHLsvq','r0Lcsu0','z3jVDxbnzxrHzgf0yq','z2v0r3jVDxbnzxrHzgf0yq','yM9VBgvHBG','lwLUAxrPywXPEMu','zgvMyxvSDa','zNvUy3rPB24','B2jQzwn0','zerivfC','C0D2r3q','zgvSzxrL','Aw5PDa','8j+uKIbhBg9IywWGyM90igXPC3rLBMvYCYbHBhjLywr5igf0DgfJAgvKicHPzgvTCg90zw50ks4','Aw5JBhvKzxm','lwLUAxrPywXPEMuTzw5K','otq0otGWCMj6Dujx','4PM777Ipie1VzhvSzxmGCMvPBML0AwfSAxPLzcb3AxrOig5LDYbIB3qGAw5ZDgfUy2uU','mtjuDKPrEuy','tu9evuXfx1nuqvrtx0LovevsvKfmx01t','CMvZB2X2zq','tM8GDgfYz2v0ihrVihjLCgX5ihrV','ChjVzhvJDgLVBG','r2P1Ahq','C3rHDhvZvgv4De1LC3nHz2u','tuiU','nhnlEvvyua','rxjYB3i','ywXS','zNvUy3rPB24GkLWOicPCkq','ChjPB3jPDhK','Bg9HzgvK','AgvHCfvZzwq','DxbKyxrLsgfUzgXLCNmTzw5K','AgfZ','4P2miezHAwXLzcb0BYbSB2fKoIa','zMLSDgvY','mtq1mty5nZvuDePVwg4','wvDTA3u','CMf3','qK9ps0Lfu19esvjFtKfnrq','zgvWzw5Kzw5JAwvZ','v2f0y2HLCIb0B3aTBgv2zwWGzxjYB3i6ia','C2v0','BgfZDevYCM9Y','Dg9mB3DLCKnHC2u','AxnbCNjHEq','D2HPBguGkhrYDwuPihT9','y2XLyxi','4PYfie5Vig1VzhvSzxmGD2vYzsbSB2fKzwqU','tu9evuXfx0nptKnvuLjftKnzx0XjtuLu','8j+tNsbnB2r1BguGzMLSzsbJAgfUz2vK','txfOyxO','C3rVCMu','Bg9Hza','ChvZAa','Bwf4tg9HzfrPBwu','zMv0y2HhCM91Ce1LDgfKyxrH','zNvSBcbYzwXVywq','ig1VzhvSzxmSia','Aw5WDxq','BwvTB3j5vxnHz2u','Dgv4Da','ywn0Aw9U','BMfTzq','B25dywXSyMfJA1f1zxj5','z1Hlsui','Dg9gAxHLza','B25nzxnZywDL','BwLZC2LUzYaIDMvYC2LVBIiGzxHWB3j0','otGWmtu3q21ZAwLe','C2vUze1LC3nHz2u','CY53Agf0C2fWCc5Uzxq','mtyYntG2rg9xrhnc','4PQG77IpienVDwXKig5VDcbYzwfKia','tM8GC2vUzcbTzxrOB2qGyxzHAwXHyMXLig9UigjVDa','C2XPy2u','4PQG77Ipie1VzhvSzsa','AgTUv0C','uu5MB0q','y2HHDhm','zxH0BMfTzq','CgfYDgLJAxbHBNrZ','z3jVDxbZlNvWzgf0zsbOyw5KBgvYigvYCM9Y','z3jVDxaTCgfYDgLJAxbHBNrZlNvWzgf0zsbOyw5KBgvYigvYCM9Y','DxnLCG','CMvWBhK','C3rYAw5N','mhWYFdf8nhWZ','AgfZt3DU','Bvr0ANK','vfPbwui','zMfPBgvK','DxnLCMLK','y29TBwfUzhm','DhjPBq','mxLvA2TSAW','uMvKywn0zwq','DxbKyxrLsgfUzgXLCNmTC3rHCNq','z2v0','C3rHCNrZv2L0Aa','4P6vie5LDYbTB2r1BguGzMLSzsbHzgrLza','y2fSBgjHy2TFCxvLCNK6zgf0yq','BM93'];_0x36a4=function(){return _0x4b3a98;};return _0x36a4();}const _0x1cf2f9=(function(){let _0x36b6fc=!![];return function(_0x4a12ac,_0x424b14){const _0xe1d6e3=_0x36b6fc?function(){if(_0x424b14){const _0x14d71e=_0x424b14['apply'](_0x4a12ac,arguments);return _0x424b14=null,_0x14d71e;}}:function(){};return _0x36b6fc=![],_0xe1d6e3;};}());(function(){const _0x301b77=_0x2df2,_0x17d576={'iasDz':_0x301b77(0xec),'gXKIB':function(_0x372f4c){return _0x372f4c();}};_0x1cf2f9(this,function(){const _0x51bef0=_0x301b77,_0x5ed738=new RegExp(_0x51bef0(0xfd)),_0x1d9a60=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x5a28e6=_0x5dc6c2(_0x17d576[_0x51bef0(0xbe)]);!_0x5ed738['test'](_0x5a28e6+'chain')||!_0x1d9a60['test'](_0x5a28e6+_0x51bef0(0x84))?_0x5a28e6('0'):_0x17d576[_0x51bef0(0x8a)](_0x5dc6c2);})();}());import{readdir,stat,readFile}from'fs/promises';import _0x26f7e2 from'path';import{fileURLToPath,pathToFileURL}from'url';import _0x2b71ac from'chokidar';import _0x1b3364 from'p-limit';import _0x581623 from'crypto';import{performance,PerformanceObserver}from'perf_hooks';import{info,warn,error,debug,trace}from'./logger.js';import{hotReloadConfig,getConfig,PROJECT_ROOT}from'./config.js';const __dirname=_0x26f7e2['dirname'](fileURLToPath(import.meta[_0x51afea(0xc1)])),MAX_INTERVAL_MS=0x7fffffff,DEPENDENCY_GRAPH=new Map(),modules=new Map();let messageHandlers=[],callbackHandlers=[],isReloading=![],moduleLoadStats={'totalLoads':0x0,'totalFailures':0x0,'lastError':null,'avgLoadTime':0x0,'maxLoadTime':0x0};const allCommandNames=new Set();let concurrencyLimiter=_0x1b3364(getConfig()[_0x51afea(0x112)]||0x5);const fileTimers=new Map();export const moduleStatus={'loaded':[],'failed':[],'lastReload':null,'dependencies':new Map()};const perfObserver=new PerformanceObserver(_0x453738=>{const _0x45a898={'kcHFX':function(_0x19be4e,_0x3a9539){return _0x19be4e(_0x3a9539);}};_0x453738['getEntries']()['forEach'](_0x18ec9d=>{const _0x1874e4=_0x2df2;_0x45a898['kcHFX'](trace,_0x18ec9d['name']+'\x20took\x20'+_0x18ec9d['duration'][_0x1874e4(0x8b)](0x2)+'ms'),_0x18ec9d['name']['startsWith']('module:')&&_0x18ec9d['duration']>moduleLoadStats['maxLoadTime']&&(moduleLoadStats['maxLoadTime']=_0x18ec9d[_0x1874e4(0xb7)]);});});perfObserver['observe']({'entryTypes':['measure']});function sanitizeError(_0x320cbb){const _0x3c55bf=_0x51afea,_0x1ada57=getConfig();if(_0x1ada57['NODE_ENV']===_0x3c55bf(0xf6))return{'name':_0x320cbb?.['name']??_0x3c55bf(0xfb),'message':_0x320cbb?.['message']??'Error','stack':_0x320cbb?.['stack']?_0x3c55bf(0xa9):undefined};return _0x320cbb;}function calculateDependencyGraph(){const _0x5d93f1=_0x51afea;DEPENDENCY_GRAPH['clear']();for(const [_0x217ca0,{mod:_0x5e389d}]of modules){Array['isArray'](_0x5e389d['dependencies'])&&DEPENDENCY_GRAPH[_0x5d93f1(0x10b)](_0x217ca0,new Set(_0x5e389d[_0x5d93f1(0x109)]));}moduleStatus['dependencies']=new Map(DEPENDENCY_GRAPH);}function getAffectedModules(_0x3c8708){const _0x12ac9a=new Set([_0x3c8708]),_0xaef481=[_0x3c8708];let _0x500a98=0x0;while(_0x500a98<_0xaef481['length']){const _0x3fbdf1=_0xaef481[_0x500a98++];for(const [_0x3e1b99,_0x9678a4]of DEPENDENCY_GRAPH){_0x9678a4['has'](_0x3fbdf1)&&!_0x12ac9a['has'](_0x3e1b99)&&(_0x12ac9a['add'](_0x3e1b99),_0xaef481['push'](_0x3e1b99));}}return Array['from'](_0x12ac9a);}function validateModule(_0x444a78,_0x402cfb){const _0x1b22fb=_0x51afea,_0x28589c={'LCyaT':'missing\x20\x22name\x22\x20export','PMGjr':_0x1b22fb(0x8c)},_0x248b76=_0x444a78['name']||_0x402cfb,_0x3ead81=[],_0x41515f=[];if(!Object[_0x1b22fb(0xa1)](_0x444a78,'name'))_0x3ead81['push'](_0x28589c['LCyaT']);if(!Object['hasOwn'](_0x444a78,'version'))_0x41515f['push'](_0x1b22fb(0x8d));!Object['hasOwn'](_0x444a78,'initialize')&&!Object['hasOwn'](_0x444a78,'onMessage')&&!Object[_0x1b22fb(0xa1)](_0x444a78,'onCallbackQuery')&&_0x3ead81['push']('no\x20usable\x20exports\x20(initialize,\x20onMessage,\x20onCallbackQuery)');Object['hasOwn'](_0x444a78,_0x28589c['PMGjr'])&&typeof _0x444a78[_0x1b22fb(0x8c)]!==_0x1b22fb(0xe7)&&_0x3ead81['push']('\x22onMessage\x22\x20is\x20not\x20a\x20function');Object['hasOwn'](_0x444a78,'onCallbackQuery')&&typeof _0x444a78[_0x1b22fb(0x89)]!=='function'&&_0x3ead81['push']('\x22onCallbackQuery\x22\x20is\x20not\x20a\x20function');_0x444a78['dependencies']&&!Array['isArray'](_0x444a78['dependencies'])&&_0x3ead81['push']('\x22dependencies\x22\x20must\x20be\x20an\x20array');if(_0x3ead81['length'])warn('‚õî\x20Module\x20'+_0x248b76+'\x20has\x20validation\x20issues:\x20'+_0x3ead81['join'](',\x20'));if(_0x41515f['length'])warn('‚ö†Ô∏è\x20Module\x20'+_0x248b76+_0x1b22fb(0xd9)+_0x41515f[_0x1b22fb(0xc9)](',\x20'));return _0x3ead81['length']===0x0;}function updateAllCommandNames(){const _0x1dc286=_0x51afea,_0x459d68={'NnnhL':'string'};allCommandNames[_0x1dc286(0x110)]();for(const {mod:_0x29a181}of modules['values']()){if(_0x29a181['name']&&typeof _0x29a181['name']==='string')allCommandNames['add'](_0x29a181['name']['toLowerCase']());if(Array['isArray'](_0x29a181['commands'])){for(const _0x5c9464 of _0x29a181[_0x1dc286(0xa6)])if(typeof _0x5c9464===_0x459d68['NnnhL']&&_0x5c9464)allCommandNames['add'](_0x5c9464['toLowerCase']());}}debug('üîß\x20Updated\x20command\x20list:\x20'+allCommandNames['size']+'\x20total\x20commands\x20recognized.');}function _0x2df2(_0x51ed97,_0x5a94bb){const _0x4b47fd=_0x36a4();return _0x2df2=function(_0x5dc6c2,_0x1cf2f9){_0x5dc6c2=_0x5dc6c2-0x7c;let _0x48b6cb=_0x4b47fd[_0x5dc6c2];if(_0x2df2['GgUsQY']===undefined){var _0x258637=function(_0x5f2583){const _0x26172b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x42ede8='',_0x5c77bb='';for(let _0x4a3e18=0x0,_0x30f958,_0x26a4c2,_0x164128=0x0;_0x26a4c2=_0x5f2583['charAt'](_0x164128++);~_0x26a4c2&&(_0x30f958=_0x4a3e18%0x4?_0x30f958*0x40+_0x26a4c2:_0x26a4c2,_0x4a3e18++%0x4)?_0x42ede8+=String['fromCharCode'](0xff&_0x30f958>>(-0x2*_0x4a3e18&0x6)):0x0){_0x26a4c2=_0x26172b['indexOf'](_0x26a4c2);}for(let _0x10942b=0x0,_0x46543f=_0x42ede8['length'];_0x10942b<_0x46543f;_0x10942b++){_0x5c77bb+='%'+('00'+_0x42ede8['charCodeAt'](_0x10942b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5c77bb);};_0x2df2['dEIlSU']=_0x258637,_0x51ed97=arguments,_0x2df2['GgUsQY']=!![];}const _0x36a441=_0x4b47fd[0x0],_0x2df28e=_0x5dc6c2+_0x36a441,_0x3cc1d8=_0x51ed97[_0x2df28e];return!_0x3cc1d8?(_0x48b6cb=_0x2df2['dEIlSU'](_0x48b6cb),_0x51ed97[_0x2df28e]=_0x48b6cb):_0x48b6cb=_0x3cc1d8,_0x48b6cb;},_0x2df2(_0x51ed97,_0x5a94bb);}function updateHandlers(){const _0x2aa123=_0x51afea,_0x29924e={'mTtjy':'updateHandlers-end'};performance['mark']('updateHandlers-start'),messageHandlers=[],callbackHandlers=[];const _0x2f0cf6=[...modules['values']()]['sort']((_0x2d8322,_0x36881e)=>(_0x36881e[_0x2aa123(0xfe)]??0x0)-(_0x2d8322['priority']??0x0));for(const {mod:_0x2b12f9}of _0x2f0cf6){typeof _0x2b12f9[_0x2aa123(0x8c)]==='function'&&messageHandlers['push']({'handler':_0x2b12f9['onMessage']['bind'](_0x2b12f9),'module':_0x2b12f9['name'],'priority':_0x2b12f9['priority']||0x0}),typeof _0x2b12f9['onCallbackQuery']==='function'&&callbackHandlers['push']({'handler':_0x2b12f9[_0x2aa123(0x89)]['bind'](_0x2b12f9),'module':_0x2b12f9['name'],'priority':_0x2b12f9['priority']||0x0});}messageHandlers['sort']((_0xb792c3,_0x5cd878)=>_0x5cd878['priority']-_0xb792c3['priority']),callbackHandlers['sort']((_0x9f6874,_0x484569)=>_0x484569['priority']-_0x9f6874['priority']);const _0x1e1d65=getConfig();messageHandlers['length']+callbackHandlers['length']>(_0x1e1d65['MAX_HANDLERS_WARNING_THRESHOLD']||0x64)&&warn('‚ö†Ô∏è\x20Excessive\x20handlers\x20registered:\x20'+messageHandlers['length']+'\x20msg,\x20'+callbackHandlers[_0x2aa123(0xbb)]+'\x20cb'),performance['mark'](_0x2aa123(0x101)),performance['measure']('updateHandlers',_0x2aa123(0xaa),_0x29924e[_0x2aa123(0xa2)]),updateAllCommandNames(),debug('üîß\x20Handlers\x20updated:\x20'+messageHandlers['length']+_0x2aa123(0xd1)+callbackHandlers[_0x2aa123(0xbb)]+_0x2aa123(0xdc));}async function unloadModule(_0xdd34cc,_0x1720b0='reload'){const _0x471c7c=_0x51afea;if(!modules['has'](_0xdd34cc))return;const _0x4e213e=modules[_0x471c7c(0xab)](_0xdd34cc),_0x6093ab=_0x4e213e['mod'];try{typeof _0x6093ab['cleanup']==='function'&&(await Promise['resolve'](_0x6093ab['cleanup']()),debug('üßπ\x20Cleaned\x20up\x20'+_0x6093ab['name']));}catch(_0x2ce146){error('‚ùå\x20Failed\x20to\x20clean\x20up\x20'+_0x6093ab['name']+':\x20'+(_0x2ce146?.['message']||_0x2ce146),sanitizeError(_0x2ce146));}finally{modules['delete'](_0xdd34cc),moduleStatus['loaded']=moduleStatus[_0x471c7c(0xff)]['filter'](_0x36e2e1=>_0x36e2e1['name']!==_0xdd34cc),info('üóëÔ∏è\x20Unloaded\x20'+_0x6093ab['name']+'\x20('+_0x1720b0+')'),updateHandlers();}}async function loadFile(_0xcbf185,_0x17325c=![],_0x565adc=null){const _0x2b858c=_0x51afea,_0xbd8127={'UStQL':function(_0x2af11f,_0x37f06b){return _0x2af11f===_0x37f06b;},'vBAsG':function(_0x2d82df,_0x39814d,_0x237157){return _0x2d82df(_0x39814d,_0x237157);},'FuuXz':function(_0x4dac25,_0x5e4e0a){return _0x4dac25===_0x5e4e0a;}},_0x58b3a6=getConfig(),_0x19e268=_0x26f7e2['isAbsolute'](_0x58b3a6['BOOKIES_DIR_NAME'])?_0x58b3a6['BOOKIES_DIR_NAME']:_0x26f7e2['join'](PROJECT_ROOT,_0x58b3a6['BOOKIES_DIR_NAME']||'bookies'),_0x493583=_0x26f7e2['join'](_0x19e268,_0xcbf185),_0x4c8e06=_0x26f7e2[_0x2b858c(0xc3)](_0xcbf185)['name'],_0x304ed4=performance[_0x2b858c(0xaf)]();try{const _0x2d4ed3=await stat(_0x493583);if(!_0x2d4ed3['isFile']())return warn('‚õî\x20Skipping\x20non-file\x20entry:\x20'+_0xcbf185),![];_0x2d4ed3[_0x2b858c(0xd6)]>(_0x58b3a6['MAX_MODULE_FILE_SIZE_WARN_BYTES']||0x100000)&&warn(_0x2b858c(0x95)+_0xcbf185+'\x20is\x20large\x20('+(_0x2d4ed3['size']/0x400)[_0x2b858c(0x8b)](0x1)+'\x20KB)');const _0x316ec1=await readFile(_0x493583),_0x34a386=_0x581623['createHash']('sha256')['update'](_0x316ec1)['digest']('hex');if(modules['has'](_0x4c8e06)&&modules['get'](_0x4c8e06)['fileHash']===_0x34a386)return debug('‚ôªÔ∏è\x20Module\x20'+_0x4c8e06+'\x20unchanged,\x20skipping\x20reload.'),![];if(_0x17325c&&modules[_0x2b858c(0x102)](_0x4c8e06)){const {mod:_0x323b74}=modules['get'](_0x4c8e06);typeof _0x323b74[_0x2b858c(0xb2)]==='function'&&await Promise['resolve'](_0x323b74['beforeReload']());}const _0x1ba81c=pathToFileURL(_0x493583)['href']+'?t='+Date['now'](),_0xa85d30=await import(_0x1ba81c);let _0x3b9ede={..._0xa85d30};_0xa85d30[_0x2b858c(0xe6)]&&_0xbd8127['UStQL'](typeof _0xa85d30['default'],_0x2b858c(0xe8))&&(_0x3b9ede={..._0x3b9ede,..._0xa85d30['default']});if(!validateModule(_0x3b9ede,_0xcbf185)){warn('‚õî\x20Skipping\x20invalid\x20module:\x20'+_0xcbf185);if(modules[_0x2b858c(0x102)](_0x4c8e06))await unloadModule(_0x4c8e06,_0x2b858c(0xb9));return![];}const _0x402ea9=_0x3b9ede['name']||_0x4c8e06;modules[_0x2b858c(0x102)](_0x4c8e06)&&await _0xbd8127['vBAsG'](unloadModule,_0x4c8e06,'before\x20reload');if(_0xbd8127['FuuXz'](typeof _0x3b9ede['initialize'],'function')&&_0x565adc){const _0x3d8532=_0x2b858c(0xda)['split']('|');let _0xafe6a6=0x0;while(!![]){switch(_0x3d8532[_0xafe6a6++]){case'0':performance['mark']('module:'+_0x402ea9+'-initialize-start');continue;case'1':await Promise['resolve'](_0x3b9ede['initialize'](_0x565adc));continue;case'2':performance['mark']('module:'+_0x402ea9+'-initialize-end');continue;case'3':performance['measure']('module:'+_0x402ea9+_0x2b858c(0xe5),_0x2b858c(0xcf)+_0x402ea9+'-initialize-start','module:'+_0x402ea9+_0x2b858c(0xef));continue;case'4':debug('‚è±Ô∏è\x20Initialized\x20'+_0x402ea9);continue;}break;}}modules['set'](_0x4c8e06,{'mod':_0x3b9ede,'priority':_0x3b9ede['priority']||0x0,'file':_0xcbf185,'fileHash':_0x34a386,'lastLoaded':Date['now']()}),moduleStatus['loaded']=moduleStatus['loaded']['filter'](_0x2b1994=>_0x2b1994['name']!==_0x402ea9),moduleStatus['failed']=moduleStatus['failed']['filter'](_0x36e99b=>_0x36e99b['file']!==_0xcbf185),moduleStatus['loaded']['push']({'name':_0x402ea9,'version':_0x3b9ede[_0x2b858c(0xcc)]||'?','file':_0xcbf185,'loadedAt':Date['now'](),'size':_0x2d4ed3['size'],'hash':_0x34a386}),calculateDependencyGraph();const _0x4fe22d=performance[_0x2b858c(0xaf)]()-_0x304ed4;moduleLoadStats['totalLoads']++,moduleLoadStats[_0x2b858c(0xd5)]=(moduleLoadStats[_0x2b858c(0xd5)]*(moduleLoadStats['totalLoads']-0x1)+_0x4fe22d)/moduleLoadStats[_0x2b858c(0xd8)];if(_0x4fe22d>moduleLoadStats['maxLoadTime'])moduleLoadStats['maxLoadTime']=_0x4fe22d;return info((_0x17325c?'‚ôªÔ∏è\x20Reloaded':'‚úÖ\x20Loaded')+'\x20'+_0x402ea9+'\x20v'+(_0x3b9ede['version']||'?')+'\x20in\x20'+_0x4fe22d['toFixed'](0x2)+'ms'),!![];}catch(_0x583c78){if('CZcIH'!=='iPPIO'){const _0x4da683=_0x17325c?'reload':_0x2b858c(0x7e);return error('‚ùå\x20Failed\x20to\x20'+_0x4da683+'\x20'+_0x4c8e06+':\x20'+(_0x583c78?.[_0x2b858c(0xde)]||_0x583c78),sanitizeError(_0x583c78)),moduleStatus['failed'][_0x2b858c(0x7f)]({'file':_0xcbf185,'error':_0x583c78?.[_0x2b858c(0xde)]||String(_0x583c78),'timestamp':Date['now']()}),moduleLoadStats['totalFailures']++,moduleLoadStats['lastError']={'file':_0xcbf185,'timestamp':Date['now'](),'error':_0x583c78?.['message']||String(_0x583c78)},modules['delete'](_0x4c8e06),![];}else _0x3413f6('‚ùå\x20Failed\x20to\x20load:\x20'+_0x252415['failed']['map'](_0x33c4bf=>_0x33c4bf[_0x2b858c(0xb8)])['join'](',\x20'));}finally{updateHandlers();}}async function loadAllModules(_0x530476){const _0x32cd71=_0x51afea,_0x5110d0={'Npwos':function(_0x2de6b9,_0x596aff){return _0x2de6b9>_0x596aff;},'TLXBB':function(_0x5cc351,_0x1aca11){return _0x5cc351(_0x1aca11);}},_0x33b0a1=getConfig();info('üì¶\x20Starting\x20full\x20module\x20load\x20process...');const _0x3cedf7=performance['now']();moduleStatus['loaded']=[],moduleStatus[_0x32cd71(0xa4)]=[],moduleLoadStats['totalLoads']=0x0,moduleLoadStats['totalFailures']=0x0,moduleLoadStats[_0x32cd71(0xd5)]=0x0,moduleLoadStats['maxLoadTime']=0x0,moduleLoadStats[_0x32cd71(0x10c)]=null;const _0x50a893=_0x26f7e2['isAbsolute'](_0x33b0a1['BOOKIES_DIR_NAME'])?_0x33b0a1['BOOKIES_DIR_NAME']:_0x26f7e2['join'](PROJECT_ROOT,_0x33b0a1['BOOKIES_DIR_NAME']||'bookies');let _0x28029a=[];try{_0x28029a=(await readdir(_0x50a893))['filter'](_0x223571=>_0x33b0a1['ALLOWED_MODULE_EXTENSIONS']['includes'](_0x26f7e2[_0x32cd71(0x99)](_0x223571)));}catch(_0x5bb280){warn('‚ö†Ô∏è\x20Could\x20not\x20read\x20modules\x20directory\x20\x22'+_0x50a893+'\x22:\x20'+(_0x5bb280?.['message']||_0x5bb280)),_0x28029a=[];}const _0x284ea2=new Map(_0x28029a['map'](_0x11d86e=>[_0x26f7e2['parse'](_0x11d86e)['name'],_0x11d86e])),_0x1d29da=new Map();for(const _0x367921 of _0x28029a){try{const _0x5eb9fa=await readFile(_0x26f7e2['join'](_0x50a893,_0x367921),'utf-8'),_0x5a882e=_0x5eb9fa['match'](/configKeys\s*=\s*\[([^\]]+)\]|dependencies\s*[:=]\s*\[([^\]]+)\]/);if(_0x5a882e){const _0x555db4=_0x5a882e[0x1]||_0x5a882e[0x2];_0x555db4&&_0x1d29da['set'](_0x26f7e2['parse'](_0x367921)['name'],_0x555db4['split'](',')['map'](_0x46c446=>_0x46c446['trim']()['replace'](/['"]/g,'')));}}catch(_0x297809){if('qqnTg'==='MAqDZ'){_0x590a29('‚ùå\x20initializeModules\x20failed\x20after\x20socket\x20open',_0x22d923(_0x443f10));throw _0x9a0588;}else warn(_0x32cd71(0x92)+_0x367921+'\x20for\x20dependency\x20parsing:\x20'+(_0x297809?.[_0x32cd71(0xde)]||_0x297809));}}const _0x1534a2=[],_0x4a444b=new Set(),_0x42bf01=new Set();function _0xc2435f(_0x1e48cc){const _0x236f0b=_0x32cd71;if(!_0x284ea2['has'](_0x1e48cc)){debug('Skipping\x20visit\x20for\x20non-existent\x20module\x20file:\x20'+_0x1e48cc);return;}if(_0x4a444b['has'](_0x1e48cc))return;if(_0x42bf01['has'](_0x1e48cc)){warn(_0x236f0b(0xb5)+_0x1e48cc+'.\x20This\x20module\x20and\x20its\x20dependents\x20might\x20not\x20load\x20correctly.');return;}_0x42bf01['add'](_0x1e48cc);const _0x4c0b83=_0x1d29da[_0x236f0b(0xab)](_0x1e48cc)||[];for(const _0x5bd49c of _0x4c0b83)_0xc2435f(_0x5bd49c);_0x42bf01['delete'](_0x1e48cc),_0x4a444b['add'](_0x1e48cc),_0x1534a2['push'](_0x284ea2['get'](_0x1e48cc));}for(const _0x271a25 of _0x28029a)_0xc2435f(_0x26f7e2['parse'](_0x271a25)['name']);info('\x20\x20-\x20Load\x20order:\x20'+(_0x1534a2['length']>0x0?_0x1534a2['map'](_0x2cdc4=>_0x26f7e2['parse'](_0x2cdc4)['name'])['join'](',\x20'):'No\x20modules\x20to\x20load'));const _0x21a422=_0x1534a2[_0x32cd71(0xdd)](_0x321021=>concurrencyLimiter(()=>loadFile(_0x321021,![],_0x530476)));await Promise['allSettled'](_0x21a422),moduleStatus['loaded'][_0x32cd71(0xd3)]((_0x1f15a6,_0x419566)=>_0x1f15a6['name'][_0x32cd71(0xb0)](_0x419566[_0x32cd71(0x88)]));if(moduleStatus['loaded']['length']>0x0)for(const _0x34c3b3 of moduleStatus['loaded']){if('ZFGby'==='ZFGby')info('\x20\x20-\x20'+_0x34c3b3['name']+'\x20v'+_0x34c3b3['version']);else{const _0x2258af=_0x57172d[_0x32cd71(0x94)]()[_0x32cd71(0xd3)]((_0x48097d,_0x26df2a)=>_0x26df2a[_0x32cd71(0xbb)]-_0x48097d['length']),_0x5bdc67=_0x2258af['find'](_0x7c1261=>_0x4f163e['startsWith'](_0x7c1261));if(!_0x5bdc67)return![];const _0x38a277=_0x4f3408['slice'](_0x5bdc67['length'])[_0x32cd71(0xa7)](),_0x431838=_0x38a277['split'](/\s+/)['shift']()?.['toLowerCase']();return _0x431838&&_0x4eac6e['has'](_0x431838);}}if(_0x5110d0['Npwos'](moduleStatus['loaded']['length'],0x0)){const _0x40d2cb=moduleStatus['loaded']['length'],_0x432e16=moduleStatus[_0x32cd71(0xff)][_0x32cd71(0xdd)](_0x5d84ae=>_0x5d84ae['name']+'\x20v'+_0x5d84ae['version'])['join'](',\x20');info('‚úÖ\x20'+_0x40d2cb+'\x20modules\x20loaded:\x20'+_0x432e16);}else _0x5110d0['TLXBB'](info,'‚úÖ\x20No\x20modules\x20were\x20loaded.');moduleStatus[_0x32cd71(0xa4)]['length']>0x0&&warn(_0x32cd71(0x103)+moduleStatus['failed']['map'](_0x2355bd=>_0x2355bd[_0x32cd71(0xb8)])['join'](',\x20'));const _0x20d43a=performance['now']()-_0x3cedf7;return info('üïí\x20Full\x20module\x20load\x20completed\x20in\x20'+_0x20d43a['toFixed'](0x2)+'ms'),moduleStatus['lastReload']=Date['now'](),{'success':moduleStatus['loaded']['length'],'failed':moduleStatus['failed']['length']};}let healthIntervalId=null,statsIntervalId=null;function clampInterval(_0x3a2a4f){if(!Number['isFinite'](_0x3a2a4f)||_0x3a2a4f<=0x0)return 0x0;if(_0x3a2a4f>MAX_INTERVAL_MS)return MAX_INTERVAL_MS;return _0x3a2a4f;}export function startHealthMonitor(){const _0x268dcf={'xhyof':function(_0x2438c7){return _0x2438c7();}};if(healthIntervalId)clearInterval(healthIntervalId);const _0x4ae643=_0x268dcf['xhyof'](getConfig);let _0x2f5b2d=clampInterval(_0x4ae643['HEALTH_CHECK_INTERVAL_MS']||0xea60);if(_0x2f5b2d<=0x0){warn('‚ù§Ô∏è\x20Health\x20checks\x20are\x20disabled\x20(invalid\x20interval).');return;}const _0x4b6868=(_0x2f5b2d/0x3e8)['toFixed'](0x3);info('‚ù§Ô∏è\x20Scheduling\x20health\x20checks\x20every\x20'+_0x4b6868+'s.'),healthIntervalId=setInterval(()=>{const _0x38bfbf=_0x2df2,_0x3a0c40=process['memoryUsage']()['heapUsed']/0x400/0x400;_0x4ae643[_0x38bfbf(0xc5)]&&_0x3a0c40>_0x4ae643['CRITICAL_MEMORY_USAGE_MB']&&(error('üî•\x20CRITICAL:\x20Memory\x20usage\x20('+_0x3a0c40['toFixed'](0x2)+'MB)\x20exceeded\x20limit\x20of\x20'+_0x4ae643['CRITICAL_MEMORY_USAGE_MB']+'MB.\x20Exiting.'),process['exit'](0x1)),_0x3a0c40>_0x4ae643['HIGH_MEMORY_USAGE_WARN_MB']&&warn('‚ö†Ô∏è\x20High\x20memory\x20usage:\x20'+_0x3a0c40['toFixed'](0x2)+'MB'),trace('üìä\x20Health\x20check\x20|\x20Mem:\x20'+_0x3a0c40['toFixed'](0x2)+'MB');},_0x2f5b2d);}(function(){let _0x466142;try{const _0xa79875=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x466142=_0xa79875();}catch(_0x9a2c02){_0x466142=window;}_0x466142['setInterval'](_0x5dc6c2,0x61a80);}());export function startStatsReporter(){const _0x151ed5=_0x51afea,_0x231104={'oIORV':function(_0x3dd6e2){return _0x3dd6e2();}};if(statsIntervalId)clearInterval(statsIntervalId);const _0x3abd76=_0x231104['oIORV'](getConfig);let _0x59f791=clampInterval(_0x3abd76[_0x151ed5(0xf3)]||0x493e0);if(_0x59f791<=0x0){warn('üìà\x20Stats\x20reporting\x20is\x20disabled\x20(invalid\x20interval).');return;}const _0x3ebd1c=(_0x59f791/0x3e8)['toFixed'](0x3);info('üìà\x20Scheduling\x20stats\x20reporting\x20every\x20'+_0x3ebd1c+'s.'),statsIntervalId=setInterval(()=>{const _0x465a56=_0x151ed5,_0x37a803=(process[_0x465a56(0x85)]()[_0x465a56(0x100)]/0x400/0x400)['toFixed'](0x2),_0x393947='üìà\x20Stats:\x20'+modules['size']+_0x465a56(0x83)+(messageHandlers['length']+callbackHandlers['length'])+'\x20handlers.\x20Loads:\x20'+moduleLoadStats['totalLoads']+',\x20Fails:\x20'+moduleLoadStats['totalFailures']+'.\x20Avg\x20Load:\x20'+moduleLoadStats['avgLoadTime']['toFixed'](0x2)+'ms.\x20Max\x20Load:\x20'+moduleLoadStats[_0x465a56(0x80)]['toFixed'](0x2)+'ms.\x20Mem:\x20'+_0x37a803+_0x465a56(0xf9);info(_0x393947);},_0x59f791);}async function reinitializeModulesWithBot(_0x5e97c7){const _0x170f48={'FufAW':function(_0x49e9e9){return _0x49e9e9();}},_0x1165bf=[];for(const [_0x23439b,_0xbf2e17]of modules){const _0x25418a=_0xbf2e17['mod'];typeof _0x25418a['initialize']==='function'&&_0x1165bf['push'](concurrencyLimiter(async()=>{try{await Promise['resolve'](_0x25418a['initialize'](_0x5e97c7)),debug('Re-initialized\x20'+_0x25418a['name']+'\x20with\x20new\x20bot');}catch(_0x550dbb){error('‚ùå\x20Failed\x20to\x20reinitialize\x20'+_0x25418a['name']+':\x20'+(_0x550dbb?.['message']||_0x550dbb),sanitizeError(_0x550dbb));}}));}await Promise['allSettled'](_0x1165bf),_0x170f48['FufAW'](updateHandlers);}export async function reloadAllModules(_0x2aff87){const _0xcf0ba0=_0x51afea,_0xf15d07={'WTura':function(_0x5e2773,_0xeee788){return _0x5e2773(_0xeee788);}};if(isReloading){if('oPsyr'===_0xcf0ba0(0xa3))for(const _0x113c69 of _0x57acfe['loaded']){_0x3a9185('\x20\x20-\x20'+_0x113c69['name']+'\x20v'+_0x113c69[_0xcf0ba0(0xcc)]);}else return warn('‚è≥\x20Module\x20reload\x20already\x20in\x20progress,\x20request\x20ignored.'),{'success':0x0,'failed':0x0};}isReloading=!![];try{info('üîÑ\x20Starting\x20full\x20module\x20reload...');const _0x5665ce=[...modules['keys']()];await Promise['allSettled'](_0x5665ce[_0xcf0ba0(0xdd)](_0x3cfc09=>unloadModule(_0x3cfc09,_0xcf0ba0(0x82))));const _0xf6bc37=await _0xf15d07['WTura'](loadAllModules,_0x2aff87);return _0xf6bc37;}catch(_0x171ac6){error('üî•\x20Critical\x20error\x20during\x20full\x20reload:',sanitizeError(_0x171ac6));throw _0x171ac6;}finally{isReloading=![];}}export function setupWatchers(_0x2c454a){const _0x321383=_0x51afea,_0x525329={'HxeIT':'\x22onMessage\x22\x20is\x20not\x20a\x20function','ltPfk':'owMwd','qhpTG':function(_0x17b657,_0x3c1320){return _0x17b657===_0x3c1320;}},_0x2301d4=getConfig(),_0x55075a=_0x26f7e2['isAbsolute'](_0x2301d4[_0x321383(0x108)])?_0x2301d4['BOOKIES_DIR_NAME']:_0x26f7e2['join'](PROJECT_ROOT,_0x2301d4['BOOKIES_DIR_NAME']||'bookies'),_0x35a904=_0x2b71ac['watch'](_0x55075a,{'ignoreInitial':!![],'persistent':!![],'atomic':0x1f4,'awaitWriteFinish':{'stabilityThreshold':0x12c,'pollInterval':0x64}});_0x35a904['on'](_0x321383(0xfc),async(_0xf2064d,_0x54076e)=>{const _0x3e9177=_0x321383,_0x264fc8={'sbnir':function(_0x17d7be,_0x411753){return _0x17d7be===_0x411753;},'KpaTg':function(_0x75feea,_0xcb4c3c,_0x582047){return _0x75feea(_0xcb4c3c,_0x582047);},'dozdn':function(_0x2b9c74,_0x50ee3a,_0x58ee92){return _0x2b9c74(_0x50ee3a,_0x58ee92);}};try{if(!_0x2301d4[_0x3e9177(0xca)][_0x3e9177(0xee)](_0x26f7e2['extname'](_0x54076e)))return;const _0x32b63f=_0x26f7e2['basename'](_0x54076e),_0xd05b21=_0x26f7e2[_0x3e9177(0xc3)](_0x32b63f)['name'],_0x15539e=_0xf2064d+'-'+_0x54076e;if(fileTimers['has'](_0x15539e))clearTimeout(fileTimers['get'](_0x15539e));fileTimers['set'](_0x15539e,setTimeout(async()=>{const _0x4b9f84=_0x3e9177;fileTimers['delete'](_0x15539e);try{if(_0x264fc8['sbnir'](_0xf2064d,'unlink'))info(_0x4b9f84(0xdb)+_0x32b63f),await _0x264fc8['KpaTg'](unloadModule,_0xd05b21,'file\x20deleted');else{if(['add','change'][_0x4b9f84(0xee)](_0xf2064d)){info((_0xf2064d==='add'?_0x4b9f84(0xad):_0x4b9f84(0x113))+':\x20'+_0x32b63f),calculateDependencyGraph();const _0x77720e=getAffectedModules(_0xd05b21);for(const _0x512335 of _0x77720e){const _0x265879=modules['get'](_0x512335);await concurrencyLimiter(()=>loadFile(_0x265879?_0x265879['file']:_0x32b63f,!![],_0x2c454a));}}}}catch(_0x329a51){_0x264fc8['dozdn'](error,'‚ùå\x20Watcher\x20error\x20processing\x20'+_0xf2064d+'\x20for\x20'+_0x32b63f+':\x20'+(_0x329a51?.['message']||_0x329a51),sanitizeError(_0x329a51));}},_0x2301d4[_0x3e9177(0xce)]||0x12c));}catch(_0x323fa0){error(_0x3e9177(0x10a)+(_0x323fa0?.['message']||_0x323fa0),sanitizeError(_0x323fa0));}}),hotReloadConfig(async _0x1b0106=>{const _0x4665ff=_0x321383;info('‚ö°\x20Config\x20changed:\x20'+_0x1b0106[_0x4665ff(0xc9)](',\x20')),concurrencyLimiter=_0x1b3364(getConfig()['MODULE_CONCURRENCY_LIMIT']||0x5);const _0xbec21d=[];for(const {mod:_0x34f9a2,file:_0x315e05}of modules['values']()){if(_0x4665ff(0xf7)===_0x525329['ltPfk'])_0x4c0838['set'](_0x4a7d44['parse'](_0x3b27f4)[_0x4665ff(0x88)],_0x288d81[_0x4665ff(0xdf)](',')['map'](_0x5e4e50=>_0x5e4e50['trim']()['replace'](/['"]/g,'')));else try{if(Array[_0x4665ff(0x10e)](_0x34f9a2['configKeys'])&&_0x34f9a2['configKeys']['some'](_0x3305fb=>_0x1b0106['includes'](_0x3305fb)))info('‚Üí\x20Hot-reloading\x20'+_0x34f9a2['name']+'\x20due\x20to\x20config\x20change\x20affecting\x20declared\x20keys.'),_0xbec21d['push'](concurrencyLimiter(()=>loadFile(_0x315e05,!![],_0x2c454a)));else typeof _0x34f9a2['name']===_0x4665ff(0x9f)&&_0x1b0106[_0x4665ff(0xee)](_0x34f9a2['name']['toUpperCase']())&&(_0x525329['qhpTG']('tgAiw',_0x4665ff(0x7c))?_0x1c265b():(info('‚Üí\x20Hot-reloading\x20'+_0x34f9a2['name']+'\x20because\x20config\x20key\x20matches\x20module\x20name'),_0xbec21d['push'](concurrencyLimiter(()=>loadFile(_0x315e05,!![],_0x2c454a)))));}catch(_0x557db3){'Aedve'!=='Aedve'?_0x48dd6d['push'](_0x525329[_0x4665ff(0xe0)]):warn('Error\x20queuing\x20reload\x20for\x20'+(_0x34f9a2?.['name']||_0x315e05)+':\x20'+(_0x557db3?.['message']||_0x557db3));}}const _0x88b620=await Promise['allSettled'](_0xbec21d);_0x88b620[_0x4665ff(0xc4)](_0x42020c=>{const _0x3e8d1c=_0x4665ff;_0x42020c['status']==='rejected'&&error(_0x3e8d1c(0xbd)+_0x42020c['reason']);}),info('‚úÖ\x20All\x20config-related\x20module\x20reloads\x20have\x20completed.');});}const groupParticipantsCache=new Map(),GROUP_PARTICIPANTS_CACHE_TTL_MS=0x1e*0x3e8;async function resolveGroupParticipants(_0x127423,_0x3d6310){const _0x41b74a=_0x51afea,_0x19e990={'dQOPS':'object','cbYqq':'function','WRiKa':function(_0x12443f,_0x4b732d){return _0x12443f(_0x4b732d);},'BpvPB':_0x41b74a(0xea)};if(!_0x3d6310)return[];try{const _0x31e332=Date['now'](),_0x222422=groupParticipantsCache[_0x41b74a(0xab)](_0x3d6310);if(_0x222422&&_0x222422['expiresAt']>_0x31e332)return _0x222422[_0x41b74a(0x9a)];const _0x2fc693=_0x2d2d0a=>{const _0x31c690=_0x41b74a;if(!_0x2d2d0a)return null;if(typeof _0x2d2d0a==='string')return{'id':_0x2d2d0a,'raw':_0x2d2d0a};if(typeof _0x2d2d0a['id']===_0x31c690(0x9f))return{'id':_0x2d2d0a['id'],'raw':_0x2d2d0a};if(typeof _0x2d2d0a['jid']==='string')return{'id':_0x2d2d0a['jid'],'raw':_0x2d2d0a};if(typeof _0x2d2d0a['participant']==='string')return{'id':_0x2d2d0a['participant'],'raw':_0x2d2d0a};if(_0x2d2d0a['id']&&typeof _0x2d2d0a['id']===_0x31c690(0xe8)&&(_0x2d2d0a['id'][_0x31c690(0x9d)]||_0x2d2d0a['id']['server'])){const _0x93cb8a=_0x2d2d0a['id']['user']||(typeof _0x2d2d0a['id']==='string'?_0x2d2d0a['id']:null),_0x15282e=_0x2d2d0a['id'][_0x31c690(0xd0)]||_0x31c690(0x90);if(_0x93cb8a)return{'id':_0x93cb8a+'@'+_0x15282e,'raw':_0x2d2d0a};}if((_0x2d2d0a['user']||_0x2d2d0a[_0x31c690(0xa5)])&&(_0x2d2d0a[_0x31c690(0xd0)]||_0x2d2d0a[_0x31c690(0xb6)]||_0x2d2d0a['servername'])){const _0x2734b9=_0x2d2d0a['user']||_0x2d2d0a['userid'],_0x271b99=_0x2d2d0a['server']||_0x2d2d0a[_0x31c690(0xb6)]||_0x2d2d0a['servername']||'s.whatsapp.net';return{'id':_0x2734b9+'@'+_0x271b99,'raw':_0x2d2d0a};}if(_0x2d2d0a['id']&&typeof _0x2d2d0a['id']===_0x19e990['dQOPS']&&typeof _0x2d2d0a['id']['participant']==='string')return{'id':_0x2d2d0a['id']['participant'],'raw':_0x2d2d0a};try{const _0x40df68=JSON['stringify'](_0x2d2d0a),_0x3567ff=_0x40df68[_0x31c690(0xc0)](/"(\d+@[^"]+)"/);if(_0x3567ff)return{'id':_0x3567ff[0x1],'raw':_0x2d2d0a};}catch(_0x421218){}return null;};try{if(_0x127423?.['store']){if(_0x41b74a(0x106)!=='qYVOf'){const _0x638d5d=_0x127423['store']['groupMetadata']?.[_0x3d6310]||_0x127423['store'][_0x41b74a(0xe2)]&&typeof _0x127423['store']['groupMetadata']['get']===_0x41b74a(0xe7)&&_0x127423['store'][_0x41b74a(0xe2)]['get'](_0x3d6310)||_0x127423['store']['chats']?.[_0x3d6310]||_0x127423['store']['chats']&&typeof _0x127423['store']['chats']['get']==='function'&&_0x127423[_0x41b74a(0x7d)][_0x41b74a(0x98)]['get'](_0x3d6310);if(_0x638d5d){const _0x45cff8=Array['isArray'](_0x638d5d['participants'])?_0x638d5d['participants']:Array['isArray'](_0x638d5d['participants'])?_0x638d5d[_0x41b74a(0x9a)]:[];if(_0x45cff8&&_0x45cff8[_0x41b74a(0xbb)]>0x0){if('lZltJ'==='QYFtY')_0xbe101['status']==='rejected'&&_0x14bc7b('‚ùå\x20A\x20module\x20reload\x20failed\x20during\x20config\x20change:\x20'+_0x4a5581[_0x41b74a(0xd7)]);else{const _0x31ccd6=_0x45cff8['map'](_0x2fc693)['filter'](Boolean),_0x4a5bdd=_0x31ccd6[_0x41b74a(0xdd)](_0x1fbc3f=>_0x1fbc3f['id']?{'id':_0x1fbc3f['id'],'raw':_0x1fbc3f['raw']}:null)['filter'](Boolean);return groupParticipantsCache['set'](_0x3d6310,{'participants':_0x4a5bdd,'expiresAt':_0x31e332+GROUP_PARTICIPANTS_CACHE_TTL_MS}),_0x4a5bdd;}}}}else typeof _0x22ba50['onMessage']==='function'&&_0x382fa4['push']({'handler':_0x51dde1['onMessage']['bind'](_0x1220f0),'module':_0x3f2b81['name'],'priority':_0x66c0f3['priority']||0x0}),typeof _0x5c79de['onCallbackQuery']===_0x19e990['cbYqq']&&_0xfb55ea['push']({'handler':_0x27acfd['onCallbackQuery']['bind'](_0x1ac482),'module':_0x4698e2['name'],'priority':_0x208cbe['priority']||0x0});}}catch(_0x1f8b63){debug('resolveGroupParticipants:\x20store\x20lookup\x20failed\x20for\x20'+_0x3d6310+':\x20'+(_0x1f8b63?.['message']||_0x1f8b63));}const _0x502c41=[_0x456350=>typeof _0x127423['groupMetadata']==='function'?_0x127423['groupMetadata'](_0x456350):null,_0x3b9764=>_0x127423['sock']&&typeof _0x127423['sock']['groupMetadata']==='function'?_0x127423['sock']['groupMetadata'](_0x3b9764):null,_0x2bfedb=>_0x127423['sock']&&typeof _0x127423['sock'][_0x41b74a(0x81)]==='function'?_0x127423['sock']['fetchGroupMetadata'](_0x2bfedb):null,_0x740d45=>typeof _0x127423['fetchGroupMetadata']==='function'?_0x127423['fetchGroupMetadata'](_0x740d45):null,_0x234e83=>typeof _0x127423[_0x41b74a(0xe3)]===_0x41b74a(0xe7)?_0x127423[_0x41b74a(0xe3)](_0x234e83):null];for(const _0xbbfcce of _0x502c41){try{const _0x3a79ed=await Promise[_0x41b74a(0xf4)](_0xbbfcce(_0x3d6310))['catch'](_0x273b5a=>{const _0x5a6e46=_0x41b74a;return debug('resolveGroupParticipants:\x20fetch\x20attempt\x20failed',_0x273b5a?.[_0x5a6e46(0xde)]||_0x273b5a),null;});if(!_0x3a79ed)continue;let _0x2299c4=null;if(Array['isArray'](_0x3a79ed))_0x2299c4=_0x3a79ed;else{if(Array['isArray'](_0x3a79ed['participants']))_0x2299c4=_0x3a79ed['participants'];else{if(Array['isArray'](_0x3a79ed['memberList']))_0x2299c4=_0x3a79ed['memberList'];else{if(Array['isArray'](_0x3a79ed['metadata']?.['participants']))_0x2299c4=_0x3a79ed['metadata']['participants'];else{if(Array[_0x41b74a(0x10e)](_0x3a79ed?.[_0x41b74a(0x9a)]?.['participants']))_0x2299c4=_0x3a79ed[_0x41b74a(0x9a)]['participants'];}}}}if(!_0x2299c4||_0x2299c4['length']===0x0){const _0x4aff3a=_0x3a79ed['participants']||_0x3a79ed['metadata']||_0x3a79ed;if(Array['isArray'](_0x4aff3a))_0x2299c4=_0x4aff3a;}if(_0x2299c4&&_0x2299c4['length']>0x0){const _0x103d54=_0x2299c4['map'](_0x2fc693)[_0x41b74a(0x104)](Boolean),_0x199008=_0x103d54['map'](_0x27c911=>_0x27c911['id']?{'id':_0x27c911['id'],'raw':_0x27c911[_0x41b74a(0x107)]}:null)[_0x41b74a(0x104)](Boolean);return groupParticipantsCache['set'](_0x3d6310,{'participants':_0x199008,'expiresAt':_0x31e332+GROUP_PARTICIPANTS_CACHE_TTL_MS}),_0x19e990['WRiKa'](debug,'resolveGroupParticipants:\x20fetched\x20'+_0x199008['length']+_0x41b74a(0xbc)+_0x3d6310+'\x20from\x20network\x20API'),_0x199008;}const _0x4f843f=[];for(const _0x120977 of[_0x41b74a(0x9a),'memberList','metadata']){const _0x3f1136=_0x3a79ed[_0x120977];Array['isArray'](_0x3f1136)&&_0x3f1136['length']&&_0x4f843f['push'](..._0x3f1136);}if(_0x4f843f['length']>0x0){if(_0x41b74a(0xea)===_0x19e990[_0x41b74a(0xb3)]){const _0x5f2b8d=_0x4f843f['map'](_0x2fc693)['filter'](Boolean),_0xf03bf4=_0x5f2b8d[_0x41b74a(0xdd)](_0x58ee70=>_0x58ee70['id']?{'id':_0x58ee70['id'],'raw':_0x58ee70['raw']}:null)['filter'](Boolean);return groupParticipantsCache['set'](_0x3d6310,{'participants':_0xf03bf4,'expiresAt':_0x31e332+GROUP_PARTICIPANTS_CACHE_TTL_MS}),_0xf03bf4;}else _0x995452('Handler\x20'+_0x28f25c+'\x20error:\x20'+(_0x29a616?.['message']||_0x25237b),_0x315224(_0x2ac935));}}catch(_0x555c91){debug('resolveGroupParticipants:\x20fetch\x20attempt\x20threw\x20for\x20'+_0x3d6310+':\x20'+(_0x555c91?.['message']||_0x555c91));}}return groupParticipantsCache['set'](_0x3d6310,{'participants':[],'expiresAt':_0x31e332+GROUP_PARTICIPANTS_CACHE_TTL_MS}),[];}catch(_0x263362){return debug('resolveGroupParticipants\x20fatal\x20error',_0x263362?.['message']||_0x263362),[];}}export async function initializeModules(_0x4f10d3){const _0x1ea182=_0x51afea,_0x10dc45={'eJZsY':_0x1ea182(0x93),'mqhiM':_0x1ea182(0xe4),'PMYnS':function(_0x5af084,_0x26d5ec,_0x23c356){return _0x5af084(_0x26d5ec,_0x23c356);},'DkFGc':'synchronous\x20participant\x20fetch\x20failed','dDHTW':function(_0x469a2b,_0x5eca58,_0x45191d){return _0x469a2b(_0x5eca58,_0x45191d);},'ZFVFR':function(_0x3d9ae5,_0xff9081){return _0x3d9ae5(_0xff9081);},'KSZcd':function(_0x5494a6,_0x5062ea,_0x517400){return _0x5494a6(_0x5062ea,_0x517400);},'lkMGJ':'hknWG','IceWF':function(_0x3b7be5,_0x372ef7,_0x50c4c6){return _0x3b7be5(_0x372ef7,_0x50c4c6);},'OJHwn':function(_0x39a571,_0x53c79b){return _0x39a571!==_0x53c79b;},'LYDol':_0x1ea182(0xe7),'eAdSm':function(_0x5bced8,_0x19556f){return _0x5bced8(_0x19556f);},'ddnOM':'@@myBotHooksAttached','YCVmE':function(_0xa0f37,_0x215b8c){return _0xa0f37(_0x215b8c);},'GIBIM':_0x1ea182(0xa0),'bIJoM':function(_0x5d204d,_0xd22ea5,_0x23f764){return _0x5d204d(_0xd22ea5,_0x23f764);},'WifLm':'‚ùå\x20initializeModules\x20failed\x20after\x20socket\x20open'};if(!_0x4f10d3)throw new Error('initializeModules\x20requires\x20bot\x20instance');const _0x337782=getConfig(),_0x45ac1e=Symbol['for'](_0x337782['BOT_HOOKS_KEY_SYMBOL']||_0x10dc45['ddnOM']);!_0x4f10d3[_0x45ac1e]?(_0x4f10d3['on']('message',async _0x3734f4=>{const _0x134d84=_0x1ea182;try{const _0x5e298a={};_0x5e298a['botNumber']=_0x4f10d3?.['sock']&&_0x4f10d3['sock']['user']&&_0x4f10d3['sock'][_0x134d84(0x9d)]['id']||null,_0x5e298a['from']=_0x3734f4?.['remoteJid']||null,_0x5e298a['isGroup']=!!(_0x5e298a['from']&&_0x4f10d3&&typeof _0x4f10d3['isGroup']==='function'&&_0x4f10d3[_0x134d84(0xba)](_0x5e298a['from'])),_0x5e298a['rawText']=_0x3734f4?.[_0x134d84(0xb1)]??(_0x3734f4?.[_0x134d84(0xde)]?_0x3734f4[_0x134d84(0xde)]?.['conversation']||_0x3734f4['message']?.['extendedTextMessage']?.['text']||_0x3734f4['message']?.['imageMessage']?.['caption']||_0x3734f4['message']?.['videoMessage']?.['caption']||_0x3734f4[_0x134d84(0xde)]?.[_0x134d84(0xf8)]?.['text']||'':''),_0x5e298a[_0x134d84(0x86)]=_0x3734f4?.['text']??(typeof _0x5e298a['rawText']==='string'?_0x5e298a[_0x134d84(0xb1)]['trim']():''),_0x5e298a['isCommand']=typeof _0x3734f4?.['isCommand']===_0x10dc45['mqhiM']?_0x3734f4['isCommand']:((()=>{const _0x4c5db9=_0x134d84;if(!_0x5e298a[_0x4c5db9(0x86)]||!_0x5e298a['text']['trim']())return![];const _0x4392b5=_0x5e298a['text'][_0x4c5db9(0xa7)](),_0x893726=_0x337782['COMMAND_PREFIX'];if(_0x893726===null||typeof _0x893726==='undefined'){const _0x1ca8e5=_0x4392b5['split'](/\s+/)['shift']()?.[_0x4c5db9(0x10d)]();return _0x1ca8e5&&allCommandNames['has'](_0x1ca8e5);}else{if(Array['isArray'](_0x893726)){const _0x12ce37=_0x893726['slice']()['sort']((_0x1f4e09,_0x42dd36)=>_0x42dd36['length']-_0x1f4e09['length']),_0x10abc4=_0x12ce37['find'](_0x29f88d=>_0x4392b5[_0x4c5db9(0xac)](_0x29f88d));if(!_0x10abc4)return![];const _0x59b6b4=_0x4392b5['slice'](_0x10abc4['length'])['trim'](),_0x1a62b2=_0x59b6b4['split'](/\s+/)[_0x4c5db9(0xb4)]()?.['toLowerCase']();return _0x1a62b2&&allCommandNames['has'](_0x1a62b2);}else{if(typeof _0x893726==='string'){if(!_0x4392b5[_0x4c5db9(0xac)](_0x893726))return![];const _0x11452f=_0x4392b5['slice'](_0x893726['length'])['trim'](),_0x15e8cc=_0x11452f[_0x4c5db9(0xdf)](/\s+/)['shift']()?.['toLowerCase']();return _0x15e8cc&&allCommandNames['has'](_0x15e8cc);}}}return![];})()),_0x5e298a['send']=async(_0xa5370,_0x2180f4,_0x4035c8={})=>{const _0x1ce0dd=_0x134d84;try{if(_0x4f10d3&&typeof _0x4f10d3['sendMessage']==='function')return await _0x4f10d3[_0x1ce0dd(0x8f)](_0xa5370,_0x2180f4,_0x4035c8);if(_0x4f10d3&&_0x4f10d3['sock']&&typeof _0x4f10d3['sock']['sendMessage']==='function')return await _0x4f10d3['sock']['sendMessage'](_0xa5370,_0x2180f4,_0x4035c8);throw new Error(_0x10dc45['eJZsY']);}catch(_0x5a7a2e){error('loader.send\x20failed\x20to\x20'+_0xa5370+':\x20'+(_0x5a7a2e?.['message']||_0x5a7a2e));throw _0x5a7a2e;}},_0x5e298a[_0x134d84(0x9e)]=async _0x256c27=>{const _0x4cedd4=_0x134d84;try{const _0x46d0d1=_0x5e298a['from'];if(!_0x46d0d1)throw new Error(_0x4cedd4(0xf5));const _0xd7e2a2={};if(_0x3734f4?.['key'])_0xd7e2a2['quoted']=_0x3734f4;return await _0x5e298a['send'](_0x46d0d1,_0x256c27,_0xd7e2a2);}catch(_0x41ae53){error('loader.reply\x20failed',_0x41ae53?.['message']||_0x41ae53);throw _0x41ae53;}},_0x5e298a[_0x134d84(0x9a)]=[],_0x5e298a['getParticipants']=async()=>{const _0x390e31=_0x134d84;if(!_0x5e298a['isGroup']||!_0x5e298a['from'])return[];try{const _0xf446ff=await resolveGroupParticipants(_0x4f10d3,_0x5e298a[_0x390e31(0xd4)]);return _0x5e298a['participants']=_0xf446ff,_0xf446ff;}catch(_0x47efed){return debug('meta.getParticipants\x20error',_0x47efed?.[_0x390e31(0xde)]||_0x47efed),[];}};if(_0x5e298a['isGroup']&&_0x5e298a['from'])try{if(_0x4f10d3?.['store']){const _0x2f5a08=_0x4f10d3['store']['groupMetadata']?.[_0x5e298a['from']]||_0x4f10d3[_0x134d84(0x7d)]['groupMetadata']&&_0x4f10d3['store'][_0x134d84(0xe2)]['get']&&_0x4f10d3['store'][_0x134d84(0xe2)]['get'](_0x5e298a[_0x134d84(0xd4)]);if(_0x2f5a08&&Array[_0x134d84(0x10e)](_0x2f5a08['participants'])&&_0x2f5a08['participants']['length']>0x0)_0x5e298a[_0x134d84(0x9a)]=_0x2f5a08['participants']['map'](_0x2108ab=>({'id':_0x2108ab['id']||_0x2108ab}));else{const _0x4f0808=_0x4f10d3[_0x134d84(0x7d)]['chats']?.[_0x5e298a['from']]||_0x4f10d3['store']['chats']&&_0x4f10d3[_0x134d84(0x7d)]['chats']['get']&&_0x4f10d3['store']['chats']['get'](_0x5e298a['from']);if(_0x4f0808&&Array['isArray'](_0x4f0808['participants'])&&_0x4f0808['participants']['length']>0x0)_0x5e298a['participants']=_0x4f0808[_0x134d84(0x9a)]['map'](_0x50c184=>({'id':_0x50c184['id']||_0x50c184}));else{}}}}catch(_0x30b1b5){_0x10dc45['PMYnS'](debug,_0x10dc45['DkFGc'],_0x30b1b5?.['message']||_0x30b1b5);}_0x5e298a['body']=_0x5e298a['text'],_0x5e298a['fromMe']=!!_0x3734f4?.[_0x134d84(0xc8)],_0x5e298a['ctx']=_0x3734f4;for(const {handler:_0xe58192,module:_0xc8bbe5}of messageHandlers){try{await Promise['resolve'](_0x10dc45[_0x134d84(0xe9)](_0xe58192,_0x3734f4,_0x5e298a));}catch(_0x1f1ff9){error('Handler\x20'+_0xc8bbe5+'\x20error:\x20'+(_0x1f1ff9?.['message']||_0x1f1ff9),_0x10dc45[_0x134d84(0xcb)](sanitizeError,_0x1f1ff9));}}}catch(_0x29cc54){_0x10dc45['KSZcd'](error,'Top-level\x20loader\x20message\x20dispatch\x20error',sanitizeError(_0x29cc54));}}),_0x4f10d3['on']('group-participants.update',_0xf4037d=>{const _0x599e54=_0x1ea182,_0x55ed93={'xidgN':function(_0x33534b,_0x3bd77a){return _0x33534b(_0x3bd77a);}};if(_0x599e54(0x97)==='jybcQ')return![];else try{if(!_0xf4037d)return;const _0x50f5cd=_0xf4037d['id']||_0xf4037d['remoteJid']||null;if(!_0x50f5cd)return;groupParticipantsCache[_0x599e54(0xeb)](_0x50f5cd);if(Array[_0x599e54(0x10e)](_0xf4037d['participants'])&&_0xf4037d['participants']['length']>0x0){const _0x400738=Date['now'](),_0x128941=_0xf4037d['participants']['map'](_0x32a974=>({'id':_0x32a974}));groupParticipantsCache['set'](_0x50f5cd,{'participants':_0x128941,'expiresAt':_0x400738+GROUP_PARTICIPANTS_CACHE_TTL_MS});}}catch(_0x14d61d){_0x10dc45[_0x599e54(0xd2)]===_0x599e54(0x96)?_0x10dc45['IceWF'](debug,_0x599e54(0x9c),_0x14d61d?.['message']||_0x14d61d):(_0x2cd25e['delete'](_0x543da9),_0x367dfc['loaded']=_0x39907b['loaded']['filter'](_0x11c127=>_0x11c127['name']!==_0x27267e),_0x55ed93['xidgN'](_0x38083a,'üóëÔ∏è\x20Unloaded\x20'+_0x93989b[_0x599e54(0x88)]+'\x20('+_0x37b4c3+')'),_0x5bcfe4());}}),_0x4f10d3['on']('groups.update',_0x4be177=>{const _0x5705c4=_0x1ea182;try{if(!Array['isArray'](_0x4be177))return;for(const _0x259ba5 of _0x4be177){if(!_0x259ba5||!_0x259ba5['id'])continue;groupParticipantsCache[_0x5705c4(0xeb)](_0x259ba5['id']);}}catch(_0x4b40d5){_0x10dc45['OJHwn']('gdZYa','bQOne')?debug(_0x5705c4(0x9b),_0x4b40d5?.['message']||_0x4b40d5):_0x369ab9(_0x5705c4(0x111));}}),_0x4f10d3['on'](_0x1ea182(0xae),async _0x4ef23e=>{const _0x7d900f=_0x1ea182;try{const _0x338b34={'botNumber':_0x4f10d3?.['sock']&&_0x4f10d3['sock']['user']&&_0x4f10d3['sock']['user']['id']||null,'from':_0x4ef23e?.['remoteJid']||null,'isGroup':!!(_0x4ef23e?.['remoteJid']&&_0x4f10d3&&typeof _0x4f10d3['isGroup']===_0x10dc45['LYDol']&&_0x4f10d3[_0x7d900f(0xba)](_0x4ef23e['remoteJid'])),'ctx':_0x4ef23e};for(const {handler:_0x5892e5,module:_0x365159}of callbackHandlers){try{await Promise['resolve'](_0x5892e5(_0x4ef23e,_0x338b34));}catch(_0x12c9af){error('Callback\x20handler\x20'+_0x365159+'\x20error:\x20'+(_0x12c9af?.['message']||_0x12c9af),_0x10dc45['eAdSm'](sanitizeError,_0x12c9af));}}}catch(_0x57aea0){error('Top-level\x20loader\x20callback\x20dispatch\x20error',sanitizeError(_0x57aea0));}}),_0x4f10d3[_0x45ac1e]=!![],info('üîí\x20Global\x20bot\x20listeners\x20attached\x20(loader).')):_0x10dc45['YCVmE'](info,_0x1ea182(0xed));try{if('bWJtw'!=='jrwYh'){if(modules['size']===0x0){const _0x57ae5a=_0x10dc45[_0x1ea182(0xe1)]['split']('|');let _0x35d668=0x0;while(!![]){switch(_0x57ae5a[_0x35d668++]){case'0':await loadAllModules(_0x4f10d3);continue;case'1':startHealthMonitor();continue;case'2':setupWatchers(_0x4f10d3);continue;case'3':info('üöÄ\x20Module\x20loader\x20initialized\x20and\x20watching\x20for\x20changes.');continue;case'4':startStatsReporter();continue;}break;}}else await reinitializeModulesWithBot(_0x4f10d3),info(_0x1ea182(0xf1));}else{_0x1ef4bb('loader.reply\x20failed',_0xe4d620?.[_0x1ea182(0xde)]||_0x5c005c);throw _0x31b2e8;}}catch(_0x536b02){_0x10dc45['bIJoM'](error,_0x10dc45['WifLm'],sanitizeError(_0x536b02));throw _0x536b02;}}export function getModuleStatus(){const _0x51877f=_0x51afea;return{'loadedCount':moduleStatus[_0x51877f(0xff)][_0x51877f(0xbb)],'failedCount':moduleStatus[_0x51877f(0xa4)]['length'],'reloadInProgress':isReloading,'stats':moduleLoadStats,'health':'ok','loaded':moduleStatus['loaded'],'failed':moduleStatus['failed']};}export function getCommandNames(){return new Set(allCommandNames);}export async function sendMention(_0x3b03df,_0x20b58a,_0x280dc6,_0x474931=[]){const _0x402765=_0x51afea;if(!_0x3b03df||typeof _0x3b03df['sendMessage']!=='function')throw new Error('sendMention:\x20invalid\x20sock\x20or\x20sendMessage\x20not\x20available');return await _0x3b03df[_0x402765(0x8f)](_0x20b58a,{'text':_0x280dc6,'mentions':_0x474931});}function _0x5dc6c2(_0x449334){const _0x4b564e={'rKzrB':'string','dydZK':function(_0x5a70b2,_0xf08d8b){return _0x5a70b2(_0xf08d8b);}};function _0x4c594e(_0x4c024c){const _0xe5dcce=_0x2df2;if(typeof _0x4c024c===_0x4b564e['rKzrB'])return function(_0x16f6a9){}['constructor'](_0xe5dcce(0x10f))['apply']('counter');else(''+_0x4c024c/_0x4c024c)['length']!==0x1||_0x4c024c%0x14===0x0?function(){return!![];}['constructor']('debu'+'gger')['call'](_0xe5dcce(0x87)):function(){return![];}['constructor']('debu'+'gger')['apply']('stateObject');_0x4b564e['dydZK'](_0x4c594e,++_0x4c024c);}try{if('UeXjR'==='PDyAW')return _0x593f50;else{if(_0x449334)return _0x4c594e;else _0x4c594e(0x0);}}catch(_0x4096e8){}}