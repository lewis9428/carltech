function _0x2257(){const _0x5901e9=['uMvKywn0zwq','AgfZ','BM8GDxnHyMXLigv4Cg9YDhmGkgLUAxrPywXPEMuSig9UtwvZC2fNzsWGB25dywXSyMfJA1f1zxj5kq','v2f0y2HLCIb0B3aTBgv2zwWGzxjYB3i6ia','ChjVzhvJDgLVBG','ihDPDgGGBMv3igjVDa','mJe2ndjWrLDyu3u','Aw5PDgLHBgL6zq','BwvZC2fNzq','A2v5CW','ywrK','AgfZt3DU','AxndB21Tyw5K','suTSuNO','Dg9mB3DLCKnHC2u','q1jjveLdquXFtuvnt1jzx1vtquDfx01c','AM9PBG','zNjVBq','wevmvee','B25nzxnZywDL','zgvIDq','4PUuie1VzhvSzsa','ndjcBu5VEfe','Aw5JBhvKzxm','qK9ps0Lfu19esvjFtKfnrq','Aw52ywXPzcbTB2r1BguGzgv0zwn0zwqGB24GCMvSB2fK','Bw9K','DhjPBq','Bwv0ywrHDge','4PQG77IpieHPz2GGBwvTB3j5ihvZywDLoIa','DMfSDwvZ','yM9VBgvHBG','8j+vKIbgDwXSig1VzhvSzsbSB2fKignVBxbSzxrLzcbPBIa','C3rVCMu','Dgv4Da','C2v0sw50zxj2ywW','CgnkDMC','y2HHDhm','BuHKyuu','C2vYDMvY','zxHWAxjLC0f0','BwvTB3j5vxnHz2u','Bg9HzgvK','uMuTAw5PDgLHBgL6zwqG','ig1ZzYWG','tM8GBw9KDwXLCYb0BYbSB2fK','svbyEgi','4P2mieeGBw9KDwXLihjLBg9HzcbMywLSzwqGzhvYAw5NignVBMzPzYbJAgfUz2u6ia','ndbLEw92zM8','C2XPy2u','DxnLCG','lwLUAxrPywXPEMuTC3rHCNq','y291BNrLCG','mJuYndi3n21YvuTqDG','y2HHAw4','u3Dxu1y','DxrMltG','igzYB20GBMv0D29YAYbbueK','zMLSzq','mZu0otuYsuvSrLDI','igvYCM9YoIa','Dg9gAxHLza','BxmUie1HEcbmB2fKoIa','CgfYDgLJAxbHBNrZ','igzVCIbKzxbLBMrLBMn5ihbHCNnPBMC6ia','s0Lmtf9ptL9isuDix01ftu9swq','tu9evuXfx1jfte9brf9erujpvu5drv9nuW','C2v0','zMLSDgvY','yM9VA2LLCW','ChvZAa','yxzNtg9HzfrPBwu','z2v0','Dg9vChbLCKnHC2u','AxnhCM91Ca','4PQG77Ipie1VzhvSzsa','4OAsieHVDc1YzwXVywrPBMCG','CgfYC2u','BM93','rMTzAeO','mZmXotK4Dw9lwxzQ','CMvZB2X2zq','seLhsf9nru1puLLFvvnbr0vFv0fstL9nqG','DgvZDa','lcbgywLSCZOG','lwLUAxrPywXPEMu','CMvZB2X2zuDYB3vWugfYDgLJAxbHBNrZoIbMzxrJAcbHDhrLBxb0igzHAwXLza','z3jVDxbnzxrHzgf0yq','DMvYC2LVBG','B2jQzwn0','zNvUy3rPB24','rvDhreG','DxbKyxrLsgfUzgXLCNm','mJu4ntq1mfvdAej5CG','z2v0rw50CMLLCW','mZK5otuYtfHOr1rd','BvP5rgC','C3rYAw5N','8j+uHcbdAxjJDwXHCIbKzxbLBMrLBMn5igrLDgvJDgvKigLUDM9SDMLUzZOG','nJnmEMr6txq','C29JAW','CY53Agf0C2fWCc5Uzxq','AxnbyNnVBhv0zq','zhvYyxrPB24','y1PwEwS','C2L6zq','AxnbCNjHEq','ieTckq','8j+tIcbty2HLzhvSAw5Nihn0yxrZihjLCg9YDgLUzYbLDMvYEsa','wKrSzMW','BgvUz3rO','tuiPigv4y2vLzgvKigXPBwL0ig9Mia','C3bSAxq','C2vUza','CMvZB2X2zuDYB3vWugfYDgLJAxbHBNrZoIbZDg9YzsbSB29RDxaGzMfPBgvKigzVCIa','z09vzuW','zMfPBgvK','4PUuifnRAxbWAw5Nig5VBI1MAwXLigvUDhj5oIa','tgXVzLa','BwvTyMvYtgLZDa','z3jVDxaTCgfYDgLJAxbHBNrZlNvWzgf0zsbOyw5KBgvYigvYCM9Y','ihvUy2HHBMDLzcWGC2TPChbPBMCGCMvSB2fKlG','vg9WlwXLDMvSigXVywrLCIbTzxnZywDLigrPC3bHDgnOigvYCM9Y','8j+tIcbtDgf0CYbYzxbVCNrPBMCGAxmGzgLZywjSzwqGkgLUDMfSAwqGAw50zxj2ywWPlG','BwfYAW','BMfTzq','DMLKzw9nzxnZywDL','y29UzMLNs2v5CW','CgfYDgLJAxbHBNq','q211rxO','AxngAw5PDgu','y2fSBgjHy2TFCxvLCNK6zgf0yq','BwfW','BwLZC2LUzYaIBMfTzsiGzxHWB3j0','zgvSzxrL','mJC2oty4tKHQAeDI','y29UC3rYDwn0B3i','iM9Uq2fSBgjHy2TrDwvYEsiGAxmGBM90igeGzNvUy3rPB24','8j+tIcbtDgf0CZOG','Dfnduu8'];_0x2257=function(){return _0x5901e9;};return _0x2257();}(function(_0xa874c9,_0x3bdd01){const _0x590554=_0x1ed8,_0x13c034=_0xa874c9();while(!![]){try{const _0x2a5a59=parseInt(_0x590554(0x16d))/0x1+parseInt(_0x590554(0x1c4))/0x2*(parseInt(_0x590554(0x1d4))/0x3)+-parseInt(_0x590554(0x1b9))/0x4+-parseInt(_0x590554(0x162))/0x5*(parseInt(_0x590554(0x182))/0x6)+-parseInt(_0x590554(0x167))/0x7+parseInt(_0x590554(0x191))/0x8*(parseInt(_0x590554(0x195))/0x9)+parseInt(_0x590554(0x18f))/0xa;if(_0x2a5a59===_0x3bdd01)break;else _0x13c034['push'](_0x13c034['shift']());}catch(_0x57d2d7){_0x13c034['push'](_0x13c034['shift']());}}}(_0x2257,0x3b300));const _0x3df66b=(function(){let _0x16e4e0=!![];return function(_0x36c4f9,_0x19325b){const _0x1119dd=_0x16e4e0?function(){if(_0x19325b){const _0x5d7626=_0x19325b['apply'](_0x36c4f9,arguments);return _0x19325b=null,_0x5d7626;}}:function(){};return _0x16e4e0=![],_0x1119dd;};}());(function(){const _0x935213={'hawfw':function(_0x7755,_0x1ee911){return _0x7755+_0x1ee911;},'chHXL':function(_0x401fce,_0x5ee32b,_0x5f0fb1){return _0x401fce(_0x5ee32b,_0x5f0fb1);}};_0x935213['chHXL'](_0x3df66b,this,function(){const _0xbdd3a9=_0x1ed8,_0x11a23e=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x4a795e=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x497d45=_0x3d99ee('init');!_0x11a23e[_0xbdd3a9(0x185)](_0x935213['hawfw'](_0x497d45,_0xbdd3a9(0x168)))||!_0x4a795e['test'](_0x497d45+'input')?_0x497d45('0'):_0x3d99ee();})();}());import{readdir,stat,readFile}from'fs/promises';import _0x27a8a0 from'path';import{fileURLToPath,pathToFileURL}from'url';import _0x59ad0c from'chokidar';import _0x217368 from'p-limit';import _0x5fe18b from'crypto';import{performance,PerformanceObserver}from'perf_hooks';import{info,warn,error,debug,trace}from'./logger.js';import{hotReloadConfig,getConfig,PROJECT_ROOT}from'./config.js';const __dirname=_0x27a8a0['dirname'](fileURLToPath(import.meta['url'])),MAX_INTERVAL_MS=0x7fffffff;(function(){const _0xe0abdb=_0x1ed8;let _0x5ea4d0;try{if('UJkYL'!=='UJkYL')_0x50592e('resolveGroupParticipants:\x20store\x20lookup\x20failed\x20for\x20'+_0x576fd0+':\x20'+(_0x41d3bf?.['message']||_0x311459));else{const _0x42f719=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5ea4d0=_0x42f719();}}catch(_0x556e58){_0x5ea4d0=window;}_0x5ea4d0[_0xe0abdb(0x155)](_0x3d99ee,0x61a80);}());const DEPENDENCY_GRAPH=new Map(),modules=new Map();let messageHandlers=[],callbackHandlers=[],isReloading=![],moduleLoadStats={'totalLoads':0x0,'totalFailures':0x0,'lastError':null,'avgLoadTime':0x0,'maxLoadTime':0x0};const allCommandNames=new Set();let concurrencyLimiter=_0x217368(getConfig()['MODULE_CONCURRENCY_LIMIT']||0x5);const fileTimers=new Map();export const moduleStatus={'loaded':[],'failed':[],'lastReload':null,'dependencies':new Map()};const perfObserver=new PerformanceObserver(_0x3ac788=>{const _0x1a72e6=_0x1ed8;_0x3ac788[_0x1a72e6(0x190)]()['forEach'](_0x3d9962=>{const _0x56d36b=_0x1a72e6;trace(_0x3d9962['name']+'\x20took\x20'+_0x3d9962['duration']['toFixed'](0x2)+'ms'),_0x3d9962[_0x56d36b(0x1af)]['startsWith']('module:')&&_0x3d9962['duration']>moduleLoadStats['maxLoadTime']&&(moduleLoadStats['maxLoadTime']=_0x3d9962[_0x56d36b(0x199)]);});});perfObserver['observe']({'entryTypes':['measure']});function sanitizeError(_0x531dc5){const _0x1646b1=_0x1ed8,_0x43547f=getConfig();if(_0x43547f['NODE_ENV']===_0x1646b1(0x1c2))return{'name':_0x531dc5?.['name']??'Error','message':_0x531dc5?.['message']??'Error','stack':_0x531dc5?.['stack']?_0x1646b1(0x1be):undefined};return _0x531dc5;}function calculateDependencyGraph(){DEPENDENCY_GRAPH['clear']();for(const [_0x4a54c2,{mod:_0xcca06e}]of modules){Array['isArray'](_0xcca06e['dependencies'])&&DEPENDENCY_GRAPH['set'](_0x4a54c2,new Set(_0xcca06e['dependencies']));}moduleStatus['dependencies']=new Map(DEPENDENCY_GRAPH);}function getAffectedModules(_0x5d117f){const _0xef4e66=_0x1ed8,_0xf008ee=new Set([_0x5d117f]),_0xd12f3d=[_0x5d117f];let _0x2e6fdc=0x0;while(_0x2e6fdc<_0xd12f3d['length']){const _0x48a40a=_0xd12f3d[_0x2e6fdc++];for(const [_0x2789f4,_0x142219]of DEPENDENCY_GRAPH){if(_0x142219['has'](_0x48a40a)&&!_0xf008ee['has'](_0x2789f4)){if(_0xef4e66(0x169)==='SwWSV')_0xf008ee['add'](_0x2789f4),_0xd12f3d['push'](_0x2789f4);else{const _0x1dc132=_0x5e0c32[_0x542b93];_0x20c80e['isArray'](_0x1dc132)&&_0x1dc132['length']&&_0x4596da[_0xef4e66(0x178)](..._0x1dc132);}}}}return Array['from'](_0xf008ee);}function validateModule(_0x5d0c3a,_0x2a5d4b){const _0x1b75d9=_0x1ed8,_0x26182a={'RNXxa':_0x1b75d9(0x18a),'GYAtb':'\x22onMessage\x22\x20is\x20not\x20a\x20function','xQQEt':function(_0x37342b,_0x4d7d9f){return _0x37342b!==_0x4d7d9f;},'QbsNW':function(_0x2f2ee0,_0x394f3c){return _0x2f2ee0(_0x394f3c);},'LuFbY':function(_0x2977f5,_0x1bcf5e){return _0x2977f5===_0x1bcf5e;}},_0x201e5a=_0x5d0c3a['name']||_0x2a5d4b,_0x4e08da=[],_0x2e55be=[];if(!Object[_0x1b75d9(0x1c9)](_0x5d0c3a,'name'))_0x4e08da[_0x1b75d9(0x178)](_0x1b75d9(0x1b7));if(!Object['hasOwn'](_0x5d0c3a,_0x26182a['RNXxa']))_0x2e55be[_0x1b75d9(0x178)]('missing\x20\x22version\x22\x20export');!Object[_0x1b75d9(0x1c9)](_0x5d0c3a,_0x1b75d9(0x1c5))&&!Object['hasOwn'](_0x5d0c3a,_0x1b75d9(0x1d1))&&!Object['hasOwn'](_0x5d0c3a,'onCallbackQuery')&&_0x4e08da['push'](_0x1b75d9(0x1c0));Object['hasOwn'](_0x5d0c3a,'onMessage')&&typeof _0x5d0c3a['onMessage']!=='function'&&_0x4e08da['push'](_0x26182a['GYAtb']);Object['hasOwn'](_0x5d0c3a,'onCallbackQuery')&&_0x26182a['xQQEt'](typeof _0x5d0c3a['onCallbackQuery'],'function')&&_0x4e08da['push']('\x22onCallbackQuery\x22\x20is\x20not\x20a\x20function');_0x5d0c3a['dependencies']&&!Array['isArray'](_0x5d0c3a['dependencies'])&&_0x4e08da['push']('\x22dependencies\x22\x20must\x20be\x20an\x20array');if(_0x4e08da['length'])_0x26182a['QbsNW'](warn,_0x1b75d9(0x1d3)+_0x201e5a+'\x20has\x20validation\x20issues:\x20'+_0x4e08da['join'](',\x20'));if(_0x2e55be['length'])warn(_0x1b75d9(0x17d)+_0x201e5a+'\x20warnings:\x20'+_0x2e55be[_0x1b75d9(0x1ce)](',\x20'));return _0x26182a['LuFbY'](_0x4e08da['length'],0x0);}function updateAllCommandNames(){const _0x81b9f2=_0x1ed8;allCommandNames['clear']();for(const {mod:_0x5199e4}of modules['values']()){if(_0x5199e4['name']&&typeof _0x5199e4['name']==='string')allCommandNames[_0x81b9f2(0x1c8)](_0x5199e4['name']['toLowerCase']());if(Array['isArray'](_0x5199e4['commands'])){for(const _0x29294b of _0x5199e4['commands'])if(typeof _0x29294b==='string'&&_0x29294b)allCommandNames['add'](_0x29294b['toLowerCase']());}}debug('🔧\x20Updated\x20command\x20list:\x20'+allCommandNames[_0x81b9f2(0x19b)]+'\x20total\x20commands\x20recognized.');}function updateHandlers(){const _0x21c071=_0x1ed8,_0x2e9484={'qiKgg':'function','mHdaE':function(_0x482139,_0x3aa9da){return _0x482139!==_0x3aa9da;},'ZDlfl':function(_0x2c536b,_0x405c57){return _0x2c536b===_0x405c57;},'bUqxv':'updateHandlers-end'};performance['mark']('updateHandlers-start'),messageHandlers=[],callbackHandlers=[];const _0x1c95da=[...modules[_0x21c071(0x1dc)]()]['sort']((_0x23b6ce,_0x574e63)=>(_0x574e63['priority']??0x0)-(_0x23b6ce['priority']??0x0));for(const {mod:_0x4effd7}of _0x1c95da){typeof _0x4effd7[_0x21c071(0x1d1)]==='function'&&messageHandlers[_0x21c071(0x178)]({'handler':_0x4effd7['onMessage']['bind'](_0x4effd7),'module':_0x4effd7['name'],'priority':_0x4effd7['priority']||0x0}),typeof _0x4effd7['onCallbackQuery']===_0x2e9484['qiKgg']&&(_0x2e9484[_0x21c071(0x158)]('gAbFp','lTGGt')?callbackHandlers['push']({'handler':_0x4effd7['onCallbackQuery']['bind'](_0x4effd7),'module':_0x4effd7['name'],'priority':_0x4effd7['priority']||0x0}):(_0xabe2b8['add'](_0x4cc9ff),_0x35fca9['push'](_0x1fa80f)));}messageHandlers['sort']((_0x5a5f21,_0x3b2b16)=>_0x3b2b16['priority']-_0x5a5f21['priority']),callbackHandlers['sort']((_0x2a6ef9,_0x4b9db6)=>_0x4b9db6['priority']-_0x2a6ef9['priority']);const _0x422b69=getConfig();if(messageHandlers['length']+callbackHandlers['length']>(_0x422b69['MAX_HANDLERS_WARNING_THRESHOLD']||0x64)){if(_0x2e9484[_0x21c071(0x19f)]('cvspj','cvspj'))warn('⚠️\x20Excessive\x20handlers\x20registered:\x20'+messageHandlers['length']+_0x21c071(0x15e)+callbackHandlers['length']+'\x20cb');else{if(_0x281ba6?.[_0x21c071(0x153)]){const _0x24860f=_0x45c3c4['store']['groupMetadata']?.[_0x4bea1c]||_0x5867d0[_0x21c071(0x153)]['groupMetadata']&&typeof _0x55b88b['store']['groupMetadata']['get']==='function'&&_0xf68c07[_0x21c071(0x153)]['groupMetadata']['get'](_0x3dbddc)||_0x5a789e['store']['chats']?.[_0x4f99dd]||_0x15af25['store']['chats']&&typeof _0x5e1735['store'][_0x21c071(0x157)][_0x21c071(0x17a)]===_0x2e9484['qiKgg']&&_0x53af13['store']['chats'][_0x21c071(0x17a)](_0x3e5668);if(_0x24860f){const _0x54fa4b=_0x213c3c[_0x21c071(0x19c)](_0x24860f['participants'])?_0x24860f['participants']:_0x35b048[_0x21c071(0x19c)](_0x24860f['participants'])?_0x24860f['participants']:[];if(_0x54fa4b&&_0x54fa4b['length']>0x0){const _0x3ebbe2=_0x54fa4b['map'](_0x199e77)[_0x21c071(0x176)](_0x137d74),_0x425a9b=_0x3ebbe2['map'](_0x233614=>_0x233614['id']?{'id':_0x233614['id'],'raw':_0x233614['raw']}:null)['filter'](_0x49cbad);return _0x4b2b93['set'](_0x2b8e14,{'participants':_0x425a9b,'expiresAt':_0x15e3ae+_0x3f530c}),_0x425a9b;}}}}}performance['mark']('updateHandlers-end'),performance['measure'](_0x21c071(0x18e),'updateHandlers-start',_0x2e9484['bUqxv']),updateAllCommandNames(),debug('🔧\x20Handlers\x20updated:\x20'+messageHandlers['length']+'\x20msg,\x20'+callbackHandlers['length']+'\x20cb');}async function unloadModule(_0x29b52b,_0x48cf48='reload'){const _0x5039aa=_0x1ed8,_0x194ef6={'KuvYZ':function(_0x321da6,_0x11b5e4){return _0x321da6(_0x11b5e4);},'cZVyk':function(_0x12b314){return _0x12b314();}};if(!modules['has'](_0x29b52b))return;const _0x2d0206=modules['get'](_0x29b52b),_0x13b787=_0x2d0206[_0x5039aa(0x1d8)];try{typeof _0x13b787['cleanup']===_0x5039aa(0x18c)&&(await Promise['resolve'](_0x13b787['cleanup']()),_0x194ef6['KuvYZ'](debug,'🧹\x20Cleaned\x20up\x20'+_0x13b787['name']));}catch(_0x4ec9de){'dVjhw'==='wrQDY'?_0x1f2863('🔒\x20Global\x20bot\x20listeners\x20already\x20attached\x20(idempotent).'):error('❌\x20Failed\x20to\x20clean\x20up\x20'+_0x13b787['name']+':\x20'+(_0x4ec9de?.[_0x5039aa(0x1c6)]||_0x4ec9de),sanitizeError(_0x4ec9de));}finally{modules['delete'](_0x29b52b),moduleStatus[_0x5039aa(0x15c)]=moduleStatus[_0x5039aa(0x15c)]['filter'](_0x126930=>_0x126930['name']!==_0x29b52b),info('🗑️\x20Unloaded\x20'+_0x13b787['name']+'\x20('+_0x48cf48+')'),_0x194ef6[_0x5039aa(0x19a)](updateHandlers);}}async function loadFile(_0x6b2cc0,_0x477ba6=![],_0x37f910=null){const _0x1a3417=_0x1ed8,_0x3d3e41={'oHxgK':function(_0x4955dd,_0x5001ca){return _0x4955dd*_0x5001ca;},'vWwOz':function(_0xe92308,_0x480528){return _0xe92308(_0x480528);}},_0x2a3f2f=getConfig(),_0x390756=_0x27a8a0[_0x1a3417(0x198)](_0x2a3f2f[_0x1a3417(0x1d6)])?_0x2a3f2f['BOOKIES_DIR_NAME']:_0x27a8a0['join'](PROJECT_ROOT,_0x2a3f2f['BOOKIES_DIR_NAME']||'bookies'),_0x499331=_0x27a8a0['join'](_0x390756,_0x6b2cc0),_0x2853ed=_0x27a8a0['parse'](_0x6b2cc0)['name'],_0x6f9496=performance[_0x1a3417(0x180)]();try{const _0x1194fe=await stat(_0x499331);if(!_0x1194fe['isFile']())return warn(_0x1a3417(0x1a7)+_0x6b2cc0),![];_0x1194fe[_0x1a3417(0x19b)]>(_0x2a3f2f['MAX_MODULE_FILE_SIZE_WARN_BYTES']||0x100000)&&warn('⚠️\x20Module\x20'+_0x6b2cc0+'\x20is\x20large\x20('+(_0x1194fe[_0x1a3417(0x19b)]/0x400)['toFixed'](0x1)+_0x1a3417(0x19d));const _0xf90df5=await readFile(_0x499331),_0x8460ce=_0x5fe18b['createHash']('sha256')['update'](_0xf90df5)['digest']('hex');if(modules['has'](_0x2853ed)&&modules['get'](_0x2853ed)['fileHash']===_0x8460ce){if('LlofP'!==_0x1a3417(0x1a8)){if(_0x5dc52c){const _0x44b79a=_0x46bc1c['apply'](_0x406f32,arguments);return _0x4bb657=null,_0x44b79a;}}else return debug('♻️\x20Module\x20'+_0x2853ed+_0x1a3417(0x1ab)),![];}if(_0x477ba6&&modules['has'](_0x2853ed)){if('Mfkon'!=='jLOJj'){const {mod:_0x25c877}=modules['get'](_0x2853ed);typeof _0x25c877['beforeReload']==='function'&&await Promise['resolve'](_0x25c877['beforeReload']());}else _0x28b8b0[_0x1a3417(0x1bf)](_0x2ee32a)&&!_0x15f5e6['has'](_0x429c63)&&(_0x5e15ef['add'](_0x508d23),_0x39d14d['push'](_0x273c2c));}const _0x25eb3c=pathToFileURL(_0x499331)['href']+'?t='+Date['now'](),_0x321aa0=await import(_0x25eb3c);let _0x13faf7={..._0x321aa0};_0x321aa0['default']&&typeof _0x321aa0['default']==='object'&&(_0x13faf7={..._0x13faf7,..._0x321aa0['default']});if(!validateModule(_0x13faf7,_0x6b2cc0)){warn('⛔\x20Skipping\x20invalid\x20module:\x20'+_0x6b2cc0);if(modules['has'](_0x2853ed))await unloadModule(_0x2853ed,_0x1a3417(0x1d7));return![];}const _0x8e432c=_0x13faf7[_0x1a3417(0x1af)]||_0x2853ed;modules['has'](_0x2853ed)&&await unloadModule(_0x2853ed,'before\x20reload');typeof _0x13faf7[_0x1a3417(0x1c5)]==='function'&&_0x37f910&&(performance['mark']('module:'+_0x8e432c+_0x1a3417(0x165)),await Promise['resolve'](_0x13faf7[_0x1a3417(0x1c5)](_0x37f910)),performance[_0x1a3417(0x1ae)]('module:'+_0x8e432c+'-initialize-end'),performance['measure']('module:'+_0x8e432c+_0x1a3417(0x187),'module:'+_0x8e432c+'-initialize-start','module:'+_0x8e432c+'-initialize-end'),debug('⏱️\x20Initialized\x20'+_0x8e432c));modules['set'](_0x2853ed,{'mod':_0x13faf7,'priority':_0x13faf7['priority']||0x0,'file':_0x6b2cc0,'fileHash':_0x8460ce,'lastLoaded':Date['now']()}),moduleStatus['loaded']=moduleStatus[_0x1a3417(0x15c)]['filter'](_0x29b86f=>_0x29b86f['name']!==_0x8e432c),moduleStatus['failed']=moduleStatus['failed']['filter'](_0x2b7b84=>_0x2b7b84[_0x1a3417(0x16c)]!==_0x6b2cc0),moduleStatus['loaded'][_0x1a3417(0x178)]({'name':_0x8e432c,'version':_0x13faf7['version']||'?','file':_0x6b2cc0,'loadedAt':Date['now'](),'size':_0x1194fe['size'],'hash':_0x8460ce}),calculateDependencyGraph();const _0x2b87de=performance[_0x1a3417(0x180)]()-_0x6f9496;moduleLoadStats['totalLoads']++,moduleLoadStats['avgLoadTime']=(_0x3d3e41['oHxgK'](moduleLoadStats[_0x1a3417(0x179)],moduleLoadStats['totalLoads']-0x1)+_0x2b87de)/moduleLoadStats['totalLoads'];if(_0x2b87de>moduleLoadStats['maxLoadTime'])moduleLoadStats['maxLoadTime']=_0x2b87de;return info((_0x477ba6?'♻️\x20Reloaded':'✅\x20Loaded')+'\x20'+_0x8e432c+'\x20v'+(_0x13faf7['version']||'?')+'\x20in\x20'+_0x2b87de['toFixed'](0x2)+'ms'),!![];}catch(_0x3ee089){const _0x21fdbf=_0x477ba6?'reload':'load';return error('❌\x20Failed\x20to\x20'+_0x21fdbf+'\x20'+_0x2853ed+':\x20'+(_0x3ee089?.['message']||_0x3ee089),_0x3d3e41['vWwOz'](sanitizeError,_0x3ee089)),moduleStatus['failed']['push']({'file':_0x6b2cc0,'error':_0x3ee089?.[_0x1a3417(0x1c6)]||String(_0x3ee089),'timestamp':Date['now']()}),moduleLoadStats['totalFailures']++,moduleLoadStats['lastError']={'file':_0x6b2cc0,'timestamp':Date['now'](),'error':_0x3ee089?.['message']||String(_0x3ee089)},modules['delete'](_0x2853ed),![];}finally{'tWKhI'==='tWKhI'?updateHandlers():_0x4c8bd8('group-participants.update\x20handler\x20error',_0x1306cb?.['message']||_0x367e62);}}async function loadAllModules(_0x59b774){const _0x315920=_0x1ed8,_0x40f8da={'fCghO':function(_0x28f15a,_0x58b707,_0x1beca2){return _0x28f15a(_0x58b707,_0x1beca2);},'CmuEz':function(_0xe4df3a,_0x5acc87){return _0xe4df3a(_0x5acc87);}},_0x218d6a=getConfig();info('📦\x20Starting\x20full\x20module\x20load\x20process...');const _0x229a90=performance['now']();moduleStatus['loaded']=[],moduleStatus[_0x315920(0x1a6)]=[],moduleLoadStats['totalLoads']=0x0,moduleLoadStats['totalFailures']=0x0,moduleLoadStats['avgLoadTime']=0x0,moduleLoadStats['maxLoadTime']=0x0,moduleLoadStats['lastError']=null;const _0x580381=_0x27a8a0['isAbsolute'](_0x218d6a['BOOKIES_DIR_NAME'])?_0x218d6a['BOOKIES_DIR_NAME']:_0x27a8a0['join'](PROJECT_ROOT,_0x218d6a[_0x315920(0x1d6)]||_0x315920(0x177));let _0x575077=[];try{_0x575077=(await readdir(_0x580381))['filter'](_0x45f9e0=>_0x218d6a['ALLOWED_MODULE_EXTENSIONS'][_0x315920(0x1d5)](_0x27a8a0['extname'](_0x45f9e0)));}catch(_0x45b3f7){warn('⚠️\x20Could\x20not\x20read\x20modules\x20directory\x20\x22'+_0x580381+'\x22:\x20'+(_0x45b3f7?.['message']||_0x45b3f7)),_0x575077=[];}const _0x22d243=new Map(_0x575077['map'](_0x42bab2=>[_0x27a8a0['parse'](_0x42bab2)['name'],_0x42bab2])),_0x3e921b=new Map();for(const _0x2b6a42 of _0x575077){try{const _0xb64ab2=await _0x40f8da['fCghO'](readFile,_0x27a8a0['join'](_0x580381,_0x2b6a42),_0x315920(0x16a)),_0x1065fe=_0xb64ab2['match'](/configKeys\s*=\s*\[([^\]]+)\]|dependencies\s*[:=]\s*\[([^\]]+)\]/);if(_0x1065fe){const _0x547395=_0x1065fe[0x1]||_0x1065fe[0x2];_0x547395&&_0x3e921b['set'](_0x27a8a0[_0x315920(0x17f)](_0x2b6a42)['name'],_0x547395['split'](',')[_0x315920(0x1b6)](_0x2f13e0=>_0x2f13e0['trim']()['replace'](/['"]/g,'')));}}catch(_0xd91072){warn('⚠️\x20Could\x20not\x20read\x20'+_0x2b6a42+_0x315920(0x172)+(_0xd91072?.['message']||_0xd91072));}}const _0x46bbd4=[],_0x38dad9=new Set(),_0x2b0792=new Set();function _0x35d00e(_0x38c1d8){const _0x53b42e=_0x315920;if(!_0x22d243['has'](_0x38c1d8)){debug('Skipping\x20visit\x20for\x20non-existent\x20module\x20file:\x20'+_0x38c1d8);return;}if(_0x38dad9['has'](_0x38c1d8))return;if(_0x2b0792['has'](_0x38c1d8)){warn(_0x53b42e(0x194)+_0x38c1d8+'.\x20This\x20module\x20and\x20its\x20dependents\x20might\x20not\x20load\x20correctly.');return;}_0x2b0792[_0x53b42e(0x1c8)](_0x38c1d8);const _0x21405b=_0x3e921b['get'](_0x38c1d8)||[];for(const _0x23fe22 of _0x21405b)_0x35d00e(_0x23fe22);_0x2b0792['delete'](_0x38c1d8),_0x38dad9['add'](_0x38c1d8),_0x46bbd4['push'](_0x22d243['get'](_0x38c1d8));}for(const _0x2aac73 of _0x575077)_0x35d00e(_0x27a8a0['parse'](_0x2aac73)['name']);_0x40f8da[_0x315920(0x1b3)](info,'\x20\x20-\x20Load\x20order:\x20'+(_0x46bbd4[_0x315920(0x1a0)]>0x0?_0x46bbd4['map'](_0xff721e=>_0x27a8a0[_0x315920(0x17f)](_0xff721e)['name'])['join'](',\x20'):_0x315920(0x15f)));const _0x240368=_0x46bbd4['map'](_0x1f88c1=>concurrencyLimiter(()=>loadFile(_0x1f88c1,![],_0x59b774)));await Promise['allSettled'](_0x240368),moduleStatus['loaded']['sort']((_0x1ed914,_0x4418f9)=>_0x1ed914['name']['localeCompare'](_0x4418f9['name']));if(moduleStatus['loaded']['length']>0x0)for(const _0x2b6a15 of moduleStatus['loaded']){info('\x20\x20-\x20'+_0x2b6a15['name']+'\x20v'+_0x2b6a15['version']);}if(moduleStatus['loaded']['length']>0x0){const _0x21c66f=moduleStatus['loaded']['length'],_0xabf826=moduleStatus['loaded']['map'](_0x9808a=>_0x9808a['name']+'\x20v'+_0x9808a['version'])['join'](',\x20');info('✅\x20'+_0x21c66f+'\x20modules\x20loaded:\x20'+_0xabf826);}else info('✅\x20No\x20modules\x20were\x20loaded.');moduleStatus['failed']['length']>0x0&&warn('❌\x20Failed\x20to\x20load:\x20'+moduleStatus['failed']['map'](_0x5437d7=>_0x5437d7['file'])['join'](',\x20'));const _0x27f28d=performance['now']()-_0x229a90;return info(_0x315920(0x152)+_0x27f28d[_0x315920(0x16f)](0x2)+'ms'),moduleStatus['lastReload']=Date['now'](),{'success':moduleStatus['loaded'][_0x315920(0x1a0)],'failed':moduleStatus['failed']['length']};}function _0x1ed8(_0xa2c536,_0x1cdea4){const _0x38ffa4=_0x2257();return _0x1ed8=function(_0x3d99ee,_0x3df66b){_0x3d99ee=_0x3d99ee-0x151;let _0x18e1ea=_0x38ffa4[_0x3d99ee];if(_0x1ed8['DPNdFt']===undefined){var _0x25441c=function(_0x1e8de8){const _0x4875f5='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3d0085='',_0x8ef061='';for(let _0x7be449=0x0,_0x1c8a5d,_0x1ad825,_0x4a7905=0x0;_0x1ad825=_0x1e8de8['charAt'](_0x4a7905++);~_0x1ad825&&(_0x1c8a5d=_0x7be449%0x4?_0x1c8a5d*0x40+_0x1ad825:_0x1ad825,_0x7be449++%0x4)?_0x3d0085+=String['fromCharCode'](0xff&_0x1c8a5d>>(-0x2*_0x7be449&0x6)):0x0){_0x1ad825=_0x4875f5['indexOf'](_0x1ad825);}for(let _0x3eff91=0x0,_0x3bcb8f=_0x3d0085['length'];_0x3eff91<_0x3bcb8f;_0x3eff91++){_0x8ef061+='%'+('00'+_0x3d0085['charCodeAt'](_0x3eff91)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x8ef061);};_0x1ed8['MhKcTq']=_0x25441c,_0xa2c536=arguments,_0x1ed8['DPNdFt']=!![];}const _0x2257a4=_0x38ffa4[0x0],_0x1ed8ab=_0x3d99ee+_0x2257a4,_0x2f41a8=_0xa2c536[_0x1ed8ab];return!_0x2f41a8?(_0x18e1ea=_0x1ed8['MhKcTq'](_0x18e1ea),_0xa2c536[_0x1ed8ab]=_0x18e1ea):_0x18e1ea=_0x2f41a8,_0x18e1ea;},_0x1ed8(_0xa2c536,_0x1cdea4);}let healthIntervalId=null,statsIntervalId=null;function clampInterval(_0x3bd2b9){const _0x4cbaa0=_0x1ed8;if(!Number[_0x4cbaa0(0x1b4)](_0x3bd2b9)||_0x3bd2b9<=0x0)return 0x0;if(_0x3bd2b9>MAX_INTERVAL_MS)return MAX_INTERVAL_MS;return _0x3bd2b9;}export function startHealthMonitor(){const _0x50e43e=_0x1ed8,_0x1b9d9f={'yAWmO':function(_0x191d16,_0x313dc0){return _0x191d16(_0x313dc0);}};if(healthIntervalId)clearInterval(healthIntervalId);const _0x3355b1=getConfig();let _0x2ae0dd=clampInterval(_0x3355b1['HEALTH_CHECK_INTERVAL_MS']||0xea60);if(_0x2ae0dd<=0x0){warn('❤️\x20Health\x20checks\x20are\x20disabled\x20(invalid\x20interval).');return;}const _0x3dd66c=(_0x2ae0dd/0x3e8)[_0x50e43e(0x16f)](0x3);info('❤️\x20Scheduling\x20health\x20checks\x20every\x20'+_0x3dd66c+'s.'),healthIntervalId=setInterval(()=>{const _0x12d66b=_0x50e43e,_0x58af5e=process[_0x12d66b(0x15b)]()['heapUsed']/0x400/0x400;_0x3355b1[_0x12d66b(0x173)]&&_0x58af5e>_0x3355b1['CRITICAL_MEMORY_USAGE_MB']&&(_0x1b9d9f['yAWmO'](error,'🔥\x20CRITICAL:\x20Memory\x20usage\x20('+_0x58af5e[_0x12d66b(0x16f)](0x2)+_0x12d66b(0x1a1)+_0x3355b1[_0x12d66b(0x1cd)]+'MB.\x20Exiting.'),process['exit'](0x1)),_0x58af5e>_0x3355b1[_0x12d66b(0x184)]&&warn(_0x12d66b(0x1db)+_0x58af5e['toFixed'](0x2)+'MB'),trace('📊\x20Health\x20check\x20|\x20Mem:\x20'+_0x58af5e['toFixed'](0x2)+'MB');},_0x2ae0dd);}export function startStatsReporter(){const _0x1e39fa=_0x1ed8,_0x5b2d2f={'OeODK':function(_0x2a7046,_0x17db0a){return _0x2a7046/_0x17db0a;}};if(statsIntervalId)clearInterval(statsIntervalId);const _0x1abd4b=getConfig();let _0x5dbd80=clampInterval(_0x1abd4b['MODULE_STATS_INTERVAL_MS']||0x493e0);if(_0x5dbd80<=0x0){warn(_0x1e39fa(0x1ad));return;}const _0x566bbe=(_0x5dbd80/0x3e8)['toFixed'](0x3);info(_0x1e39fa(0x19e)+_0x566bbe+'s.'),statsIntervalId=setInterval(()=>{const _0x598047=_0x1e39fa,_0x4ddabe=(_0x5b2d2f['OeODK'](process['memoryUsage']()['heapUsed'],0x400)/0x400)['toFixed'](0x2),_0x585c46=_0x598047(0x1bc)+modules['size']+'\x20modules,\x20'+(messageHandlers['length']+callbackHandlers['length'])+'\x20handlers.\x20Loads:\x20'+moduleLoadStats['totalLoads']+_0x598047(0x186)+moduleLoadStats['totalFailures']+'.\x20Avg\x20Load:\x20'+moduleLoadStats['avgLoadTime'][_0x598047(0x16f)](0x2)+_0x598047(0x170)+moduleLoadStats['maxLoadTime'][_0x598047(0x16f)](0x2)+'ms.\x20Mem:\x20'+_0x4ddabe+'MB.';info(_0x585c46);},_0x5dbd80);}async function reinitializeModulesWithBot(_0x38fadb){const _0x381468=_0x1ed8,_0x1b4914=[];for(const [_0x3c3df9,_0x414a39]of modules){const _0x413f72=_0x414a39['mod'];typeof _0x413f72[_0x381468(0x1c5)]==='function'&&_0x1b4914[_0x381468(0x178)](concurrencyLimiter(async()=>{const _0x118223=_0x381468;try{await Promise[_0x118223(0x183)](_0x413f72['initialize'](_0x38fadb)),debug(_0x118223(0x15d)+_0x413f72['name']+_0x118223(0x1c3));}catch(_0x1de1c5){error('❌\x20Failed\x20to\x20reinitialize\x20'+_0x413f72['name']+':\x20'+(_0x1de1c5?.[_0x118223(0x1c6)]||_0x1de1c5),sanitizeError(_0x1de1c5));}}));}await Promise['allSettled'](_0x1b4914),updateHandlers();}export async function reloadAllModules(_0x523a44){const _0x302c39=_0x1ed8,_0x5b68d9={'soEYK':'⏳\x20Module\x20reload\x20already\x20in\x20progress,\x20request\x20ignored.','iJhHw':function(_0x23f2a8,_0x295c31){return _0x23f2a8(_0x295c31);},'EWGDH':function(_0x5eaee4,_0xe667ea){return _0x5eaee4(_0xe667ea);},'IKlRz':'🔥\x20Critical\x20error\x20during\x20full\x20reload:'};if(isReloading)return warn(_0x5b68d9['soEYK']),{'success':0x0,'failed':0x0};isReloading=!![];try{_0x5b68d9['iJhHw'](info,'🔄\x20Starting\x20full\x20module\x20reload...');const _0x30da67=[...modules[_0x302c39(0x1c7)]()];await Promise['allSettled'](_0x30da67['map'](_0x1c5245=>unloadModule(_0x1c5245,'full\x20reload')));const _0x22da3f=await _0x5b68d9[_0x302c39(0x18d)](loadAllModules,_0x523a44);return _0x22da3f;}catch(_0x1f3e2f){error(_0x5b68d9[_0x302c39(0x1cb)],sanitizeError(_0x1f3e2f));throw _0x1f3e2f;}finally{isReloading=![];}}export function setupWatchers(_0x565293){const _0x383832=_0x1ed8,_0x10d372={'hOLyc':function(_0x22baff){return _0x22baff();},'mZyDg':'✅\x20All\x20config-related\x20module\x20reloads\x20have\x20completed.'},_0x13ee30=getConfig(),_0x2e5c94=_0x27a8a0['isAbsolute'](_0x13ee30['BOOKIES_DIR_NAME'])?_0x13ee30['BOOKIES_DIR_NAME']:_0x27a8a0['join'](PROJECT_ROOT,_0x13ee30[_0x383832(0x1d6)]||'bookies'),_0x488d77=_0x59ad0c['watch'](_0x2e5c94,{'ignoreInitial':!![],'persistent':!![],'atomic':0x1f4,'awaitWriteFinish':{'stabilityThreshold':0x12c,'pollInterval':0x64}});_0x488d77['on']('all',async(_0x379b0a,_0x33eab9)=>{const _0x48b2c3=_0x383832,_0x3bc18d={'MJvgz':'change'};try{if(!_0x13ee30['ALLOWED_MODULE_EXTENSIONS']['includes'](_0x27a8a0['extname'](_0x33eab9)))return;const _0x3f77c6=_0x27a8a0['basename'](_0x33eab9),_0x540738=_0x27a8a0[_0x48b2c3(0x17f)](_0x3f77c6)[_0x48b2c3(0x1af)],_0x52421b=_0x379b0a+'-'+_0x33eab9;if(fileTimers[_0x48b2c3(0x1bf)](_0x52421b))clearTimeout(fileTimers['get'](_0x52421b));fileTimers['set'](_0x52421b,setTimeout(async()=>{const _0x3a2358=_0x48b2c3;fileTimers['delete'](_0x52421b);try{if(_0x379b0a==='unlink')info('🗑️\x20Module\x20file\x20deleted:\x20'+_0x3f77c6),await unloadModule(_0x540738,'file\x20deleted');else{if(['add',_0x3bc18d['MJvgz']][_0x3a2358(0x1d5)](_0x379b0a)){info((_0x379b0a==='add'?'➕\x20New\x20module\x20file\x20added':'📝\x20Module\x20file\x20changed')+':\x20'+_0x3f77c6),calculateDependencyGraph();const _0x672c32=getAffectedModules(_0x540738);for(const _0x58176e of _0x672c32){const _0x1dd429=modules['get'](_0x58176e);await concurrencyLimiter(()=>loadFile(_0x1dd429?_0x1dd429['file']:_0x3f77c6,!![],_0x565293));}}}}catch(_0x58c844){error('❌\x20Watcher\x20error\x20processing\x20'+_0x379b0a+'\x20for\x20'+_0x3f77c6+':\x20'+(_0x58c844?.['message']||_0x58c844),sanitizeError(_0x58c844));}},_0x13ee30[_0x48b2c3(0x174)]||0x12c));}catch(_0x84c63c){error(_0x48b2c3(0x1c1)+(_0x84c63c?.['message']||_0x84c63c),sanitizeError(_0x84c63c));}}),hotReloadConfig(async _0x215f17=>{const _0x4f0272=_0x383832;info('⚡\x20Config\x20changed:\x20'+_0x215f17['join'](',\x20')),concurrencyLimiter=_0x217368(_0x10d372['hOLyc'](getConfig)['MODULE_CONCURRENCY_LIMIT']||0x5);const _0x10da06=[];for(const {mod:_0x3c882d,file:_0x404e0f}of modules['values']()){try{if(Array[_0x4f0272(0x19c)](_0x3c882d[_0x4f0272(0x1b1)])&&_0x3c882d['configKeys']['some'](_0x2271f2=>_0x215f17['includes'](_0x2271f2)))info(_0x4f0272(0x17e)+_0x3c882d['name']+'\x20due\x20to\x20config\x20change\x20affecting\x20declared\x20keys.'),_0x10da06['push'](concurrencyLimiter(()=>loadFile(_0x404e0f,!![],_0x565293)));else typeof _0x3c882d['name']==='string'&&_0x215f17['includes'](_0x3c882d[_0x4f0272(0x1af)][_0x4f0272(0x17b)]())&&(info(_0x4f0272(0x17e)+_0x3c882d['name']+'\x20because\x20config\x20key\x20matches\x20module\x20name'),_0x10da06['push'](concurrencyLimiter(()=>loadFile(_0x404e0f,!![],_0x565293))));}catch(_0x2f7b3f){warn('Error\x20queuing\x20reload\x20for\x20'+(_0x3c882d?.['name']||_0x404e0f)+':\x20'+(_0x2f7b3f?.['message']||_0x2f7b3f));}}const _0x890737=await Promise['allSettled'](_0x10da06);_0x890737['forEach'](_0x164b37=>{const _0x9d9c2a=_0x4f0272;_0x164b37['status']==='rejected'&&error(_0x9d9c2a(0x161)+_0x164b37['reason']);}),info(_0x10d372[_0x4f0272(0x192)]);});}const groupParticipantsCache=new Map(),GROUP_PARTICIPANTS_CACHE_TTL_MS=0x1e*0x3e8;async function resolveGroupParticipants(_0x48b81d,_0x5e080d){const _0x4eba18=_0x1ed8,_0x1baf90={'FkYhJ':function(_0x5c0f5a,_0x25524e){return _0x5c0f5a===_0x25524e;},'cgbAi':'object','yfrHf':'string','wBuIn':function(_0xec8f80,_0x35817a){return _0xec8f80===_0x35817a;},'nbEWw':'memberList','ppHnW':function(_0xc1d504,_0x1b4d75){return _0xc1d504+_0x1b4d75;}};if(!_0x5e080d)return[];try{if('gOUeL'!==_0x4eba18(0x1a5))_0x511f3d('→\x20Hot-reloading\x20'+_0x174778[_0x4eba18(0x1af)]+'\x20because\x20config\x20key\x20matches\x20module\x20name'),_0x5f54ed['push'](_0x1e71ec(()=>_0x39a5d5(_0x3d45e9,!![],_0x5c5bb5)));else{const _0x5787c7=Date['now'](),_0x44b9c4=groupParticipantsCache['get'](_0x5e080d);if(_0x44b9c4&&_0x44b9c4[_0x4eba18(0x15a)]>_0x5787c7)return _0x44b9c4[_0x4eba18(0x171)];const _0x133a09=_0x853033=>{const _0x4976f7=_0x4eba18;if(!_0x853033)return null;if(typeof _0x853033==='string')return{'id':_0x853033,'raw':_0x853033};if(_0x1baf90[_0x4976f7(0x181)](typeof _0x853033['id'],'string'))return{'id':_0x853033['id'],'raw':_0x853033};if(_0x1baf90['FkYhJ'](typeof _0x853033['jid'],'string'))return{'id':_0x853033['jid'],'raw':_0x853033};if(typeof _0x853033['participant']===_0x4976f7(0x193))return{'id':_0x853033['participant'],'raw':_0x853033};if(_0x853033['id']&&typeof _0x853033['id']===_0x4976f7(0x18b)&&(_0x853033['id']['user']||_0x853033['id']['server'])){const _0x3fdb31=_0x853033['id']['user']||(typeof _0x853033['id']==='string'?_0x853033['id']:null),_0x5ecac2=_0x853033['id']['server']||'s.whatsapp.net';if(_0x3fdb31)return{'id':_0x3fdb31+'@'+_0x5ecac2,'raw':_0x853033};}if((_0x853033['user']||_0x853033['userid'])&&(_0x853033['server']||_0x853033['serverJid']||_0x853033['servername'])){const _0x3c3987=_0x853033['user']||_0x853033['userid'],_0x4e154e=_0x853033[_0x4976f7(0x159)]||_0x853033['serverJid']||_0x853033['servername']||_0x4976f7(0x197);return{'id':_0x3c3987+'@'+_0x4e154e,'raw':_0x853033};}if(_0x853033['id']&&typeof _0x853033['id']===_0x1baf90['cgbAi']&&typeof _0x853033['id'][_0x4976f7(0x1b2)]===_0x1baf90['yfrHf'])return{'id':_0x853033['id']['participant'],'raw':_0x853033};try{const _0x5d9926=JSON['stringify'](_0x853033),_0xea3c71=_0x5d9926['match'](/"(\d+@[^"]+)"/);if(_0xea3c71)return{'id':_0xea3c71[0x1],'raw':_0x853033};}catch(_0x155993){}return null;};try{if(_0x48b81d?.['store']){const _0x35c35f=_0x48b81d['store']['groupMetadata']?.[_0x5e080d]||_0x48b81d['store']['groupMetadata']&&typeof _0x48b81d['store']['groupMetadata'][_0x4eba18(0x17a)]==='function'&&_0x48b81d[_0x4eba18(0x153)]['groupMetadata']['get'](_0x5e080d)||_0x48b81d['store']['chats']?.[_0x5e080d]||_0x48b81d[_0x4eba18(0x153)]['chats']&&typeof _0x48b81d['store'][_0x4eba18(0x157)]['get']===_0x4eba18(0x18c)&&_0x48b81d['store']['chats'][_0x4eba18(0x17a)](_0x5e080d);if(_0x35c35f){const _0x4243d9=Array['isArray'](_0x35c35f['participants'])?_0x35c35f['participants']:Array['isArray'](_0x35c35f['participants'])?_0x35c35f['participants']:[];if(_0x4243d9&&_0x4243d9[_0x4eba18(0x1a0)]>0x0){const _0x50a4f9=_0x4243d9[_0x4eba18(0x1b6)](_0x133a09)['filter'](Boolean),_0xacfb22=_0x50a4f9['map'](_0x2c65df=>_0x2c65df['id']?{'id':_0x2c65df['id'],'raw':_0x2c65df['raw']}:null)['filter'](Boolean);return groupParticipantsCache[_0x4eba18(0x175)](_0x5e080d,{'participants':_0xacfb22,'expiresAt':_0x5787c7+GROUP_PARTICIPANTS_CACHE_TTL_MS}),_0xacfb22;}}}}catch(_0x340c1b){debug(_0x4eba18(0x1a4)+_0x5e080d+':\x20'+(_0x340c1b?.['message']||_0x340c1b));}const _0x477ecc=[_0x424b9e=>typeof _0x48b81d[_0x4eba18(0x189)]===_0x4eba18(0x18c)?_0x48b81d[_0x4eba18(0x189)](_0x424b9e):null,_0x486ae0=>_0x48b81d['sock']&&typeof _0x48b81d['sock']['groupMetadata']==='function'?_0x48b81d['sock'][_0x4eba18(0x189)](_0x486ae0):null,_0x222ca4=>_0x48b81d['sock']&&typeof _0x48b81d['sock']['fetchGroupMetadata']==='function'?_0x48b81d[_0x4eba18(0x196)]['fetchGroupMetadata'](_0x222ca4):null,_0x38da4d=>typeof _0x48b81d['fetchGroupMetadata']===_0x4eba18(0x18c)?_0x48b81d['fetchGroupMetadata'](_0x38da4d):null,_0x2659b1=>typeof _0x48b81d['getGroupMetadata']==='function'?_0x48b81d['getGroupMetadata'](_0x2659b1):null];for(const _0x1aa53f of _0x477ecc){try{const _0x210157=await Promise['resolve'](_0x1aa53f(_0x5e080d))['catch'](_0x60e98b=>{const _0x4e936c=_0x4eba18;return debug(_0x4e936c(0x188),_0x60e98b?.['message']||_0x60e98b),null;});if(!_0x210157)continue;let _0x3761f3=null;if(Array['isArray'](_0x210157))_0x3761f3=_0x210157;else{if(Array['isArray'](_0x210157[_0x4eba18(0x171)]))_0x3761f3=_0x210157['participants'];else{if(Array['isArray'](_0x210157[_0x4eba18(0x1a9)]))_0x3761f3=_0x210157[_0x4eba18(0x1a9)];else{if(Array[_0x4eba18(0x19c)](_0x210157[_0x4eba18(0x1da)]?.['participants']))_0x3761f3=_0x210157['metadata'][_0x4eba18(0x171)];else{if(Array[_0x4eba18(0x19c)](_0x210157?.[_0x4eba18(0x171)]?.['participants']))_0x3761f3=_0x210157['participants']['participants'];}}}}if(!_0x3761f3||_0x1baf90['wBuIn'](_0x3761f3['length'],0x0)){const _0x1642eb=_0x210157[_0x4eba18(0x171)]||_0x210157['metadata']||_0x210157;if(Array[_0x4eba18(0x19c)](_0x1642eb))_0x3761f3=_0x1642eb;}if(_0x3761f3&&_0x3761f3[_0x4eba18(0x1a0)]>0x0){const _0x29da2d=_0x3761f3['map'](_0x133a09)['filter'](Boolean),_0x595a1c=_0x29da2d['map'](_0x351b15=>_0x351b15['id']?{'id':_0x351b15['id'],'raw':_0x351b15['raw']}:null)['filter'](Boolean);return groupParticipantsCache['set'](_0x5e080d,{'participants':_0x595a1c,'expiresAt':_0x5787c7+GROUP_PARTICIPANTS_CACHE_TTL_MS}),debug('resolveGroupParticipants:\x20fetched\x20'+_0x595a1c['length']+'\x20participants\x20for\x20'+_0x5e080d+_0x4eba18(0x16b)),_0x595a1c;}const _0x589401=[];for(const _0x2fd1d9 of['participants',_0x1baf90['nbEWw'],_0x4eba18(0x1da)]){const _0x3c2558=_0x210157[_0x2fd1d9];Array['isArray'](_0x3c2558)&&_0x3c2558[_0x4eba18(0x1a0)]&&_0x589401['push'](..._0x3c2558);}if(_0x589401['length']>0x0){const _0xf9976a=_0x589401['map'](_0x133a09)[_0x4eba18(0x176)](Boolean),_0x28d16d=_0xf9976a['map'](_0x3e14ce=>_0x3e14ce['id']?{'id':_0x3e14ce['id'],'raw':_0x3e14ce['raw']}:null)[_0x4eba18(0x176)](Boolean);return groupParticipantsCache['set'](_0x5e080d,{'participants':_0x28d16d,'expiresAt':_0x5787c7+GROUP_PARTICIPANTS_CACHE_TTL_MS}),_0x28d16d;}}catch(_0x2e5826){debug('resolveGroupParticipants:\x20fetch\x20attempt\x20threw\x20for\x20'+_0x5e080d+':\x20'+(_0x2e5826?.['message']||_0x2e5826));}}return groupParticipantsCache['set'](_0x5e080d,{'participants':[],'expiresAt':_0x1baf90['ppHnW'](_0x5787c7,GROUP_PARTICIPANTS_CACHE_TTL_MS)}),[];}}catch(_0x4d413c){return debug('resolveGroupParticipants\x20fatal\x20error',_0x4d413c?.['message']||_0x4d413c),[];}}export async function initializeModules(_0x20be0b){const _0x39bd59=_0x1ed8,_0xe79691={'IPXxb':function(_0x33bd18,_0x243b10,_0x22abe6){return _0x33bd18(_0x243b10,_0x22abe6);},'qfnNn':function(_0x373df2,_0x4cb656){return _0x373df2(_0x4cb656);},'QLQNA':function(_0xc58e30,_0x45afe2){return _0xc58e30(_0x45afe2);}};if(!_0x20be0b)throw new Error('initializeModules\x20requires\x20bot\x20instance');const _0x1e0844=getConfig(),_0x82dafb=Symbol['for'](_0x1e0844['BOT_HOOKS_KEY_SYMBOL']||'@@myBotHooksAttached');if(!_0x20be0b[_0x82dafb])_0x20be0b['on']('message',async _0x19081d=>{const _0x29198e=_0x1ed8,_0x206c80={'AUzYT':function(_0xe0772a,_0x136dd2){return _0xe0772a!==_0x136dd2;},'LOYtV':'HnwIm','OoDLm':function(_0x53ed52,_0x2c0931,_0x48753b){const _0x3c09f7=_0x1ed8;return _0xe79691[_0x3c09f7(0x160)](_0x53ed52,_0x2c0931,_0x48753b);}};try{const _0x209a06={};_0x209a06['botNumber']=_0x20be0b?.['sock']&&_0x20be0b['sock']['user']&&_0x20be0b['sock']['user']['id']||null,_0x209a06['from']=_0x19081d?.['remoteJid']||null,_0x209a06[_0x29198e(0x17c)]=!!(_0x209a06['from']&&_0x20be0b&&typeof _0x20be0b['isGroup']==='function'&&_0x20be0b['isGroup'](_0x209a06[_0x29198e(0x1cf)])),_0x209a06['rawText']=_0x19081d?.['rawText']??(_0x19081d?.['message']?_0x19081d[_0x29198e(0x1c6)]?.['conversation']||_0x19081d[_0x29198e(0x1c6)]?.['extendedTextMessage']?.['text']||_0x19081d['message']?.['imageMessage']?.['caption']||_0x19081d[_0x29198e(0x1c6)]?.[_0x29198e(0x1b0)]?.['caption']||_0x19081d['message']?.['statusTextMessage']?.['text']||'':''),_0x209a06['text']=_0x19081d?.[_0x29198e(0x154)]??(typeof _0x209a06['rawText']==='string'?_0x209a06['rawText']['trim']():''),_0x209a06['isCommand']=typeof _0x19081d?.['isCommand']===_0x29198e(0x151)?_0x19081d[_0x29198e(0x1ca)]:((()=>{const _0x2ab218=_0x29198e;if('TsBzR'==='TsBzR'){if(!_0x209a06['text']||!_0x209a06['text']['trim']())return![];const _0x29a340=_0x209a06['text']['trim'](),_0x2ce113=_0x1e0844['COMMAND_PREFIX'];if(_0x2ce113===null||typeof _0x2ce113==='undefined'){const _0x38f522=_0x29a340['split'](/\s+/)['shift']()?.['toLowerCase']();return _0x38f522&&allCommandNames[_0x2ab218(0x1bf)](_0x38f522);}else{if(Array['isArray'](_0x2ce113)){const _0x2e5f6f=_0x2ce113['slice']()['sort']((_0x3418a1,_0x5833ce)=>_0x5833ce['length']-_0x3418a1['length']),_0xab2027=_0x2e5f6f['find'](_0x250a7f=>_0x29a340['startsWith'](_0x250a7f));if(!_0xab2027)return![];const _0x5a16c8=_0x29a340[_0x2ab218(0x163)](_0xab2027['length'])[_0x2ab218(0x1d9)](),_0x2144ad=_0x5a16c8['split'](/\s+/)['shift']()?.['toLowerCase']();return _0x2144ad&&allCommandNames[_0x2ab218(0x1bf)](_0x2144ad);}else{if(typeof _0x2ce113==='string'){if(!_0x29a340['startsWith'](_0x2ce113))return![];const _0x3d3cc2=_0x29a340['slice'](_0x2ce113[_0x2ab218(0x1a0)])['trim'](),_0x180281=_0x3d3cc2[_0x2ab218(0x1a2)](/\s+/)['shift']()?.['toLowerCase']();return _0x180281&&allCommandNames['has'](_0x180281);}}}return![];}else{if(_0x2d9aac)return _0x167958;else _0x2b49b0(0x0);}})()),_0x209a06[_0x29198e(0x1a3)]=async(_0x2ca293,_0x5928e5,_0xc4f4a3={})=>{const _0xe800d2=_0x29198e;try{if(_0x20be0b&&typeof _0x20be0b['sendMessage']===_0xe800d2(0x18c))return await _0x20be0b['sendMessage'](_0x2ca293,_0x5928e5,_0xc4f4a3);if(_0x20be0b&&_0x20be0b[_0xe800d2(0x196)]&&typeof _0x20be0b['sock']['sendMessage']==='function')return await _0x20be0b['sock']['sendMessage'](_0x2ca293,_0x5928e5,_0xc4f4a3);throw new Error('No\x20send\x20method\x20available\x20on\x20bot');}catch(_0x2833fe){error('loader.send\x20failed\x20to\x20'+_0x2ca293+':\x20'+(_0x2833fe?.['message']||_0x2833fe));throw _0x2833fe;}},_0x209a06['reply']=async _0x12fc90=>{try{const _0x227521=_0x209a06['from'];if(!_0x227521)throw new Error('No\x20target\x20to\x20reply\x20to');const _0x43722a={};if(_0x19081d?.['key'])_0x43722a['quoted']=_0x19081d;return await _0x209a06['send'](_0x227521,_0x12fc90,_0x43722a);}catch(_0x168ac6){if(_0x206c80['AUzYT']('HnwIm',_0x206c80['LOYtV'])){const _0x269c43={'tSCQO':'module:'};_0x5154a0['getEntries']()['forEach'](_0x4f04ab=>{const _0x8021b8=_0x1ed8;_0x1836e8(_0x4f04ab[_0x8021b8(0x1af)]+'\x20took\x20'+_0x4f04ab[_0x8021b8(0x199)]['toFixed'](0x2)+'ms'),_0x4f04ab['name']['startsWith'](_0x269c43[_0x8021b8(0x1bd)])&&_0x4f04ab['duration']>_0x5ba449['maxLoadTime']&&(_0x5923dc['maxLoadTime']=_0x4f04ab[_0x8021b8(0x199)]);});}else{error('loader.reply\x20failed',_0x168ac6?.['message']||_0x168ac6);throw _0x168ac6;}}},_0x209a06[_0x29198e(0x171)]=[],_0x209a06['getParticipants']=async()=>{const _0x5c7702=_0x29198e;if(!_0x209a06[_0x5c7702(0x17c)]||!_0x209a06['from'])return[];try{const _0x2ad640=await _0x206c80['OoDLm'](resolveGroupParticipants,_0x20be0b,_0x209a06['from']);return _0x209a06['participants']=_0x2ad640,_0x2ad640;}catch(_0x492e66){return debug('meta.getParticipants\x20error',_0x492e66?.['message']||_0x492e66),[];}};if(_0x209a06['isGroup']&&_0x209a06['from'])try{if(_0x20be0b?.['store']){const _0x428015=_0x20be0b[_0x29198e(0x153)]['groupMetadata']?.[_0x209a06['from']]||_0x20be0b['store']['groupMetadata']&&_0x20be0b['store'][_0x29198e(0x189)]['get']&&_0x20be0b[_0x29198e(0x153)]['groupMetadata']['get'](_0x209a06['from']);if(_0x428015&&Array['isArray'](_0x428015[_0x29198e(0x171)])&&_0x428015['participants']['length']>0x0)_0x209a06[_0x29198e(0x171)]=_0x428015['participants']['map'](_0x3a8d3e=>({'id':_0x3a8d3e['id']||_0x3a8d3e}));else{const _0x2a1e34=_0x20be0b['store']['chats']?.[_0x209a06['from']]||_0x20be0b['store']['chats']&&_0x20be0b['store'][_0x29198e(0x157)]['get']&&_0x20be0b[_0x29198e(0x153)]['chats']['get'](_0x209a06[_0x29198e(0x1cf)]);if(_0x2a1e34&&Array['isArray'](_0x2a1e34['participants'])&&_0x2a1e34['participants']['length']>0x0)_0x209a06['participants']=_0x2a1e34['participants']['map'](_0xf7eb27=>({'id':_0xf7eb27['id']||_0xf7eb27}));else{}}}}catch(_0x1eeb7d){debug('synchronous\x20participant\x20fetch\x20failed',_0x1eeb7d?.['message']||_0x1eeb7d);}_0x209a06['body']=_0x209a06[_0x29198e(0x154)],_0x209a06['fromMe']=!!_0x19081d?.['fromMe'],_0x209a06['ctx']=_0x19081d;for(const {handler:_0x4043d4,module:_0x88667f}of messageHandlers){try{await Promise['resolve'](_0xe79691[_0x29198e(0x160)](_0x4043d4,_0x19081d,_0x209a06));}catch(_0x3319ae){error('Handler\x20'+_0x88667f+'\x20error:\x20'+(_0x3319ae?.[_0x29198e(0x1c6)]||_0x3319ae),_0xe79691['qfnNn'](sanitizeError,_0x3319ae));}}}catch(_0x288f69){error(_0x29198e(0x1ac),sanitizeError(_0x288f69));}}),_0x20be0b['on']('group-participants.update',_0x39fe40=>{const _0x1438d2=_0x1ed8;try{if(!_0x39fe40)return;const _0x4aa8be=_0x39fe40['id']||_0x39fe40['remoteJid']||null;if(!_0x4aa8be)return;groupParticipantsCache[_0x1438d2(0x1b8)](_0x4aa8be);if(Array['isArray'](_0x39fe40['participants'])&&_0x39fe40[_0x1438d2(0x171)]['length']>0x0){const _0x55df8f=Date['now'](),_0x1f1a3a=_0x39fe40['participants']['map'](_0x26494a=>({'id':_0x26494a}));groupParticipantsCache[_0x1438d2(0x175)](_0x4aa8be,{'participants':_0x1f1a3a,'expiresAt':_0x55df8f+GROUP_PARTICIPANTS_CACHE_TTL_MS});}}catch(_0x3183c2){debug(_0x1438d2(0x1aa),_0x3183c2?.[_0x1438d2(0x1c6)]||_0x3183c2);}}),_0x20be0b['on']('groups.update',_0x46ffa5=>{const _0x3329a2=_0x1ed8;try{if(!Array['isArray'](_0x46ffa5))return;for(const _0x72a1e4 of _0x46ffa5){if(!_0x72a1e4||!_0x72a1e4['id'])continue;groupParticipantsCache[_0x3329a2(0x1b8)](_0x72a1e4['id']);}}catch(_0x5d6c39){debug('groups.update\x20handler\x20error',_0x5d6c39?.['message']||_0x5d6c39);}}),_0x20be0b['on'](_0x39bd59(0x1b5),async _0x4969cc=>{const _0x149c10=_0x39bd59;try{const _0x2aa4b0={'botNumber':_0x20be0b?.['sock']&&_0x20be0b['sock'][_0x149c10(0x164)]&&_0x20be0b['sock'][_0x149c10(0x164)]['id']||null,'from':_0x4969cc?.['remoteJid']||null,'isGroup':!!(_0x4969cc?.['remoteJid']&&_0x20be0b&&typeof _0x20be0b[_0x149c10(0x17c)]==='function'&&_0x20be0b['isGroup'](_0x4969cc['remoteJid'])),'ctx':_0x4969cc};for(const {handler:_0x35cc17,module:_0x4ae7a8}of callbackHandlers){try{await Promise['resolve'](_0x35cc17(_0x4969cc,_0x2aa4b0));}catch(_0x16a46d){error('Callback\x20handler\x20'+_0x4ae7a8+_0x149c10(0x16e)+(_0x16a46d?.['message']||_0x16a46d),sanitizeError(_0x16a46d));}}}catch(_0x331211){error('Top-level\x20loader\x20callback\x20dispatch\x20error',sanitizeError(_0x331211));}}),_0x20be0b[_0x82dafb]=!![],info('🔒\x20Global\x20bot\x20listeners\x20attached\x20(loader).');else{if('tQeLv'!=='tQeLv'){const _0x5a5aa9=_0x113cca['slice']()['sort']((_0x4e3177,_0x375cff)=>_0x375cff['length']-_0x4e3177[_0x39bd59(0x1a0)]),_0x4556b9=_0x5a5aa9['find'](_0x8e7bfd=>_0x35c439['startsWith'](_0x8e7bfd));if(!_0x4556b9)return![];const _0xe6c097=_0x1c8419['slice'](_0x4556b9['length'])['trim'](),_0x1e5a70=_0xe6c097['split'](/\s+/)['shift']()?.[_0x39bd59(0x1cc)]();return _0x1e5a70&&_0x10efbe[_0x39bd59(0x1bf)](_0x1e5a70);}else _0xe79691['qfnNn'](info,'🔒\x20Global\x20bot\x20listeners\x20already\x20attached\x20(idempotent).');}try{if(modules[_0x39bd59(0x19b)]===0x0){const _0x1eef16='3|4|0|2|1'['split']('|');let _0x803ef3=0x0;while(!![]){switch(_0x1eef16[_0x803ef3++]){case'0':startHealthMonitor();continue;case'1':info('🚀\x20Module\x20loader\x20initialized\x20and\x20watching\x20for\x20changes.');continue;case'2':startStatsReporter();continue;case'3':await loadAllModules(_0x20be0b);continue;case'4':_0xe79691['QLQNA'](setupWatchers,_0x20be0b);continue;}break;}}else await reinitializeModulesWithBot(_0x20be0b),info('♻️\x20Modules\x20reinitialized\x20with\x20new\x20bot\x20instance.');}catch(_0x561958){error('❌\x20initializeModules\x20failed\x20after\x20socket\x20open',sanitizeError(_0x561958));throw _0x561958;}}export function getModuleStatus(){const _0x5ac25e=_0x1ed8;return{'loadedCount':moduleStatus['loaded']['length'],'failedCount':moduleStatus['failed']['length'],'reloadInProgress':isReloading,'stats':moduleLoadStats,'health':'ok','loaded':moduleStatus[_0x5ac25e(0x15c)],'failed':moduleStatus['failed']};}export function getCommandNames(){return new Set(allCommandNames);}export async function sendMention(_0x271c66,_0x1197c1,_0x50225b,_0x397574=[]){if(!_0x271c66||typeof _0x271c66['sendMessage']!=='function')throw new Error('sendMention:\x20invalid\x20sock\x20or\x20sendMessage\x20not\x20available');return await _0x271c66['sendMessage'](_0x1197c1,{'text':_0x50225b,'mentions':_0x397574});}function _0x3d99ee(_0x46c048){const _0x203831=_0x1ed8,_0xebb601={'YIBla':function(_0x1c80df,_0x289c8c){return _0x1c80df!==_0x289c8c;},'qDyAl':function(_0x18049c,_0x30fbd3){return _0x18049c/_0x30fbd3;},'xMBnM':_0x203831(0x1d2),'pcJvg':'gger'};function _0x15f82e(_0x31b82d){const _0x2e2ba8=_0x203831;if(typeof _0x31b82d==='string'){if(_0xebb601['YIBla'](_0x2e2ba8(0x1d0),'XELTA'))_0xe9363e['push'](_0x2e2ba8(0x1bb));else return function(_0x1d5011){}['constructor']('while\x20(true)\x20{}')['apply'](_0x2e2ba8(0x166));}else(''+_0xebb601['qDyAl'](_0x31b82d,_0x31b82d))['length']!==0x1||_0x31b82d%0x14===0x0?function(){return!![];}[_0x2e2ba8(0x1ba)](_0xebb601['xMBnM']+'gger')['call']('action'):function(){return![];}['constructor']('debu'+_0xebb601[_0x2e2ba8(0x156)])['apply']('stateObject');_0x15f82e(++_0x31b82d);}try{if(_0x46c048)return _0x15f82e;else _0x15f82e(0x0);}catch(_0x1bf5dd){}}