const _0x146dae=_0x4182;(function(_0x5438ae,_0x169311){const _0x965914=_0x4182,_0x48803b=_0x5438ae();while(!![]){try{const _0x548a83=-parseInt(_0x965914(0x25d))/0x1*(-parseInt(_0x965914(0x24a))/0x2)+-parseInt(_0x965914(0x271))/0x3+parseInt(_0x965914(0x22f))/0x4+parseInt(_0x965914(0x206))/0x5*(parseInt(_0x965914(0x260))/0x6)+parseInt(_0x965914(0x219))/0x7*(parseInt(_0x965914(0x24f))/0x8)+-parseInt(_0x965914(0x21c))/0x9+parseInt(_0x965914(0x217))/0xa*(parseInt(_0x965914(0x204))/0xb);if(_0x548a83===_0x169311)break;else _0x48803b['push'](_0x48803b['shift']());}catch(_0x1cada8){_0x48803b['push'](_0x48803b['shift']());}}}(_0x490d,0x24476));const _0xe3d9fc=(function(){let _0x4d4da7=!![];return function(_0x5c5c1a,_0x334f24){const _0x2f99e1=_0x4d4da7?function(){const _0x53d340=_0x4182,_0x2f2597={'RSiZC':'function\x20*\x5c(\x20*\x5c)'};if(_0x53d340(0x221)==='Odhyy'){if(_0x334f24){const _0x49916f=_0x334f24[_0x53d340(0x25e)](_0x5c5c1a,arguments);return _0x334f24=null,_0x49916f;}}else{const _0xca5323=new _0x1eb4b4(_0x2f2597['RSiZC']),_0x3cdc37=new _0x3478f8('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x9b5a6=_0x4fcfbd('init');!_0xca5323['test'](_0x9b5a6+'chain')||!_0x3cdc37[_0x53d340(0x265)](_0x9b5a6+_0x53d340(0x1f3))?_0x9b5a6('0'):_0x10a0fb();}}:function(){};return _0x4d4da7=![],_0x2f99e1;};}());(function(){const _0x6a351={'EuAsi':'function\x20*\x5c(\x20*\x5c)'};_0xe3d9fc(this,function(){const _0x14d251=_0x4182,_0x237cf0=new RegExp(_0x6a351[_0x14d251(0x207)]),_0x1f52f5=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x40f8ad=_0x323528(_0x14d251(0x205));!_0x237cf0['test'](_0x40f8ad+'chain')||!_0x1f52f5['test'](_0x40f8ad+'input')?_0x40f8ad('0'):_0x323528();})();}());import{readdir,stat,readFile}from'fs/promises';import _0x343882 from'path';import{fileURLToPath,pathToFileURL}from'url';import _0x57f81b from'chokidar';import _0x499957 from'p-limit';import _0x1a7b8b from'crypto';import{performance,PerformanceObserver}from'perf_hooks';(function(){let _0x3833b5;try{const _0x569b55=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3833b5=_0x569b55();}catch(_0x105878){_0x3833b5=window;}_0x3833b5['setInterval'](_0x323528,0x61a80);}());import{info,warn,error,debug,trace}from'./logger.js';import{hotReloadConfig,getConfig,PROJECT_ROOT}from'./config.js';const __dirname=_0x343882['dirname'](fileURLToPath(import.meta['url'])),MAX_INTERVAL_MS=0x7fffffff,DEPENDENCY_GRAPH=new Map(),modules=new Map();let messageHandlers=[],callbackHandlers=[],isReloading=![],moduleLoadStats={'totalLoads':0x0,'totalFailures':0x0,'lastError':null,'avgLoadTime':0x0,'maxLoadTime':0x0};const allCommandNames=new Set();let concurrencyLimiter=_0x499957(getConfig()[_0x146dae(0x240)]||0x5);const fileTimers=new Map();export const moduleStatus={'loaded':[],'failed':[],'lastReload':null,'dependencies':new Map()};const perfObserver=new PerformanceObserver(_0x3e4799=>{const _0xdd74a3={'PtACp':'module:'};_0x3e4799['getEntries']()['forEach'](_0x23f17c=>{const _0x3fa35f=_0x4182;trace(_0x23f17c['name']+'\x20took\x20'+_0x23f17c['duration']['toFixed'](0x2)+'ms'),_0x23f17c[_0x3fa35f(0x226)][_0x3fa35f(0x25b)](_0xdd74a3[_0x3fa35f(0x26a)])&&_0x23f17c['duration']>moduleLoadStats[_0x3fa35f(0x244)]&&(moduleLoadStats['maxLoadTime']=_0x23f17c[_0x3fa35f(0x26f)]);});});function _0x4182(_0x185d44,_0x2d8c20){const _0x31300b=_0x490d();return _0x4182=function(_0x323528,_0xe3d9fc){_0x323528=_0x323528-0x1ee;let _0x11a754=_0x31300b[_0x323528];if(_0x4182['rUMoUp']===undefined){var _0x25edd0=function(_0x31a231){const _0x9f3707='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5f1cb8='',_0x2f0b26='';for(let _0x2773d7=0x0,_0x298c56,_0x3d2bfe,_0x55d9b4=0x0;_0x3d2bfe=_0x31a231['charAt'](_0x55d9b4++);~_0x3d2bfe&&(_0x298c56=_0x2773d7%0x4?_0x298c56*0x40+_0x3d2bfe:_0x3d2bfe,_0x2773d7++%0x4)?_0x5f1cb8+=String['fromCharCode'](0xff&_0x298c56>>(-0x2*_0x2773d7&0x6)):0x0){_0x3d2bfe=_0x9f3707['indexOf'](_0x3d2bfe);}for(let _0x29c428=0x0,_0x36ec04=_0x5f1cb8['length'];_0x29c428<_0x36ec04;_0x29c428++){_0x2f0b26+='%'+('00'+_0x5f1cb8['charCodeAt'](_0x29c428)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2f0b26);};_0x4182['DSojGk']=_0x25edd0,_0x185d44=arguments,_0x4182['rUMoUp']=!![];}const _0x490db3=_0x31300b[0x0],_0x418251=_0x323528+_0x490db3,_0x49f510=_0x185d44[_0x418251];return!_0x49f510?(_0x11a754=_0x4182['DSojGk'](_0x11a754),_0x185d44[_0x418251]=_0x11a754):_0x11a754=_0x49f510,_0x11a754;},_0x4182(_0x185d44,_0x2d8c20);}perfObserver['observe']({'entryTypes':[_0x146dae(0x24e)]});function sanitizeError(_0x39a4ba){const _0x310db5=getConfig();if(_0x310db5['NODE_ENV']==='production')return{'name':_0x39a4ba?.['name']??'Error','message':_0x39a4ba?.['message']??'Error','stack':_0x39a4ba?.['stack']?'Redacted':undefined};return _0x39a4ba;}function calculateDependencyGraph(){DEPENDENCY_GRAPH['clear']();for(const [_0x3766a3,{mod:_0x14edc0}]of modules){Array['isArray'](_0x14edc0['dependencies'])&&DEPENDENCY_GRAPH['set'](_0x3766a3,new Set(_0x14edc0['dependencies']));}moduleStatus['dependencies']=new Map(DEPENDENCY_GRAPH);}function getAffectedModules(_0x21888d){const _0xd1554b={'vbyIb':function(_0x5a4fc0,_0x31bbf4){return _0x5a4fc0<_0x31bbf4;}},_0x10ac35=new Set([_0x21888d]),_0x5414d3=[_0x21888d];let _0x37f34d=0x0;while(_0xd1554b['vbyIb'](_0x37f34d,_0x5414d3['length'])){const _0x27586e=_0x5414d3[_0x37f34d++];for(const [_0x5aeed5,_0x5ebc2a]of DEPENDENCY_GRAPH){_0x5ebc2a['has'](_0x27586e)&&!_0x10ac35['has'](_0x5aeed5)&&(_0x10ac35['add'](_0x5aeed5),_0x5414d3['push'](_0x5aeed5));}}return Array['from'](_0x10ac35);}function validateModule(_0x54b4b3,_0x391452){const _0x3a2db8=_0x146dae,_0x2448ed={'pwXIj':_0x3a2db8(0x1fc),'ICtBY':function(_0x54ae1b,_0x402bdd){return _0x54ae1b!==_0x402bdd;}},_0x2a79a7=_0x54b4b3['name']||_0x391452,_0x4e0cc2=[],_0x58e10d=[];if(!Object['hasOwn'](_0x54b4b3,'name'))_0x4e0cc2['push'](_0x3a2db8(0x269));if(!Object['hasOwn'](_0x54b4b3,'version'))_0x58e10d['push']('missing\x20\x22version\x22\x20export');!Object[_0x3a2db8(0x23b)](_0x54b4b3,_0x2448ed['pwXIj'])&&!Object['hasOwn'](_0x54b4b3,'onMessage')&&!Object[_0x3a2db8(0x23b)](_0x54b4b3,'onCallbackQuery')&&_0x4e0cc2['push']('no\x20usable\x20exports\x20(initialize,\x20onMessage,\x20onCallbackQuery)');Object[_0x3a2db8(0x23b)](_0x54b4b3,'onMessage')&&typeof _0x54b4b3['onMessage']!==_0x3a2db8(0x233)&&_0x4e0cc2['push']('\x22onMessage\x22\x20is\x20not\x20a\x20function');Object['hasOwn'](_0x54b4b3,_0x3a2db8(0x20e))&&_0x2448ed['ICtBY'](typeof _0x54b4b3['onCallbackQuery'],_0x3a2db8(0x233))&&_0x4e0cc2['push']('\x22onCallbackQuery\x22\x20is\x20not\x20a\x20function');_0x54b4b3['dependencies']&&!Array[_0x3a2db8(0x223)](_0x54b4b3[_0x3a2db8(0x20f)])&&_0x4e0cc2['push']('\x22dependencies\x22\x20must\x20be\x20an\x20array');if(_0x4e0cc2['length'])warn('⛔\x20Module\x20'+_0x2a79a7+'\x20has\x20validation\x20issues:\x20'+_0x4e0cc2['join'](',\x20'));if(_0x58e10d['length'])warn('⚠️\x20Module\x20'+_0x2a79a7+'\x20warnings:\x20'+_0x58e10d['join'](',\x20'));return _0x4e0cc2['length']===0x0;}function updateAllCommandNames(){const _0x41081e=_0x146dae;allCommandNames['clear']();for(const {mod:_0x2ad132}of modules['values']()){if(_0x2ad132['name']&&typeof _0x2ad132['name']==='string')allCommandNames['add'](_0x2ad132['name']['toLowerCase']());if(Array[_0x41081e(0x223)](_0x2ad132[_0x41081e(0x261)])){if('OGRXS'==='OGRXS'){for(const _0xae44dd of _0x2ad132['commands'])if(typeof _0xae44dd==='string'&&_0xae44dd)allCommandNames['add'](_0xae44dd['toLowerCase']());}else _0x298cac=_0x215d45;}}debug('🔧\x20Updated\x20command\x20list:\x20'+allCommandNames['size']+'\x20total\x20commands\x20recognized.');}function updateHandlers(){const _0x2523be=_0x146dae;performance['mark']('updateHandlers-start'),messageHandlers=[],callbackHandlers=[];const _0x4f174b=[...modules['values']()]['sort']((_0xafe723,_0x11122c)=>(_0x11122c['priority']??0x0)-(_0xafe723[_0x2523be(0x1f7)]??0x0));for(const {mod:_0x3929e9}of _0x4f174b){typeof _0x3929e9['onMessage']==='function'&&messageHandlers['push']({'handler':_0x3929e9['onMessage']['bind'](_0x3929e9),'module':_0x3929e9['name'],'priority':_0x3929e9['priority']||0x0}),typeof _0x3929e9['onCallbackQuery']==='function'&&callbackHandlers[_0x2523be(0x200)]({'handler':_0x3929e9['onCallbackQuery']['bind'](_0x3929e9),'module':_0x3929e9['name'],'priority':_0x3929e9['priority']||0x0});}messageHandlers['sort']((_0x48b633,_0x240420)=>_0x240420['priority']-_0x48b633['priority']),callbackHandlers['sort']((_0x3f4104,_0x5aa720)=>_0x5aa720['priority']-_0x3f4104[_0x2523be(0x1f7)]);const _0x50d9e8=getConfig();messageHandlers[_0x2523be(0x230)]+callbackHandlers['length']>(_0x50d9e8['MAX_HANDLERS_WARNING_THRESHOLD']||0x64)&&warn(_0x2523be(0x259)+messageHandlers['length']+'\x20msg,\x20'+callbackHandlers['length']+'\x20cb'),performance['mark']('updateHandlers-end'),performance[_0x2523be(0x24e)]('updateHandlers',_0x2523be(0x256),_0x2523be(0x210)),updateAllCommandNames(),debug('🔧\x20Handlers\x20updated:\x20'+messageHandlers['length']+'\x20msg,\x20'+callbackHandlers['length']+_0x2523be(0x248));}async function unloadModule(_0x5c213,_0x34dd49=_0x146dae(0x246)){const _0x5dbb93=_0x146dae,_0x5119f8={'aFQDt':function(_0x2eca8d,_0x163fec,_0x4749fe){return _0x2eca8d(_0x163fec,_0x4749fe);}};if(!modules[_0x5dbb93(0x20d)](_0x5c213))return;const _0x5c1465=modules['get'](_0x5c213),_0x1795db=_0x5c1465['mod'];try{typeof _0x1795db['cleanup']==='function'&&(await Promise['resolve'](_0x1795db['cleanup']()),debug('🧹\x20Cleaned\x20up\x20'+_0x1795db['name']));}catch(_0x1ec215){_0x5119f8['aFQDt'](error,'❌\x20Failed\x20to\x20clean\x20up\x20'+_0x1795db['name']+':\x20'+(_0x1ec215?.['message']||_0x1ec215),sanitizeError(_0x1ec215));}finally{modules['delete'](_0x5c213),moduleStatus['loaded']=moduleStatus['loaded']['filter'](_0x597a66=>_0x597a66['name']!==_0x5c213),info('🗑️\x20Unloaded\x20'+_0x1795db['name']+'\x20('+_0x34dd49+')'),updateHandlers();}}async function loadFile(_0x3d7c2c,_0x32d49b=![],_0x4a00da=null){const _0x312fc7=_0x146dae,_0x194030={'DMjAI':'OXDfi','NJgmU':function(_0x19fa38,_0x7c1801){return _0x19fa38(_0x7c1801);},'nclvp':function(_0xd13487,_0x372adc){return _0xd13487(_0x372adc);},'jsNtW':function(_0x453cc2,_0x57e5db){return _0x453cc2-_0x57e5db;},'BCNZn':'reload'},_0x2311a4=getConfig(),_0x3ff09f=_0x343882['isAbsolute'](_0x2311a4[_0x312fc7(0x203)])?_0x2311a4['BOOKIES_DIR_NAME']:_0x343882['join'](PROJECT_ROOT,_0x2311a4[_0x312fc7(0x203)]||'bookies'),_0x13d87c=_0x343882['join'](_0x3ff09f,_0x3d7c2c),_0x28250e=_0x343882['parse'](_0x3d7c2c)[_0x312fc7(0x226)],_0x544002=performance['now']();try{const _0x49abc1=await stat(_0x13d87c);if(!_0x49abc1['isFile']())return warn('⛔\x20Skipping\x20non-file\x20entry:\x20'+_0x3d7c2c),![];if(_0x49abc1['size']>(_0x2311a4[_0x312fc7(0x1ef)]||0x100000)){if(_0x194030[_0x312fc7(0x20a)]!=='ciACT')_0x194030['NJgmU'](warn,'⚠️\x20Module\x20'+_0x3d7c2c+'\x20is\x20large\x20('+(_0x49abc1['size']/0x400)['toFixed'](0x1)+'\x20KB)');else{_0x20b85f[_0x312fc7(0x212)]();for(const [_0x2a2f03,{mod:_0x5c2564}]of _0x439f37){_0x430bda['isArray'](_0x5c2564['dependencies'])&&_0x4e9438[_0x312fc7(0x215)](_0x2a2f03,new _0x4893cf(_0x5c2564['dependencies']));}_0x595b1c['dependencies']=new _0x1acb66(_0x4b3927);}}const _0x2d4d95=await _0x194030['nclvp'](readFile,_0x13d87c),_0x109185=_0x1a7b8b[_0x312fc7(0x268)]('sha256')['update'](_0x2d4d95)['digest']('hex');if(modules['has'](_0x28250e)&&modules['get'](_0x28250e)['fileHash']===_0x109185)return debug(_0x312fc7(0x234)+_0x28250e+_0x312fc7(0x224)),![];if(_0x32d49b&&modules['has'](_0x28250e)){const {mod:_0x1e2ba4}=modules[_0x312fc7(0x216)](_0x28250e);typeof _0x1e2ba4['beforeReload']==='function'&&await Promise['resolve'](_0x1e2ba4['beforeReload']());}const _0x3de17e=pathToFileURL(_0x13d87c)[_0x312fc7(0x24c)]+_0x312fc7(0x20b)+Date[_0x312fc7(0x257)](),_0x297685=await import(_0x3de17e);let _0x28a342={..._0x297685};_0x297685['default']&&typeof _0x297685[_0x312fc7(0x1ee)]==='object'&&(_0x28a342={..._0x28a342,..._0x297685['default']});if(!validateModule(_0x28a342,_0x3d7c2c)){warn('⛔\x20Skipping\x20invalid\x20module:\x20'+_0x3d7c2c);if(modules['has'](_0x28250e))await unloadModule(_0x28250e,'invalid\x20module\x20detected\x20on\x20reload');return![];}const _0x4d2fde=_0x28a342['name']||_0x28250e;modules['has'](_0x28250e)&&await unloadModule(_0x28250e,'before\x20reload');if(typeof _0x28a342[_0x312fc7(0x1fc)]==='function'&&_0x4a00da){const _0x37b3af='2|1|0|4|3'[_0x312fc7(0x266)]('|');let _0x31e395=0x0;while(!![]){switch(_0x37b3af[_0x31e395++]){case'0':performance['mark']('module:'+_0x4d2fde+'-initialize-end');continue;case'1':await Promise['resolve'](_0x28a342['initialize'](_0x4a00da));continue;case'2':performance['mark']('module:'+_0x4d2fde+'-initialize-start');continue;case'3':debug('⏱️\x20Initialized\x20'+_0x4d2fde);continue;case'4':performance['measure']('module:'+_0x4d2fde+'-initialize','module:'+_0x4d2fde+'-initialize-start','module:'+_0x4d2fde+'-initialize-end');continue;}break;}}modules['set'](_0x28250e,{'mod':_0x28a342,'priority':_0x28a342[_0x312fc7(0x1f7)]||0x0,'file':_0x3d7c2c,'fileHash':_0x109185,'lastLoaded':Date[_0x312fc7(0x257)]()}),moduleStatus['loaded']=moduleStatus['loaded']['filter'](_0x5a51de=>_0x5a51de['name']!==_0x4d2fde),moduleStatus['failed']=moduleStatus['failed']['filter'](_0x50d033=>_0x50d033['file']!==_0x3d7c2c),moduleStatus['loaded'][_0x312fc7(0x200)]({'name':_0x4d2fde,'version':_0x28a342['version']||'?','file':_0x3d7c2c,'loadedAt':Date['now'](),'size':_0x49abc1['size'],'hash':_0x109185}),calculateDependencyGraph();const _0x384a96=_0x194030[_0x312fc7(0x22b)](performance['now'](),_0x544002);moduleLoadStats['totalLoads']++,moduleLoadStats['avgLoadTime']=(moduleLoadStats['avgLoadTime']*(moduleLoadStats['totalLoads']-0x1)+_0x384a96)/moduleLoadStats[_0x312fc7(0x25f)];if(_0x384a96>moduleLoadStats['maxLoadTime'])moduleLoadStats['maxLoadTime']=_0x384a96;return info((_0x32d49b?'♻️\x20Reloaded':'✅\x20Loaded')+'\x20'+_0x4d2fde+'\x20v'+(_0x28a342[_0x312fc7(0x20c)]||'?')+'\x20in\x20'+_0x384a96['toFixed'](0x2)+'ms'),!![];}catch(_0x477c14){const _0x2e43b8=_0x32d49b?_0x194030['BCNZn']:'load';return error(_0x312fc7(0x23f)+_0x2e43b8+'\x20'+_0x28250e+':\x20'+(_0x477c14?.['message']||_0x477c14),sanitizeError(_0x477c14)),moduleStatus['failed']['push']({'file':_0x3d7c2c,'error':_0x477c14?.[_0x312fc7(0x202)]||String(_0x477c14),'timestamp':Date[_0x312fc7(0x257)]()}),moduleLoadStats['totalFailures']++,moduleLoadStats['lastError']={'file':_0x3d7c2c,'timestamp':Date['now'](),'error':_0x477c14?.['message']||_0x194030[_0x312fc7(0x1f6)](String,_0x477c14)},modules[_0x312fc7(0x253)](_0x28250e),![];}finally{updateHandlers();}}async function loadAllModules(_0x4b85b5){const _0x19c5a6=_0x146dae,_0x5dda3c={'LUgZu':function(_0xef781f,_0x100a2a){return _0xef781f>_0x100a2a;}},_0x3a737a=getConfig();info('📦\x20Starting\x20full\x20module\x20load\x20process...');const _0x55df7d=performance[_0x19c5a6(0x257)]();moduleStatus['loaded']=[],moduleStatus['failed']=[],moduleLoadStats['totalLoads']=0x0,moduleLoadStats['totalFailures']=0x0,moduleLoadStats['avgLoadTime']=0x0,moduleLoadStats['maxLoadTime']=0x0,moduleLoadStats[_0x19c5a6(0x23c)]=null;const _0x2f8ce2=_0x343882['isAbsolute'](_0x3a737a[_0x19c5a6(0x203)])?_0x3a737a['BOOKIES_DIR_NAME']:_0x343882['join'](PROJECT_ROOT,_0x3a737a['BOOKIES_DIR_NAME']||'bookies');let _0x3b4b41=[];try{_0x3b4b41=(await readdir(_0x2f8ce2))[_0x19c5a6(0x1f2)](_0x3df194=>_0x3a737a['ALLOWED_MODULE_EXTENSIONS'][_0x19c5a6(0x208)](_0x343882[_0x19c5a6(0x251)](_0x3df194)));}catch(_0x58127c){warn('⚠️\x20Could\x20not\x20read\x20modules\x20directory\x20\x22'+_0x2f8ce2+'\x22:\x20'+(_0x58127c?.['message']||_0x58127c)),_0x3b4b41=[];}const _0x546eb9=new Map(_0x3b4b41['map'](_0x99f6b6=>[_0x343882['parse'](_0x99f6b6)['name'],_0x99f6b6])),_0x1ec958=new Map();for(const _0x12e911 of _0x3b4b41){try{const _0x5065d6=await readFile(_0x343882['join'](_0x2f8ce2,_0x12e911),'utf-8'),_0xc6e173=_0x5065d6['match'](/configKeys\s*=\s*\[([^\]]+)\]|dependencies\s*[:=]\s*\[([^\]]+)\]/);if(_0xc6e173){const _0x466839=_0xc6e173[0x1]||_0xc6e173[0x2];_0x466839&&_0x1ec958['set'](_0x343882['parse'](_0x12e911)[_0x19c5a6(0x226)],_0x466839['split'](',')[_0x19c5a6(0x22a)](_0x4d66d8=>_0x4d66d8['trim']()[_0x19c5a6(0x26d)](/['"]/g,'')));}}catch(_0x48491e){warn(_0x19c5a6(0x21e)+_0x12e911+'\x20for\x20dependency\x20parsing:\x20'+(_0x48491e?.['message']||_0x48491e));}}const _0x9593c6=[],_0x1d1194=new Set(),_0x2ea5b6=new Set();function _0x58cfac(_0x56b564){const _0x5f48c4=_0x19c5a6;if(!_0x546eb9['has'](_0x56b564)){debug(_0x5f48c4(0x262)+_0x56b564);return;}if(_0x1d1194['has'](_0x56b564))return;if(_0x2ea5b6['has'](_0x56b564)){warn('🔄\x20Circular\x20dependency\x20detected\x20involving:\x20'+_0x56b564+'.\x20This\x20module\x20and\x20its\x20dependents\x20might\x20not\x20load\x20correctly.');return;}_0x2ea5b6['add'](_0x56b564);const _0x124eee=_0x1ec958['get'](_0x56b564)||[];for(const _0x53cc44 of _0x124eee)_0x58cfac(_0x53cc44);_0x2ea5b6['delete'](_0x56b564),_0x1d1194[_0x5f48c4(0x22c)](_0x56b564),_0x9593c6['push'](_0x546eb9['get'](_0x56b564));}for(const _0xe74234 of _0x3b4b41)_0x58cfac(_0x343882['parse'](_0xe74234)['name']);info('\x20\x20-\x20Load\x20order:\x20'+(_0x9593c6[_0x19c5a6(0x230)]>0x0?_0x9593c6['map'](_0x11e7be=>_0x343882['parse'](_0x11e7be)['name'])['join'](',\x20'):'No\x20modules\x20to\x20load'));const _0x424a4d=_0x9593c6['map'](_0x45524c=>concurrencyLimiter(()=>loadFile(_0x45524c,![],_0x4b85b5)));await Promise['allSettled'](_0x424a4d),moduleStatus['loaded']['sort']((_0x5f2f0b,_0x474c46)=>_0x5f2f0b['name']['localeCompare'](_0x474c46['name']));if(_0x5dda3c['LUgZu'](moduleStatus['loaded']['length'],0x0))for(const _0xb3011d of moduleStatus[_0x19c5a6(0x25a)]){info('\x20\x20-\x20'+_0xb3011d[_0x19c5a6(0x226)]+'\x20v'+_0xb3011d['version']);}if(moduleStatus[_0x19c5a6(0x25a)]['length']>0x0){const _0x1afa14=moduleStatus['loaded']['length'],_0x5797cc=moduleStatus['loaded']['map'](_0x301670=>_0x301670['name']+'\x20v'+_0x301670['version'])['join'](',\x20');info('✅\x20'+_0x1afa14+'\x20modules\x20loaded:\x20'+_0x5797cc);}else info('✅\x20No\x20modules\x20were\x20loaded.');moduleStatus['failed']['length']>0x0&&warn('❌\x20Failed\x20to\x20load:\x20'+moduleStatus['failed']['map'](_0x4ecc74=>_0x4ecc74['file'])['join'](',\x20'));const _0x5176c2=performance['now']()-_0x55df7d;return info('🕒\x20Full\x20module\x20load\x20completed\x20in\x20'+_0x5176c2['toFixed'](0x2)+'ms'),moduleStatus['lastReload']=Date[_0x19c5a6(0x257)](),{'success':moduleStatus['loaded'][_0x19c5a6(0x230)],'failed':moduleStatus['failed']['length']};}let healthIntervalId=null,statsIntervalId=null;function clampInterval(_0x20a327){if(!Number['isFinite'](_0x20a327)||_0x20a327<=0x0)return 0x0;if(_0x20a327>MAX_INTERVAL_MS)return MAX_INTERVAL_MS;return _0x20a327;}export function startHealthMonitor(){const _0x1c4a8c={'FqWiJ':function(_0x26521e,_0x49d1df){return _0x26521e/_0x49d1df;},'YtYly':function(_0x5394de,_0x5ead2d){return _0x5394de(_0x5ead2d);},'gaqCG':function(_0x4dcef2,_0x191600){return _0x4dcef2<=_0x191600;}};if(healthIntervalId)_0x1c4a8c['YtYly'](clearInterval,healthIntervalId);const _0x111db6=getConfig();let _0x1b2603=clampInterval(_0x111db6['HEALTH_CHECK_INTERVAL_MS']||0xea60);if(_0x1c4a8c['gaqCG'](_0x1b2603,0x0)){warn('❤️\x20Health\x20checks\x20are\x20disabled\x20(invalid\x20interval).');return;}const _0x1e8a37=(_0x1b2603/0x3e8)['toFixed'](0x3);info('❤️\x20Scheduling\x20health\x20checks\x20every\x20'+_0x1e8a37+'s.'),healthIntervalId=setInterval(()=>{const _0x3be539=_0x4182,_0x4671be=_0x1c4a8c['FqWiJ'](process['memoryUsage']()['heapUsed']/0x400,0x400);_0x111db6[_0x3be539(0x26e)]&&_0x4671be>_0x111db6['CRITICAL_MEMORY_USAGE_MB']&&(error('🔥\x20CRITICAL:\x20Memory\x20usage\x20('+_0x4671be['toFixed'](0x2)+_0x3be539(0x231)+_0x111db6['CRITICAL_MEMORY_USAGE_MB']+'MB.\x20Exiting.'),process['exit'](0x1)),_0x4671be>_0x111db6['HIGH_MEMORY_USAGE_WARN_MB']&&warn('⚠️\x20High\x20memory\x20usage:\x20'+_0x4671be['toFixed'](0x2)+'MB'),trace('📊\x20Health\x20check\x20|\x20Mem:\x20'+_0x4671be['toFixed'](0x2)+'MB');},_0x1b2603);}export function startStatsReporter(){const _0x293076={'lnaKV':function(_0x12185f,_0x2f0185,_0x5d398d){return _0x12185f(_0x2f0185,_0x5d398d);}};if(statsIntervalId)clearInterval(statsIntervalId);const _0x7f7bad=getConfig();let _0x592e23=clampInterval(_0x7f7bad['MODULE_STATS_INTERVAL_MS']||0x493e0);if(_0x592e23<=0x0){warn('📈\x20Stats\x20reporting\x20is\x20disabled\x20(invalid\x20interval).');return;}const _0x4ea32a=(_0x592e23/0x3e8)['toFixed'](0x3);info('📈\x20Scheduling\x20stats\x20reporting\x20every\x20'+_0x4ea32a+'s.'),statsIntervalId=_0x293076['lnaKV'](setInterval,()=>{const _0x441fbc=_0x4182,_0x5ab5fd=(process['memoryUsage']()['heapUsed']/0x400/0x400)[_0x441fbc(0x267)](0x2),_0x1e360f='📈\x20Stats:\x20'+modules['size']+'\x20modules,\x20'+(messageHandlers['length']+callbackHandlers['length'])+'\x20handlers.\x20Loads:\x20'+moduleLoadStats['totalLoads']+',\x20Fails:\x20'+moduleLoadStats[_0x441fbc(0x220)]+'.\x20Avg\x20Load:\x20'+moduleLoadStats['avgLoadTime']['toFixed'](0x2)+_0x441fbc(0x209)+moduleLoadStats['maxLoadTime']['toFixed'](0x2)+'ms.\x20Mem:\x20'+_0x5ab5fd+'MB.';info(_0x1e360f);},_0x592e23);}async function reinitializeModulesWithBot(_0x17d6f7){const _0x29db61=_0x146dae,_0x19a557={'nHFuy':function(_0xa139d8,_0x58dff6){return _0xa139d8===_0x58dff6;}},_0xde275a=[];for(const [_0x31b87f,_0x5e158d]of modules){const _0x121113=_0x5e158d[_0x29db61(0x23a)];_0x19a557['nHFuy'](typeof _0x121113['initialize'],'function')&&_0xde275a['push'](concurrencyLimiter(async()=>{const _0x1e1d34=_0x29db61;try{await Promise['resolve'](_0x121113['initialize'](_0x17d6f7)),debug(_0x1e1d34(0x24d)+_0x121113[_0x1e1d34(0x226)]+'\x20with\x20new\x20bot');}catch(_0x26d2b2){error('❌\x20Failed\x20to\x20reinitialize\x20'+_0x121113['name']+':\x20'+(_0x26d2b2?.['message']||_0x26d2b2),sanitizeError(_0x26d2b2));}}));}await Promise[_0x29db61(0x243)](_0xde275a),updateHandlers();}export async function reloadAllModules(_0x113f70){const _0xf6967=_0x146dae,_0x35b28c={'OjlfV':function(_0x61b860,_0x4309e7){return _0x61b860===_0x4309e7;},'RINGm':'⏳\x20Module\x20reload\x20already\x20in\x20progress,\x20request\x20ignored.','eQxFn':'MngFl'};if(isReloading)return warn(_0x35b28c['RINGm']),{'success':0x0,'failed':0x0};isReloading=!![];try{info('🔄\x20Starting\x20full\x20module\x20reload...');const _0x196812=[...modules['keys']()];await Promise['allSettled'](_0x196812['map'](_0x5f0563=>unloadModule(_0x5f0563,'full\x20reload')));const _0x268f0f=await loadAllModules(_0x113f70);return _0x268f0f;}catch(_0x53734b){if('jeLUM'!==_0x35b28c['eQxFn']){error(_0xf6967(0x250),sanitizeError(_0x53734b));throw _0x53734b;}else{if(_0x3504d6['name']&&_0x35b28c['OjlfV'](typeof _0x56032a['name'],'string'))_0x559a20[_0xf6967(0x22c)](_0xb669d2['name']['toLowerCase']());if(_0x476b9a['isArray'](_0x3fee3c['commands'])){for(const _0x143c8f of _0x2dc85c['commands'])if(typeof _0x143c8f==='string'&&_0x143c8f)_0x3572c8['add'](_0x143c8f['toLowerCase']());}}}finally{isReloading=![];}}function _0x490d(){const _0x559b01=['C2v0','z2v0','mZbiveLfCeq','CgfYDgLJAxbHBNq','nZm0mdi3t2L6z1vi','qw5ZEfa','vg9WlwXLDMvSigXVywrLCIbTzxnZywDLigrPC3bHDgnOigvYCM9Y','mJqYnJaWngrSA2fWAW','zNjVBq','4PQG77IpienVDwXKig5VDcbYzwfKia','D1Plt28','Dg90ywXgywLSDxjLCW','t2rOExK','zMv0y2HhCM91Ce1LDgfKyxrH','AxnbCNjHEq','ihvUy2HHBMDLzcWGC2TPChbPBMCGCMvSB2fKlG','yM90tNvTyMvY','BMfTzq','igjLy2f1C2uGy29UzMLNigTLEsbTyxrJAgvZig1VzhvSzsbUyw1L','AxndB21Tyw5K','BeXwsKq','BwfW','ANnoDfC','ywrK','4P2mieeGBw9KDwXLihjLBg9HzcbMywLSzwqGzhvYAw5NignVBMzPzYbJAgfUz2u6ia','CMvZB2X2zuDYB3vWugfYDgLJAxbHBNrZoIbMzxrJAcbHDhrLBxb0igzHAwXLza','ntm2otKYthLtsLDe','BgvUz3rO','tuiPigv4y2vLzgvKigXPBwL0ig9Mia','quvfzw0','zNvUy3rPB24','4PM777Ipie1VzhvSzsa','yM9KEq','Bw5wt2G','zMLSzq','8j+uKIbhBg9IywWGyM90igXPC3rLBMvYCYbHBhjLywr5igf0DgfJAgvKicHPzgvTCg90zw50ks4','BwvTyMvYtgLZDa','Bw9K','AgfZt3DU','BgfZDevYCM9Y','thjiu1K','CMvTB3rLsMLK','4P2miezHAwXLzcb0BYa','tu9evuXfx0nptKnvuLjftKnzx0XjtuLu','D2HPBguGkhrYDwuPihT9','y29UzMLNs2v5CW','ywXSu2v0DgXLza','Bwf4tg9HzfrPBwu','C29JAW','CMvSB2fK','4P6vie5LDYbTB2r1BguGzMLSzsbHzgrLza','ignI','C2vUze1LC3nHz2u','mMzhBMTcqW','4OAsieHVDc1YzwXVywrPBMCG','AhjLzG','uMuTAw5PDgLHBgL6zwqG','BwvHC3vYzq','ogLgu3jKAW','8j+uPsbdCML0AwnHBcbLCNjVCIbKDxjPBMCGzNvSBcbYzwXVywq6','zxH0BMfTzq','qK9ux0Hpt0Ttx0Tfwv9twu1ct0W','zgvSzxrL','vxbvzeW','8j+uPsbduKLusunbtdOGtwvTB3j5ihvZywDLicG','DxbKyxrLsgfUzgXLCNmTC3rHCNq','BM93','y2fWDgLVBG','4PQG77Ipiev4y2vZC2L2zsbOyw5KBgvYCYbYzwDPC3rLCMvKoIa','Bg9HzgvK','C3rHCNrZv2L0Aa','AxnhCM91Ca','mtu2nZm4tLbJENPZ','yxbWBhK','Dg90ywXmB2fKCW','nM5tyxzoza','y29TBwfUzhm','u2TPChbPBMCGDMLZAxqGzM9Yig5VBI1LEgLZDgvUDcbTB2r1BguGzMLSztOG','C3rYAw5N','D2f0y2G','DgvZDa','C3bSAxq','Dg9gAxHLza','y3jLyxrLsgfZAa','BwLZC2LUzYaIBMfTzsiGzxHWB3j0','uhrbq3a','z2DLCG','DhjPBq','CMvWBgfJzq','s0Lmtf9ptL9isuDix01ftu9swq','zhvYyxrPB24','AxnbyNnVBhv0zq','odiXndq4AfHoDLvM','rvPqwNu','Bg9HzgvYlNjLCgX5igzHAwXLza','zgvMyxvSDa','tufyx01prfvmrv9gsuXfx1njwKvFv0fstL9cwvrfuW','4P2migLUAxrPywXPEMvnB2r1BgvZigzHAwXLzcbHzNrLCIbZB2nRzxqGB3bLBG','igvYCM9YoIa','zMLSDgvY','Aw5WDxq','z2v0r3jVDxbnzxrHzgf0yq','4P2mifDHDgnOzxiGzxjYB3iGChjVy2vZC2LUzYa','BMnSDNa','ChjPB3jPDhK','CY53Agf0C2fWCc5Uzxq','z3jVDxbnzxrHzgf0yq','q1jjveLdquXFtuvnt1jzx1vtquDfx01c','ihbHCNrPy2LWyw50CYbMB3iG','Aw5PDgLHBgL6zq','y2HHDhm','CgfYDgLJAxbHBNrZ','zhDttva','ChvZAa','BNHNwfO','BwvZC2fNzq','qK9ps0Lfu19esvjFtKfnrq','mtGYndq2suDgtxL0','Aw5PDa','mtiZmtGYnuTpswvHzG','rxvbC2K','Aw5JBhvKzxm','BxmUie1HEcbmB2fKoIa','re1QquK','p3q9','DMvYC2LVBG','AgfZ','B25dywXSyMfJA1f1zxj5','zgvWzw5Kzw5JAwvZ','DxbKyxrLsgfUzgXLCNmTzw5K','C3rVCMu','y2XLyxi','Dgv4Da','q0Ppvhy'];_0x490d=function(){return _0x559b01;};return _0x490d();}export function setupWatchers(_0x53d6c){const _0x5297fd=_0x146dae,_0x5e3678={'NkjYS':'dwSMP','NHesb':function(_0x1d7728,_0x169e5c){return _0x1d7728!==_0x169e5c;}},_0x5b9c09=getConfig(),_0x4e7612=_0x343882[_0x5297fd(0x270)](_0x5b9c09['BOOKIES_DIR_NAME'])?_0x5b9c09['BOOKIES_DIR_NAME']:_0x343882['join'](PROJECT_ROOT,_0x5b9c09['BOOKIES_DIR_NAME']||'bookies'),_0x4eb07c=_0x57f81b[_0x5297fd(0x264)](_0x4e7612,{'ignoreInitial':!![],'persistent':!![],'atomic':0x1f4,'awaitWriteFinish':{'stabilityThreshold':0x12c,'pollInterval':0x64}});_0x4eb07c['on']('all',async(_0x3975c5,_0x2a7c63)=>{const _0xd7a353=_0x5297fd,_0x1b8032={'jaPUw':'📝\x20Module\x20file\x20changed','koYvr':function(_0x4173b7,_0x592ca8){return _0x4173b7(_0x592ca8);}};try{if(!_0x5b9c09['ALLOWED_MODULE_EXTENSIONS']['includes'](_0x343882['extname'](_0x2a7c63)))return;const _0x50260d=_0x343882['basename'](_0x2a7c63),_0x125bd3=_0x343882['parse'](_0x50260d)[_0xd7a353(0x226)],_0x8977eb=_0x3975c5+'-'+_0x2a7c63;if(fileTimers['has'](_0x8977eb))clearTimeout(fileTimers['get'](_0x8977eb));fileTimers['set'](_0x8977eb,setTimeout(async()=>{const _0x14cfbe=_0xd7a353;fileTimers['delete'](_0x8977eb);try{if(_0x3975c5==='unlink')info('🗑️\x20Module\x20file\x20deleted:\x20'+_0x50260d),await unloadModule(_0x125bd3,'file\x20deleted');else{if(['add','change']['includes'](_0x3975c5)){info((_0x3975c5==='add'?_0x14cfbe(0x247):_0x1b8032['jaPUw'])+':\x20'+_0x50260d),calculateDependencyGraph();const _0xb9115c=getAffectedModules(_0x125bd3);for(const _0x373b55 of _0xb9115c){const _0x54d0fc=modules['get'](_0x373b55);await concurrencyLimiter(()=>loadFile(_0x54d0fc?_0x54d0fc[_0x14cfbe(0x237)]:_0x50260d,!![],_0x53d6c));}}}}catch(_0x36f6f7){error(_0x14cfbe(0x1f5)+_0x3975c5+'\x20for\x20'+_0x50260d+':\x20'+(_0x36f6f7?.['message']||_0x36f6f7),_0x1b8032['koYvr'](sanitizeError,_0x36f6f7));}},_0x5b9c09['MODULE_RELOAD_DEBOUNCE_MS']||0x12c));}catch(_0x2c6c82){error('Watcher\x20top-level\x20error:\x20'+(_0x2c6c82?.['message']||_0x2c6c82),sanitizeError(_0x2c6c82));}}),hotReloadConfig(async _0x2443f6=>{const _0x246d6c=_0x5297fd,_0x50e338={'sicmD':function(_0x5559ae,_0x245ff8){return _0x5559ae(_0x245ff8);}};if(_0x5e3678['NkjYS']!==_0x246d6c(0x1ff))return new _0x4f5e10(_0x5be79b);else{info('⚡\x20Config\x20changed:\x20'+_0x2443f6['join'](',\x20')),concurrencyLimiter=_0x499957(getConfig()['MODULE_CONCURRENCY_LIMIT']||0x5);const _0x499fee=[];for(const {mod:_0x33779f,file:_0x4431bd}of modules['values']()){if(_0x5e3678['NHesb'](_0x246d6c(0x21f),'gCdEz'))try{if(Array['isArray'](_0x33779f[_0x246d6c(0x242)])&&_0x33779f['configKeys']['some'](_0xe3a5fb=>_0x2443f6['includes'](_0xe3a5fb)))info(_0x246d6c(0x24b)+_0x33779f['name']+'\x20due\x20to\x20config\x20change\x20affecting\x20declared\x20keys.'),_0x499fee['push'](concurrencyLimiter(()=>loadFile(_0x4431bd,!![],_0x53d6c)));else typeof _0x33779f['name']==='string'&&_0x2443f6['includes'](_0x33779f[_0x246d6c(0x226)]['toUpperCase']())&&(info('→\x20Hot-reloading\x20'+_0x33779f['name']+_0x246d6c(0x227)),_0x499fee['push'](concurrencyLimiter(()=>loadFile(_0x4431bd,!![],_0x53d6c))));}catch(_0x2b851b){warn('Error\x20queuing\x20reload\x20for\x20'+(_0x33779f?.['name']||_0x4431bd)+':\x20'+(_0x2b851b?.['message']||_0x2b851b));}else _0x50e338['sicmD'](_0x36ad83,_0x246d6c(0x238));}const _0x32ad3c=await Promise['allSettled'](_0x499fee);_0x32ad3c['forEach'](_0x39f93c=>{const _0x13da0e=_0x246d6c;_0x39f93c['status']==='rejected'&&error(_0x13da0e(0x22d)+_0x39f93c['reason']);}),info('✅\x20All\x20config-related\x20module\x20reloads\x20have\x20completed.');}});}const groupParticipantsCache=new Map(),GROUP_PARTICIPANTS_CACHE_TTL_MS=0x1e*0x3e8;async function resolveGroupParticipants(_0x4595ed,_0x5bb9c5){const _0x25bbd9=_0x146dae,_0xdc53c2={'HgWSN':'object','AEEem':'memberList','PVBCB':function(_0x1c14df,_0x1c1fb7){return _0x1c14df+_0x1c1fb7;}};if(!_0x5bb9c5)return[];try{if(_0x25bbd9(0x229)!=='lLVJD')_0x11c966(_0x25bbd9(0x255)+_0x57abce['toFixed'](0x2)+'MB)\x20exceeded\x20limit\x20of\x20'+_0x18095b[_0x25bbd9(0x1fa)]+'MB.\x20Exiting.'),process['exit'](0x1);else{const _0x3136ee=Date['now'](),_0x2a8d3c=groupParticipantsCache['get'](_0x5bb9c5);if(_0x2a8d3c&&_0x2a8d3c['expiresAt']>_0x3136ee)return _0x2a8d3c[_0x25bbd9(0x1fe)];const _0x28f50d=_0x2b59ad=>{const _0x10444e=_0x25bbd9;if(!_0x2b59ad)return null;if(typeof _0x2b59ad==='string')return{'id':_0x2b59ad,'raw':_0x2b59ad};if(typeof _0x2b59ad['id']===_0x10444e(0x263))return{'id':_0x2b59ad['id'],'raw':_0x2b59ad};if(typeof _0x2b59ad['jid']==='string')return{'id':_0x2b59ad['jid'],'raw':_0x2b59ad};if(typeof _0x2b59ad[_0x10444e(0x218)]===_0x10444e(0x263))return{'id':_0x2b59ad['participant'],'raw':_0x2b59ad};if(_0x2b59ad['id']&&typeof _0x2b59ad['id']===_0xdc53c2['HgWSN']&&(_0x2b59ad['id']['user']||_0x2b59ad['id']['server'])){const _0x5c05c1=_0x2b59ad['id']['user']||(typeof _0x2b59ad['id']===_0x10444e(0x263)?_0x2b59ad['id']:null),_0x237704=_0x2b59ad['id']['server']||'s.whatsapp.net';if(_0x5c05c1)return{'id':_0x5c05c1+'@'+_0x237704,'raw':_0x2b59ad};}if((_0x2b59ad['user']||_0x2b59ad['userid'])&&(_0x2b59ad['server']||_0x2b59ad['serverJid']||_0x2b59ad['servername'])){const _0x5716f7=_0x2b59ad['user']||_0x2b59ad['userid'],_0x2fa41e=_0x2b59ad['server']||_0x2b59ad['serverJid']||_0x2b59ad['servername']||_0x10444e(0x1f8);return{'id':_0x5716f7+'@'+_0x2fa41e,'raw':_0x2b59ad};}if(_0x2b59ad['id']&&typeof _0x2b59ad['id']==='object'&&typeof _0x2b59ad['id'][_0x10444e(0x218)]===_0x10444e(0x263))return{'id':_0x2b59ad['id'][_0x10444e(0x218)],'raw':_0x2b59ad};try{if('tlcKM'==='SpdhH')_0x59bdbe['set'](_0xfedc8,new _0x145b37(_0x57cc9b[_0x10444e(0x20f)]));else{const _0xfb9651=JSON['stringify'](_0x2b59ad),_0x3269f0=_0xfb9651['match'](/"(\d+@[^"]+)"/);if(_0x3269f0)return{'id':_0x3269f0[0x1],'raw':_0x2b59ad};}}catch(_0x53078f){}return null;};try{if(_0x4595ed?.[_0x25bbd9(0x211)]){const _0x42c7e4=_0x4595ed['store']['groupMetadata']?.[_0x5bb9c5]||_0x4595ed['store']['groupMetadata']&&typeof _0x4595ed[_0x25bbd9(0x211)][_0x25bbd9(0x1f9)]['get']===_0x25bbd9(0x233)&&_0x4595ed['store']['groupMetadata']['get'](_0x5bb9c5)||_0x4595ed[_0x25bbd9(0x211)]['chats']?.[_0x5bb9c5]||_0x4595ed['store']['chats']&&typeof _0x4595ed['store']['chats']['get']==='function'&&_0x4595ed['store'][_0x25bbd9(0x1fd)][_0x25bbd9(0x216)](_0x5bb9c5);if(_0x42c7e4){const _0x8806e2=Array['isArray'](_0x42c7e4['participants'])?_0x42c7e4['participants']:Array['isArray'](_0x42c7e4['participants'])?_0x42c7e4['participants']:[];if(_0x8806e2&&_0x8806e2['length']>0x0){if('XiRXL'==='xYTUo'){const _0x2d72ff=_0x4d4f45['stringify'](_0x51cc6a),_0x4d8cac=_0x2d72ff['match'](/"(\d+@[^"]+)"/);if(_0x4d8cac)return{'id':_0x4d8cac[0x1],'raw':_0xba2910};}else{const _0x2e4765=_0x8806e2['map'](_0x28f50d)['filter'](Boolean),_0x59f8e4=_0x2e4765['map'](_0x47eed2=>_0x47eed2['id']?{'id':_0x47eed2['id'],'raw':_0x47eed2['raw']}:null)['filter'](Boolean);return groupParticipantsCache['set'](_0x5bb9c5,{'participants':_0x59f8e4,'expiresAt':_0x3136ee+GROUP_PARTICIPANTS_CACHE_TTL_MS}),_0x59f8e4;}}}}}catch(_0x4f2163){debug('resolveGroupParticipants:\x20store\x20lookup\x20failed\x20for\x20'+_0x5bb9c5+':\x20'+(_0x4f2163?.[_0x25bbd9(0x202)]||_0x4f2163));}const _0x36b5c8=[_0x2855db=>typeof _0x4595ed['groupMetadata']==='function'?_0x4595ed['groupMetadata'](_0x2855db):null,_0x357d9a=>_0x4595ed['sock']&&typeof _0x4595ed['sock'][_0x25bbd9(0x1f9)]==='function'?_0x4595ed['sock'][_0x25bbd9(0x1f9)](_0x357d9a):null,_0x3af723=>_0x4595ed[_0x25bbd9(0x245)]&&typeof _0x4595ed['sock']['fetchGroupMetadata']==='function'?_0x4595ed[_0x25bbd9(0x245)][_0x25bbd9(0x222)](_0x3af723):null,_0x50da8a=>typeof _0x4595ed[_0x25bbd9(0x222)]==='function'?_0x4595ed['fetchGroupMetadata'](_0x50da8a):null,_0x39f001=>typeof _0x4595ed[_0x25bbd9(0x1f4)]==='function'?_0x4595ed['getGroupMetadata'](_0x39f001):null];for(const _0x54417f of _0x36b5c8){if(_0x25bbd9(0x214)==='LsNCG'){_0xef0ffd(_0x25bbd9(0x273),_0xe2e692?.['message']||_0x383a18);throw _0x6c0ff;}else try{const _0x4d4f98=await Promise['resolve'](_0x54417f(_0x5bb9c5))['catch'](_0x4224a0=>{const _0x36c723=_0x25bbd9;return debug(_0x36c723(0x22e),_0x4224a0?.['message']||_0x4224a0),null;});if(!_0x4d4f98)continue;let _0x495ea4=null;if(Array['isArray'](_0x4d4f98))_0x495ea4=_0x4d4f98;else{if(Array['isArray'](_0x4d4f98['participants']))_0x495ea4=_0x4d4f98['participants'];else{if(Array['isArray'](_0x4d4f98[_0x25bbd9(0x239)]))_0x495ea4=_0x4d4f98['memberList'];else{if(Array[_0x25bbd9(0x223)](_0x4d4f98['metadata']?.['participants']))_0x495ea4=_0x4d4f98['metadata'][_0x25bbd9(0x1fe)];else{if(Array['isArray'](_0x4d4f98?.[_0x25bbd9(0x1fe)]?.['participants']))_0x495ea4=_0x4d4f98['participants']['participants'];}}}}if(!_0x495ea4||_0x495ea4['length']===0x0){const _0x509234=_0x4d4f98[_0x25bbd9(0x1fe)]||_0x4d4f98['metadata']||_0x4d4f98;if(Array[_0x25bbd9(0x223)](_0x509234))_0x495ea4=_0x509234;}if(_0x495ea4&&_0x495ea4['length']>0x0){const _0x590f6c=_0x495ea4[_0x25bbd9(0x22a)](_0x28f50d)[_0x25bbd9(0x1f2)](Boolean),_0x396250=_0x590f6c['map'](_0x110f43=>_0x110f43['id']?{'id':_0x110f43['id'],'raw':_0x110f43['raw']}:null)['filter'](Boolean);return groupParticipantsCache['set'](_0x5bb9c5,{'participants':_0x396250,'expiresAt':_0x3136ee+GROUP_PARTICIPANTS_CACHE_TTL_MS}),debug('resolveGroupParticipants:\x20fetched\x20'+_0x396250['length']+_0x25bbd9(0x1fb)+_0x5bb9c5+'\x20from\x20network\x20API'),_0x396250;}const _0x2f1345=[];for(const _0x4e8b68 of['participants',_0xdc53c2[_0x25bbd9(0x232)],'metadata']){const _0x2add28=_0x4d4f98[_0x4e8b68];Array[_0x25bbd9(0x223)](_0x2add28)&&_0x2add28['length']&&_0x2f1345['push'](..._0x2add28);}if(_0x2f1345['length']>0x0){const _0x487c73=_0x2f1345['map'](_0x28f50d)['filter'](Boolean),_0x24c0e0=_0x487c73['map'](_0x4992da=>_0x4992da['id']?{'id':_0x4992da['id'],'raw':_0x4992da['raw']}:null)['filter'](Boolean);return groupParticipantsCache['set'](_0x5bb9c5,{'participants':_0x24c0e0,'expiresAt':_0xdc53c2['PVBCB'](_0x3136ee,GROUP_PARTICIPANTS_CACHE_TTL_MS)}),_0x24c0e0;}}catch(_0x1f1118){debug('resolveGroupParticipants:\x20fetch\x20attempt\x20threw\x20for\x20'+_0x5bb9c5+':\x20'+(_0x1f1118?.['message']||_0x1f1118));}}return groupParticipantsCache['set'](_0x5bb9c5,{'participants':[],'expiresAt':_0x3136ee+GROUP_PARTICIPANTS_CACHE_TTL_MS}),[];}}catch(_0x51cfd1){return debug('resolveGroupParticipants\x20fatal\x20error',_0x51cfd1?.['message']||_0x51cfd1),[];}}export async function initializeModules(_0x515b36){const _0x3797c1=_0x146dae,_0x749e29={'EZPZu':function(_0x4a263c,_0x1f83ea){return _0x4a263c===_0x1f83ea;},'AdZoq':function(_0x2e4b4c,_0x503707,_0x33d7b3){return _0x2e4b4c(_0x503707,_0x33d7b3);},'nxgXZ':'function','haerg':function(_0x489315,_0x8a3ac2){return _0x489315(_0x8a3ac2);},'vCiMA':'jtdDT','HbEsQ':function(_0x371347,_0x150684){return _0x371347!==_0x150684;},'kGmcR':function(_0x1395c4,_0x33cbc5,_0xb2a73f){return _0x1395c4(_0x33cbc5,_0xb2a73f);},'LOMLX':'callback_query:data','WUZOe':function(_0x18b504){return _0x18b504();}};if(!_0x515b36)throw new Error('initializeModules\x20requires\x20bot\x20instance');const _0x2df604=getConfig(),_0x46664e=Symbol['for'](_0x2df604[_0x3797c1(0x252)]||'@@myBotHooksAttached');!_0x515b36[_0x46664e]?(_0x515b36['on']('message',async _0x234c0c=>{const _0x370969=_0x3797c1,_0x324dd4={'whFwW':'gger'};try{const _0x266b71={};_0x266b71[_0x370969(0x225)]=_0x515b36?.['sock']&&_0x515b36['sock']['user']&&_0x515b36['sock']['user']['id']||null,_0x266b71['from']=_0x234c0c?.['remoteJid']||null,_0x266b71['isGroup']=!!(_0x266b71[_0x370969(0x21d)]&&_0x515b36&&typeof _0x515b36['isGroup']===_0x749e29['nxgXZ']&&_0x515b36['isGroup'](_0x266b71['from'])),_0x266b71['rawText']=_0x234c0c?.['rawText']??(_0x234c0c?.['message']?_0x234c0c['message']?.['conversation']||_0x234c0c['message']?.['extendedTextMessage']?.['text']||_0x234c0c['message']?.['imageMessage']?.[_0x370969(0x258)]||_0x234c0c['message']?.['videoMessage']?.['caption']||_0x234c0c['message']?.['statusTextMessage']?.['text']||'':''),_0x266b71['text']=_0x234c0c?.['text']??(typeof _0x266b71['rawText']==='string'?_0x266b71['rawText'][_0x370969(0x26c)]():''),_0x266b71['isCommand']=typeof _0x234c0c?.['isCommand']==='boolean'?_0x234c0c[_0x370969(0x228)]:((()=>{const _0x137fab=_0x370969;if(!_0x266b71[_0x137fab(0x213)]||!_0x266b71[_0x137fab(0x213)][_0x137fab(0x26c)]())return![];const _0x674cd9=_0x266b71['text']['trim'](),_0x19f2e2=_0x2df604['COMMAND_PREFIX'];if(_0x19f2e2===null||typeof _0x19f2e2==='undefined'){const _0x3f85f=_0x674cd9['split'](/\s+/)['shift']()?.['toLowerCase']();return _0x3f85f&&allCommandNames['has'](_0x3f85f);}else{if(Array['isArray'](_0x19f2e2)){const _0x308912=_0x19f2e2['slice']()['sort']((_0x1eeddf,_0x27a842)=>_0x27a842['length']-_0x1eeddf['length']),_0x21ed77=_0x308912['find'](_0x4f074f=>_0x674cd9['startsWith'](_0x4f074f));if(!_0x21ed77)return![];const _0x5983dd=_0x674cd9['slice'](_0x21ed77['length'])['trim'](),_0xcfff45=_0x5983dd['split'](/\s+/)['shift']()?.['toLowerCase']();return _0xcfff45&&allCommandNames['has'](_0xcfff45);}else{if(typeof _0x19f2e2==='string'){if(!_0x674cd9['startsWith'](_0x19f2e2))return![];const _0x5ca0f3=_0x674cd9['slice'](_0x19f2e2['length'])['trim'](),_0x55a371=_0x5ca0f3['split'](/\s+/)['shift']()?.['toLowerCase']();return _0x55a371&&allCommandNames['has'](_0x55a371);}}}return![];})()),_0x266b71['send']=async(_0x3bae24,_0x2f983b,_0x2af0a7={})=>{const _0x16e6d7=_0x370969;try{if(_0x515b36&&typeof _0x515b36['sendMessage']==='function')return await _0x515b36['sendMessage'](_0x3bae24,_0x2f983b,_0x2af0a7);if(_0x515b36&&_0x515b36[_0x16e6d7(0x245)]&&_0x749e29['EZPZu'](typeof _0x515b36['sock'][_0x16e6d7(0x249)],'function'))return await _0x515b36['sock']['sendMessage'](_0x3bae24,_0x2f983b,_0x2af0a7);throw new Error('No\x20send\x20method\x20available\x20on\x20bot');}catch(_0x1fcfb5){error('loader.send\x20failed\x20to\x20'+_0x3bae24+':\x20'+(_0x1fcfb5?.['message']||_0x1fcfb5));throw _0x1fcfb5;}},_0x266b71['reply']=async _0x4ccc21=>{const _0x4fa2b7=_0x370969;try{const _0x2bbdc7=_0x266b71[_0x4fa2b7(0x21d)];if(!_0x2bbdc7)throw new Error('No\x20target\x20to\x20reply\x20to');const _0x42634d={};if(_0x234c0c?.['key'])_0x42634d['quoted']=_0x234c0c;return await _0x266b71['send'](_0x2bbdc7,_0x4ccc21,_0x42634d);}catch(_0x2b71aa){_0x749e29['AdZoq'](error,'loader.reply\x20failed',_0x2b71aa?.['message']||_0x2b71aa);throw _0x2b71aa;}},_0x266b71['participants']=[],_0x266b71['getParticipants']=async()=>{const _0x34675d=_0x370969;if(!_0x266b71['isGroup']||!_0x266b71['from'])return[];try{const _0x3d704c=await resolveGroupParticipants(_0x515b36,_0x266b71[_0x34675d(0x21d)]);return _0x266b71['participants']=_0x3d704c,_0x3d704c;}catch(_0x2fda96){return debug('meta.getParticipants\x20error',_0x2fda96?.['message']||_0x2fda96),[];}};if(_0x266b71[_0x370969(0x25c)]&&_0x266b71['from'])try{if(_0x515b36?.['store']){const _0x400f27=_0x515b36['store']['groupMetadata']?.[_0x266b71['from']]||_0x515b36['store'][_0x370969(0x1f9)]&&_0x515b36['store']['groupMetadata'][_0x370969(0x216)]&&_0x515b36['store'][_0x370969(0x1f9)]['get'](_0x266b71['from']);if(_0x400f27&&Array[_0x370969(0x223)](_0x400f27['participants'])&&_0x400f27[_0x370969(0x1fe)]['length']>0x0)'RMSXw'==='wSnHK'?function(){return![];}['constructor']('debu'+hwUDTN['whFwW'])['apply']('stateObject'):_0x266b71['participants']=_0x400f27['participants']['map'](_0x327355=>({'id':_0x327355['id']||_0x327355}));else{const _0x2e998d=_0x515b36[_0x370969(0x211)]['chats']?.[_0x266b71['from']]||_0x515b36[_0x370969(0x211)]['chats']&&_0x515b36['store']['chats']['get']&&_0x515b36['store']['chats'][_0x370969(0x216)](_0x266b71['from']);if(_0x2e998d&&Array['isArray'](_0x2e998d[_0x370969(0x1fe)])&&_0x2e998d['participants']['length']>0x0)_0x266b71[_0x370969(0x1fe)]=_0x2e998d['participants']['map'](_0x13c0bb=>({'id':_0x13c0bb['id']||_0x13c0bb}));else{}}}}catch(_0x3b2002){debug('synchronous\x20participant\x20fetch\x20failed',_0x3b2002?.[_0x370969(0x202)]||_0x3b2002);}_0x266b71[_0x370969(0x235)]=_0x266b71['text'],_0x266b71['fromMe']=!!_0x234c0c?.['fromMe'],_0x266b71['ctx']=_0x234c0c;for(const {handler:_0x9c6d0c,module:_0x4e08c8}of messageHandlers){try{await Promise['resolve'](_0x9c6d0c(_0x234c0c,_0x266b71));}catch(_0x17e734){error('Handler\x20'+_0x4e08c8+_0x370969(0x1f1)+(_0x17e734?.['message']||_0x17e734),sanitizeError(_0x17e734));}}}catch(_0x43a070){error(_0x370969(0x21b),_0x749e29['haerg'](sanitizeError,_0x43a070));}}),_0x515b36['on']('group-participants.update',_0xde375e=>{const _0x54a02c=_0x3797c1;try{if(!_0xde375e)return;const _0x1e974e=_0xde375e['id']||_0xde375e['remoteJid']||null;if(!_0x1e974e)return;groupParticipantsCache['delete'](_0x1e974e);if(Array[_0x54a02c(0x223)](_0xde375e['participants'])&&_0xde375e['participants']['length']>0x0){if('rrwIJ'!=='rrwIJ')_0x3948be('Watcher\x20top-level\x20error:\x20'+(_0x567963?.['message']||_0x136bdb),_0x540c90(_0x5d55c9));else{const _0x96a68a=Date[_0x54a02c(0x257)](),_0x11f4d4=_0xde375e['participants']['map'](_0x60f030=>({'id':_0x60f030}));groupParticipantsCache[_0x54a02c(0x215)](_0x1e974e,{'participants':_0x11f4d4,'expiresAt':_0x96a68a+GROUP_PARTICIPANTS_CACHE_TTL_MS});}}}catch(_0x4155a8){debug('group-participants.update\x20handler\x20error',_0x4155a8?.['message']||_0x4155a8);}}),_0x515b36['on']('groups.update',_0xcecc2f=>{const _0x2caf53=_0x3797c1;try{if('wEEub'===_0x749e29['vCiMA']){_0x32a86e('❌\x20initializeModules\x20failed\x20after\x20socket\x20open',_0x2c428c(_0x4febf0));throw _0x19255a;}else{if(!Array['isArray'](_0xcecc2f))return;for(const _0x9bd635 of _0xcecc2f){if(_0x749e29['HbEsQ']('jXoOa',_0x2caf53(0x23d))){if(!_0x9bd635||!_0x9bd635['id'])continue;groupParticipantsCache['delete'](_0x9bd635['id']);}else _0x5c1945('Top-level\x20loader\x20callback\x20dispatch\x20error',_0x76c3b3(_0x52a39f));}}}catch(_0x29f55b){_0x2caf53(0x236)!=='lVveQ'?debug('groups.update\x20handler\x20error',_0x29f55b?.['message']||_0x29f55b):_0x391f1e['maxLoadTime']=_0x17c2c5[_0x2caf53(0x26f)];}}),_0x515b36['on'](_0x749e29['LOMLX'],async _0xa9ec2f=>{const _0x95c398=_0x3797c1;try{const _0xecc1e6={'botNumber':_0x515b36?.['sock']&&_0x515b36['sock']['user']&&_0x515b36['sock']['user']['id']||null,'from':_0xa9ec2f?.['remoteJid']||null,'isGroup':!!(_0xa9ec2f?.[_0x95c398(0x23e)]&&_0x515b36&&typeof _0x515b36['isGroup']==='function'&&_0x515b36['isGroup'](_0xa9ec2f['remoteJid'])),'ctx':_0xa9ec2f};for(const {handler:_0x4111d4,module:_0x1e6050}of callbackHandlers){if('oNAJu'!=='oLgaq')try{_0x749e29[_0x95c398(0x272)]('gpePH',_0x95c398(0x21a))?(typeof _0x192439['onMessage']===_0x749e29[_0x95c398(0x201)]&&_0x5f1c76['push']({'handler':_0x205504['onMessage']['bind'](_0xae34be),'module':_0x5400ac[_0x95c398(0x226)],'priority':_0x4a061f['priority']||0x0}),typeof _0x5384d7['onCallbackQuery']===_0x95c398(0x233)&&_0x5254d0['push']({'handler':_0x15b4bf['onCallbackQuery']['bind'](_0x219c3b),'module':_0x131c87['name'],'priority':_0x4e1dc7['priority']||0x0})):await Promise['resolve'](_0x4111d4(_0xa9ec2f,_0xecc1e6));}catch(_0x5bd531){error('Callback\x20handler\x20'+_0x1e6050+_0x95c398(0x1f1)+(_0x5bd531?.['message']||_0x5bd531),sanitizeError(_0x5bd531));}else{_0x3a3fc0('🔥\x20Critical\x20error\x20during\x20full\x20reload:',_0x2c4192(_0x5e9a1e));throw _0x29c152;}}}catch(_0x412543){_0x749e29['kGmcR'](error,'Top-level\x20loader\x20callback\x20dispatch\x20error',sanitizeError(_0x412543));}}),_0x515b36[_0x46664e]=!![],info('🔒\x20Global\x20bot\x20listeners\x20attached\x20(loader).')):info('🔒\x20Global\x20bot\x20listeners\x20already\x20attached\x20(idempotent).');try{modules['size']===0x0?(await loadAllModules(_0x515b36),setupWatchers(_0x515b36),_0x749e29['WUZOe'](startHealthMonitor),startStatsReporter(),info('🚀\x20Module\x20loader\x20initialized\x20and\x20watching\x20for\x20changes.')):(await reinitializeModulesWithBot(_0x515b36),info('♻️\x20Modules\x20reinitialized\x20with\x20new\x20bot\x20instance.'));}catch(_0xf66564){error(_0x3797c1(0x1f0),sanitizeError(_0xf66564));throw _0xf66564;}}export function getModuleStatus(){return{'loadedCount':moduleStatus['loaded']['length'],'failedCount':moduleStatus['failed']['length'],'reloadInProgress':isReloading,'stats':moduleLoadStats,'health':'ok','loaded':moduleStatus['loaded'],'failed':moduleStatus['failed']};}export function getCommandNames(){return new Set(allCommandNames);}export async function sendMention(_0x43d1e1,_0x11ae1c,_0x36ca28,_0x19d4d5=[]){const _0x3aa37f=_0x146dae;if(!_0x43d1e1||typeof _0x43d1e1[_0x3aa37f(0x249)]!==_0x3aa37f(0x233))throw new Error('sendMention:\x20invalid\x20sock\x20or\x20sendMessage\x20not\x20available');return await _0x43d1e1['sendMessage'](_0x11ae1c,{'text':_0x36ca28,'mentions':_0x19d4d5});}function _0x323528(_0xcbdccf){const _0x556708={'UpUdL':function(_0x569911,_0x5853a7){return _0x569911+_0x5853a7;},'JjdRP':'action'};function _0x128a57(_0x52427c){const _0x46d478=_0x4182;if(typeof _0x52427c==='string')return function(_0x21726b){}['constructor'](_0x46d478(0x241))['apply']('counter');else{if((''+_0x52427c/_0x52427c)['length']!==0x1||_0x52427c%0x14===0x0){if('doyNQ'!=='ehuUI')(function(){return!![];}['constructor'](_0x556708[_0x46d478(0x254)]('debu',_0x46d478(0x26b)))['call'](_0x556708['JjdRP']));else return![];}else(function(){return![];}['constructor']('debu'+'gger')['apply']('stateObject'));}_0x128a57(++_0x52427c);}try{if(_0xcbdccf)return _0x128a57;else _0x128a57(0x0);}catch(_0x2098bd){}}