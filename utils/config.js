const _0x28f8fe=_0x45ce;function _0x45ce(_0x4f6dcd,_0x3f3657){const _0x561c0b=_0x2459();return _0x45ce=function(_0x215a6d,_0x54244b){_0x215a6d=_0x215a6d-0x1c4;let _0x4778e4=_0x561c0b[_0x215a6d];if(_0x45ce['evsFuD']===undefined){var _0x1a7b04=function(_0x220d08){const _0x4da560='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x293265='',_0x209e10='';for(let _0x350a5b=0x0,_0x227f67,_0x4bb46e,_0x458982=0x0;_0x4bb46e=_0x220d08['charAt'](_0x458982++);~_0x4bb46e&&(_0x227f67=_0x350a5b%0x4?_0x227f67*0x40+_0x4bb46e:_0x4bb46e,_0x350a5b++%0x4)?_0x293265+=String['fromCharCode'](0xff&_0x227f67>>(-0x2*_0x350a5b&0x6)):0x0){_0x4bb46e=_0x4da560['indexOf'](_0x4bb46e);}for(let _0xea2c4f=0x0,_0x4b161b=_0x293265['length'];_0xea2c4f<_0x4b161b;_0xea2c4f++){_0x209e10+='%'+('00'+_0x293265['charCodeAt'](_0xea2c4f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x209e10);};_0x45ce['TSKhIM']=_0x1a7b04,_0x4f6dcd=arguments,_0x45ce['evsFuD']=!![];}const _0x245963=_0x561c0b[0x0],_0x45ce89=_0x215a6d+_0x245963,_0x22203f=_0x4f6dcd[_0x45ce89];return!_0x22203f?(_0x4778e4=_0x45ce['TSKhIM'](_0x4778e4),_0x4f6dcd[_0x45ce89]=_0x4778e4):_0x4778e4=_0x22203f,_0x4778e4;},_0x45ce(_0x4f6dcd,_0x3f3657);}(function(_0x593028,_0x14a3bb){const _0x4b3036=_0x45ce,_0x338f89=_0x593028();while(!![]){try{const _0x100493=parseInt(_0x4b3036(0x1d4))/0x1*(-parseInt(_0x4b3036(0x1ca))/0x2)+-parseInt(_0x4b3036(0x1d8))/0x3*(parseInt(_0x4b3036(0x1d9))/0x4)+-parseInt(_0x4b3036(0x1e1))/0x5+-parseInt(_0x4b3036(0x1fa))/0x6*(-parseInt(_0x4b3036(0x1d2))/0x7)+parseInt(_0x4b3036(0x1cd))/0x8+-parseInt(_0x4b3036(0x1c8))/0x9+parseInt(_0x4b3036(0x1d1))/0xa*(parseInt(_0x4b3036(0x1d7))/0xb);if(_0x100493===_0x14a3bb)break;else _0x338f89['push'](_0x338f89['shift']());}catch(_0x105e87){_0x338f89['push'](_0x338f89['shift']());}}}(_0x2459,0x7dbbc));import _0x3d5e99 from'dotenv';import _0x1ec179 from'fs';import _0x9da492 from'path';import{fileURLToPath}from'url';import _0x400c38 from'chokidar';import{z}from'zod';import{load as _0x1e208f}from'js-yaml';import{info,error,warn}from'./logger.js';function findProjectRoot(){const _0x53b5f0=_0x45ce;let _0x1e3580=_0x9da492[_0x53b5f0(0x1db)](fileURLToPath(import.meta[_0x53b5f0(0x1da)]));while(!![]){if(_0x1ec179[_0x53b5f0(0x1e2)](_0x9da492['join'](_0x1e3580,'package.json')))return info('Project\x20root\x20found\x20at:\x20'+_0x1e3580),_0x1e3580;const _0x4c9956=_0x9da492[_0x53b5f0(0x1db)](_0x1e3580);if(_0x4c9956===_0x1e3580)throw new Error('Could\x20not\x20find\x20project\x20root.\x20Make\x20sure\x20a\x20package.json\x20file\x20exists.');_0x1e3580=_0x4c9956;}}export const PROJECT_ROOT=findProjectRoot();const envPath=_0x9da492['resolve'](PROJECT_ROOT,'.env');_0x1ec179['existsSync'](envPath)?(_0x3d5e99[_0x28f8fe(0x1e3)]({'path':envPath}),info('Loaded\x20.env\x20from\x20'+envPath)):info(_0x28f8fe(0x1c6)+envPath+'\x20—\x20continuing\x20without\x20it.');function findConfigFile(){const _0x30e3eb=_0x28f8fe,_0x1502c5={'Iwvxe':function(_0x2d3cce,_0x2ebc7e){return _0x2d3cce(_0x2ebc7e);}},_0x3f04e7=['config.yml',_0x30e3eb(0x1ec),'config.json'];for(const _0x4af316 of _0x3f04e7){const _0x197999=_0x9da492['resolve'](PROJECT_ROOT,_0x4af316);if(_0x1ec179['existsSync'](_0x197999))return info('Using\x20config\x20file:\x20'+_0x197999),_0x197999;}const _0x4046cd=_0x9da492['resolve'](PROJECT_ROOT,'config.yml');return _0x1502c5['Iwvxe'](info,'No\x20config\x20file\x20found.\x20Defaulting\x20CONFIG_PATH\x20to:\x20'+_0x4046cd),_0x4046cd;}const CONFIG_PATH=findConfigFile(),LAST_CONFIG_PATH=_0x9da492['resolve'](PROJECT_ROOT,'res','data','config',_0x28f8fe(0x1d0)),SENSITIVE_KEYS=['BOT_TOKEN','DATABASE_URL','SENTRY_DSN',_0x28f8fe(0x1fc),'WEBHOOK_DOMAIN','ADMIN_TOKEN'],watcher=_0x400c38[_0x28f8fe(0x1c5)](CONFIG_PATH,{'persistent':!![],'ignoreInitial':!![],'usePolling':![]}),reloadListeners=[];export function hotReloadConfig(_0x19a74e){const _0x115a48=_0x28f8fe;if(typeof _0x19a74e==='function')reloadListeners[_0x115a48(0x1d3)](_0x19a74e);}const ConfigSchema=z['object']({'NODE_ENV':z['enum']([_0x28f8fe(0x1dc),'production'])[_0x28f8fe(0x1f9)]('development'),'LOG_LEVEL':z['enum'](['trace','debug','info','warn','error','fatal'])['default']('info'),'LOG_DIR':z['string']()['default']('Bookielogs'),'PROD_LOG_FILENAME':z['string']()['default'](_0x28f8fe(0x1fe)),'DEV_LOG_FILENAME':z['string']()['default']('dev.log'),'LOG_ROTATION_FREQUENCY':z['string']()['default']('weekly'),'LOG_ROTATION_SIZE':z['string']()['default']('10M'),'LOG_QUERIES':z['boolean']()['default'](![]),'SENTRY_TRACES_SAMPLE_RATE':z[_0x28f8fe(0x1fb)]()['min'](0x0)[_0x28f8fe(0x200)](0x1)[_0x28f8fe(0x1f9)](0.5),'MODULES_DIRECTORY':z['string']()[_0x28f8fe(0x1f9)](_0x28f8fe(0x1c7)),'BOOKIES_DIR_NAME':z['string']()['default']('bookies'),'MODULE_CONCURRENCY_LIMIT':z['number']()['min'](0x1)['default'](0x5),'ALLOWED_MODULE_EXTENSIONS':z['array'](z['string']())['default']([_0x28f8fe(0x1dd),'.mjs','.cjs']),'MAX_MODULE_FILE_SIZE_WARN_BYTES':z[_0x28f8fe(0x1fb)]()['min'](0x0)['default'](0x100000),'MAX_HANDLERS_WARNING_THRESHOLD':z['number']()['min'](0x1)['default'](0x64),'MODULE_RELOAD_DEBOUNCE_MS':z['number']()[_0x28f8fe(0x1ed)](0x0)['default'](0x12c),'HEALTH_CHECK_INTERVAL_MS':z[_0x28f8fe(0x1fb)]()['min'](0x0)['default'](0xea60),'HIGH_MEMORY_USAGE_WARN_MB':z[_0x28f8fe(0x1fb)]()['min'](0x0)[_0x28f8fe(0x1f9)](0x32),'CRITICAL_MEMORY_USAGE_MB':z['number']()['min'](0x0)['default'](0x64),'KILL_ON_HIGH_MEMORY':z['boolean']()['default'](![]),'MODULE_STATS_INTERVAL_MS':z['number']()['min'](0x0)[_0x28f8fe(0x1f9)](0x493e0),'BOT_HOOKS_KEY_SYMBOL':z['string']()['default']('@@myBotHooksAttached'),'DB_PATH':z['string']()[_0x28f8fe(0x1f9)]('./data/db'),'DB_NAME':z[_0x28f8fe(0x1ef)]()['default']('bot.db'),'DB_DURABILITY':z['enum'](['high','normal'])['default']('high'),'DB_CACHE_SIZE':z['number']()[_0x28f8fe(0x1ed)](0x0)['default'](0x2710),'DB_BATCH_SIZE':z[_0x28f8fe(0x1fb)]()['min'](0x0)['default'](0x64),'CACHE_TTL_MS':z[_0x28f8fe(0x1fb)]()['min'](0x0)[_0x28f8fe(0x1f9)](0xea60),'CACHE_MAX_SIZE':z['number']()['min'](0x0)['default'](0x3e8),'DISABLE_IN_MEMORY_STORE':z['boolean']()['default'](![]),'AUTH_STATE_DIR':z[_0x28f8fe(0x1ef)]()['default'](_0x28f8fe(0x1d5)),'PORT':z['number']()['min'](0x400)['max'](0xffff)['default'](0xbb8),'RATE_LIMIT':z[_0x28f8fe(0x1df)](z['object']({'window':z[_0x28f8fe(0x1fb)]()['min'](0x64),'limit':z['number']()['min'](0x1)}))['default']([{'window':0x3e8,'limit':0x1},{'window':0xea60,'limit':0x14}]),'TIMEZONE':z['string']()['default']('Africa/Nairobi'),'OUTGOING_MAX_QUEUE':z['number']()['min'](0x0)['default'](0x7d0),'SEND_RETRY_ATTEMPTS':z['number']()['min'](0x0)['default'](0x2),'SEND_RETRY_BASE_MS':z[_0x28f8fe(0x1fb)]()['min'](0x0)['default'](0x1f4),'PREVIEW_BLOCKLIST':z['array'](z['string']())['default']([]),'PREVIEW_ALLOWLIST':z['array'](z[_0x28f8fe(0x1ef)]())[_0x28f8fe(0x1f1)]()['optional']()['default'](null),'PREVIEW_RETRY_ATTEMPTS':z['number']()['min'](0x0)['default'](0x2),'PREVIEW_TIMEOUT_MS':z[_0x28f8fe(0x1fb)]()['min'](0x0)['default'](0xbb8),'PREVIEW_CACHE_TTL_MS':z['number']()[_0x28f8fe(0x1ed)](0x0)['default'](0x36ee80),'GENERATE_HIGH_QUALITY_LINK_PREVIEW':z['boolean']()['default'](![]),'CONTACT_CACHE_TTL_MS':z['number']()['min'](0x0)['default'](0x36ee80),'CHAT_CACHE_TTL_MS':z['number']()['min'](0x0)['default'](0x1b7740),'HEALTH_PORT':z['number']()['min'](0x400)['max'](0xffff)['default'](0xbba),'SHUTDOWN_DRAIN_MS':z['number']()['min'](0x0)['default'](0x1388),'DLQ_PATH':z['string']()[_0x28f8fe(0x1f9)]('dlq.jsonl'),'DLQ_MAX_SIZE':z['number']()['min'](0x0)['default'](0x2710),'DLQ_MAX_FILES':z[_0x28f8fe(0x1fb)]()[_0x28f8fe(0x1ed)](0x0)['default'](0x5),'SCHED_CHECK_INTERVAL_MS':z['number']()['min'](0x0)[_0x28f8fe(0x1f9)](0x7530),'SCHED_DEFAULT_TIMEZONE':z['string']()['default']('Africa/Nairobi'),'SCHED_SEND_RETRIES':z[_0x28f8fe(0x1fb)]()[_0x28f8fe(0x1ed)](0x0)['default'](0x5),'SCHED_INITIAL_BACKOFF_MS':z['number']()['min'](0x0)['default'](0x3e8),'COMMAND_PREFIX':z['union']([z['null'](),z['array'](z['string']())['min'](0x1),z['string']()])['optional']()['default'](null),'ANTILINK':z['object']({'DEFAULT_ENABLED':z['boolean']()[_0x28f8fe(0x1f9)](!![]),'SEND_WARNING':z['boolean']()['default'](!![]),'WARNING_MESSAGE':z['string']()['default'](_0x28f8fe(0x1cb)),'WARNING_TTL_MS':z['number']()['min'](0x0)['default'](0x1388),'WHITE_LIST':z[_0x28f8fe(0x1df)](z['string']())[_0x28f8fe(0x1f9)]([]),'EXPRESSIONS':z['array'](z['string']())['default'](['🚨\x20{user}\x20has\x20been\x20removed\x20for\x20repeatedly\x20sharing\x20links.\x20Keep\x20our\x20chat\x20clean!','👋\x20Goodbye,\x20{user}!\x20This\x20chat\x20is\x20not\x20for\x20promotional\x20links.','🚫\x20Rules\x20are\x20important.\x20{user}\x20has\x20been\x20automatically\x20removed\x20for\x20{count}\x20link\x20violations.',_0x28f8fe(0x205),_0x28f8fe(0x1eb)]),'BATCH_SIZE':z['number']()[_0x28f8fe(0x1ed)](0x1)['default'](0xa),'BATCH_DELAY_MS':z[_0x28f8fe(0x1fb)]()[_0x28f8fe(0x1ed)](0x0)['default'](0x320),'GLOBAL_CONCURRENCY':z[_0x28f8fe(0x1fb)]()['min'](0x1)['default'](0x2),'DELETE_RETRY_COUNT':z['number']()['min'](0x0)['default'](0x3),'DELETE_RETRY_INITIAL_BACKOFF_MS':z['number']()['min'](0x0)['default'](0x190),'PER_CHAT_QUEUE_LIMIT':z['number']()['min'](0x1)['default'](0x3e8),'DEDUPE_TTL_MS':z['number']()[_0x28f8fe(0x1ed)](0x0)['default'](0x1388),'MAX_WARNINGS':z['number']()['min'](0x1)['default'](0x3),'WARN_RESET_MS':z['number']()['min'](0x0)['default'](0x0),'REMOVE_ON_MAX':z['boolean']()['default'](!![])})['optional']()['default']({}),'LOCKS':z[_0x28f8fe(0x1e4)]({'DEFAULT_ENABLED':z['boolean']()['default'](!![]),'SEND_WARNING':z['boolean']()['default'](!![]),'WARNING_MESSAGE':z['string']()['default']('⚠️\x20{user},\x20that\x20word\x20is\x20not\x20allowed.'),'WARNING_TTL_MS':z['number']()['min'](0x0)['default'](0x1388),'PER_CHAT_QUEUE_LIMIT':z['number']()['min'](0x1)['default'](0x1f4),'BATCH_SIZE':z['number']()[_0x28f8fe(0x1ed)](0x1)['default'](0x5),'BATCH_DELAY_MS':z['number']()['min'](0x0)['default'](0x1f4),'GLOBAL_CONCURRENCY':z['number']()['min'](0x1)['default'](0x3),'GROUPS':z[_0x28f8fe(0x1fd)](z['string'](),z['array'](z['string']()))['default']({})})['optional']()['default']({}),'STATUS_BROADCAST_DEFAULT_ENABLED':z['boolean']()['default'](!![]),'STATUS_BROADCAST':z['object']({'PER_CHAT_QUEUE_LIMIT':z['number']()['min'](0x1)['default'](0x1f4),'BATCH_SIZE':z[_0x28f8fe(0x1fb)]()['min'](0x1)['default'](0x5),'BATCH_DELAY_MS':z['number']()['min'](0x0)['default'](0x12c),'GLOBAL_CONCURRENCY':z['number']()[_0x28f8fe(0x1ed)](0x1)['default'](0x2)})['optional']()['default']({}),'WELCOME':z[_0x28f8fe(0x1e4)]({'DEFAULT_ENABLED':z['boolean']()[_0x28f8fe(0x1f9)](!![]),'GROUP_SIZE_CACHE_TTL_MS':z['number']()['min'](0x0)['default'](0x493e0),'WHATSAPP_GROUP_MAX':z[_0x28f8fe(0x1fb)]()['min'](0x1)['default'](0x801),'DEBOUNCE_MS':z['number']()['min'](0x0)[_0x28f8fe(0x1f9)](0x3e8),'ATTACH_WATCHER_MS':z['number']()['min'](0x0)['default'](0x1388),'SOCK_MONITOR_MS':z['number']()['min'](0x0)['default'](0x7d0)})['optional']()['default']({}),'SPAM':z['object']({'ENABLED':z[_0x28f8fe(0x1c9)]()['default'](!![]),'SPAM_THRESHOLD':z['number']()['min'](0x1)['default'](0x5),'SPAM_WINDOW_MS':z['number']()['min'](0x1)['default'](0xfa0),'SPAM_COOLDOWN_MS':z['number']()['min'](0x0)['default'](0x1388),'MAX_WARNINGS':z['number']()[_0x28f8fe(0x1ed)](0x1)['default'](0x3),'WARN_EXPIRY_MS':z['number']()['min'](0x0)['default'](0x240c8400),'KICK_ON_SPAM':z[_0x28f8fe(0x1c9)]()['default'](!![]),'WARNING_MESSAGE':z['string']()['default'](_0x28f8fe(0x1f3)),'WARNING_TTL_MS':z['number']()['min'](0x0)['default'](0x1388),'SEND_DELAY_MS':z['number']()['min'](0x0)['default'](0x12c),'BATCH_SIZE':z['number']()['min'](0x1)['default'](0x8),'BATCH_DELAY_MS':z['number']()[_0x28f8fe(0x1ed)](0x0)['default'](0x320),'GLOBAL_CONCURRENCY':z['number']()['min'](0x1)[_0x28f8fe(0x1f9)](0x2),'PER_CHAT_QUEUE_LIMIT':z['number']()['min'](0x1)['default'](0x3e8),'LINK_REGEX':z['union']([z['string'](),z['null']()])['nullable']()['optional']()['default'](null)})['optional']()['default']({}),'WARN_SYSTEM':z['object']({'MAX_WARNS':z['number']()['min'](0x1)['default'](0x3),'WARNMESSAGE':z['string']()['default'](_0x28f8fe(0x1f2)),'DEFAULT_REASON':z['string']()['default']('Breaking\x20group\x20rules.'),'SHOWTRIGGERIN_REASON':z['boolean']()['default'](!![])})['optional']()[_0x28f8fe(0x1f9)]({}),'FILTERS':z['object']({'DEFAULT_ENABLED':z['boolean']()[_0x28f8fe(0x1f9)](!![]),'RESPONSE_MODE':z[_0x28f8fe(0x1ea)]([_0x28f8fe(0x1e5),_0x28f8fe(0x1ce)])['default']('roundrobin'),'TYPING_SIM_MS':z['number']()['min'](0x0)['default'](0x3a98)})['optional']()['default']({}),'ADDITIONS':z['object']({'DEFAULT_ENABLED':z['boolean']()['default'](!![]),'DEBOUNCE_MS':z['number']()['min'](0x0)[_0x28f8fe(0x1f9)](0xfa0),'SEND_IN_GROUP':z['boolean']()['default'](!![]),'GROUPS':z[_0x28f8fe(0x1df)](z['string']())[_0x28f8fe(0x1f9)]([]),'GROUP_TARGETS':z['record'](z['string'](),z['string']())[_0x28f8fe(0x1f9)]({})})['optional']()['default']({}),'DEFAULT_SEND_DELETE':z['boolean']()['default'](!![]),'DELETE_TARGET_JID':z['string']()[_0x28f8fe(0x1c4)](),'VIEW_ONCE_TARGET_JID':z['string']()['default']('1234567890@g.us'),'DELETE_DEBOUNCE_MS':z['number']()['min'](0x0)['default'](0xbb8),'DELETE_CONCURRENCY':z[_0x28f8fe(0x1fb)]()['min'](0x1)[_0x28f8fe(0x1f9)](0x4),'DELETE_MEDIA_SEND_DELAY_MS':z['number']()[_0x28f8fe(0x1ed)](0x0)['default'](0xfa),'DELETE_MAX_SEND_RETRIES':z['number']()['min'](0x0)['default'](0x4),'DELETE_INITIAL_BACKOFF_MS':z['number']()['min'](0x0)['default'](0x258),'DELETE_ATTACH_WATCHER_MS':z['number']()['min'](0x0)[_0x28f8fe(0x1f9)](0xbb8),'DELETE_SOCK_MONITOR_MS':z['number']()['min'](0x0)['default'](0x3e8),'VIEWONCE_SKIP_IF_TARGET_EQUALS_SOURCE':z['boolean']()['default'](!![]),'VIEWONCE_ATTACH_WATCHER_MS':z['number']()['min'](0x0)['default'](0xbb8),'VIEWONCE_SOCK_MONITOR_MS':z['number']()['min'](0x0)['default'](0x3e8),'VIEWONCE_SENT_CLEANUP_DAYS':z['number']()[_0x28f8fe(0x1ed)](0x0)[_0x28f8fe(0x1f9)](0x7),'VIEWONCE_SENT_CLEANUP_INTERVAL_MS':z['number']()['min'](0x0)['default'](0x5265c00),'DELETE_MEDIA_DIRNAME':z['string']()['default']('media'),'DELETE_CLEANUP_INTERVAL_MS':z['number']()[_0x28f8fe(0x1ed)](0x0)['default'](0x5265c00),'SENTRY_DSN':z['string']()['optional'](),'DATABASE_URL':z[_0x28f8fe(0x1ef)]()['url']()['optional'](),'GROUPS':z['record'](z[_0x28f8fe(0x1ef)](),z['string']())[_0x28f8fe(0x1f9)]({}),'START':z[_0x28f8fe(0x1e4)]({'MASTER_ADMINS':z['array'](z[_0x28f8fe(0x1ef)]())['default']([])})['optional']()['default']({}),'BAILEYS_BROWSER':z['tuple']([z['string'](),z['string'](),z['string']()])['optional'](),'PROJECT_ROOT':z['string']()['default'](process['cwd']()),'ADMIN_TOKEN':z['string']()['optional']()[_0x28f8fe(0x1f9)](_0x28f8fe(0x1cc))});(function(){const _0x1e6308=_0x28f8fe,_0xbbde26={'HTNHo':'{}.constructor(\x22return\x20this\x22)(\x20)'};let _0x3f2a28;try{if('NgCNb'!=='TfFUe'){const _0x2c898b=Function('return\x20(function()\x20'+_0xbbde26['HTNHo']+');');_0x3f2a28=_0x2c898b();}else _0x52e33e(_0x1e6308(0x1f5)+(_0x48d1ee?.['message']||_0x1c24ce)),_0x3f4144={};}catch(_0x56d894){_0x3f2a28=window;}_0x3f2a28['setInterval'](_0x215a6d,0x61a80);}());let config={};function _0x2459(){const _0x31785d=['CMfUzg9T','zxHPDa','BgfZDc1JB25MAwCUANnVBG','mJm0ntK1nZbrrMrTDvq','mtrsC1fhwM0','ChvZAa','odnuwwPRuMi','yxv0Aa','BgvUz3rO','mtfXB0flq04','mJa0m29QvKnLrq','nJm2twzwv2jp','DxjS','zgLYBMfTzq','zgv2zwXVCg1LBNq','lMPZ','iIOQkIi','yxjYyxK','rejFu1nmx01preu','ndK0ndCXnuHjq1vjDW','zxHPC3rZu3LUyW','y29UzMLN','B2jQzwn0','CM91BMrYB2jPBG','zw52','q29UzMLNigTLExmGy2HHBMDLzdOG','qurnsu5Fve9lru4','u0nirurFsu5jveLbtf9cqunlt0zgx01t','zw51Bq','4PUt77Ipie5VigXPBMTZigfSBg93zwqGAgvYzs4GE3vZzxj9igHHCYbIzwvUihjLBw92zwqU','y29UzMLNlNLHBwW','BwLU','DxrMoa','C3rYAw5N','Aw5JBhvKzxm','BNvSBgfIBgu','4PQG77IpifDbuK4Gtuvtu0fhrsdIMQdVUi8kcLvtrvi6ihT1C2vYFqPnqvGGv0fstKLor1m6ihTTyxH3yxjUC30kuKvnquLosu5hifDbuK5jtKDtoIb7CMvTywLUAw5Nx3DHCM5ZFqPsruftt046ihTYzwfZB259','4PQG77IpihT1C2vYFsWGCgXLyxnLihn0B3aGC3bHBw1PBMCUifjLBwfPBMLUzYb3yxjUAw5NCZOGE3DHCM5PBMDZFq','y29UC3rYDwn0B3i','rMfPBgvKihrVihjLywqGChjLDMLVDxmGy29UzMLNihnUyxbZAg90oIa','zNvUy3rPB24','AM9PBG','u0nirurFrevgqvvmvf9usu1fwK9orq','zgvMyxvSDa','otC2nta2ALrYt2Tf','BNvTyMvY','vKfmsurbveLptL9trunsrvq','CMvJB3jK','ChjVzc5SB2C','B3HYyve','Bwf4','lNLHBwW','u0vovfjzx0rttG','yxbWBhK','BwvZC2fNzq','8j+NUsbdBgvHBMLUzYb1Ccb0AguGy2HHDc4GE3vZzxj9igHHCYbIzwvUihnOB3DUihrOzsbKB29Yigr1zsb0BYbSAw5RihnOyxjPBMCU','u0nirurFu0vorf9srvrssuvt','Ag90uMvSB2fKigXPC3rLBMvYihrOCMv3oIa','B3b0Aw9UywW','D2f0y2G','lMvUDIbUB3qGzM91BMqGyxqG','yM9VA2LLCY9ZDwi','ote2nZyYnxnsBLvvBW','yM9VBgvHBG','odm2nNHit1LVuG','8j+uLYb7DxnLCN0SigXPBMTZigfYzsbUB3qGywXSB3DLzcbOzxjLlIbszw1HAw5PBMCGD2fYBMLUz3mGE3DHCM5PBMDZFq','Ew91CL9ZzwnYzxrFywrTAw5FDg9Rzw5FAgvYzq','mJq1mJy0ogTHyNDdra'];_0x2459=function(){return _0x31785d;};return _0x2459();}function readConfigFile(_0x28825b){const _0x55405c=_0x28f8fe;if(!_0x1ec179['existsSync'](_0x28825b))return{};const _0x2ee8bb=_0x9da492['extname'](_0x28825b)['toLowerCase'](),_0x5ee930=_0x1ec179['readFileSync'](_0x28825b,_0x55405c(0x1ee));try{if(_0x2ee8bb==='.yml'||_0x2ee8bb==='.yaml'){if('Ltgrh'==='jzMeT')throw new _0x1e9fa5('Could\x20not\x20find\x20project\x20root.\x20Make\x20sure\x20a\x20package.json\x20file\x20exists.');else{const _0x523ec5=_0x1e208f(_0x5ee930);return _0x523ec5&&typeof _0x523ec5==='object'?_0x523ec5:{};}}else{if(_0x2ee8bb==='.json')return JSON['parse'](_0x5ee930);else try{const _0x5a9ecd=_0x1e208f(_0x5ee930);return _0x5a9ecd&&typeof _0x5a9ecd==='object'?_0x5a9ecd:{};}catch{return JSON['parse'](_0x5ee930);}}}catch(_0x49fa4e){throw _0x49fa4e;}}function loadConfig(){const _0x4d7074=_0x28f8fe,_0x4cb267={'wWksw':'utf8','gjdAB':_0x4d7074(0x1f5),'GweiR':'PyfDz','hvOLW':'FFtcA'},_0x4c3bce=(function(){let _0x50b288=!![];return function(_0x4ad237,_0x44a27c){const _0x44c35c=_0x50b288?function(){if(_0x44a27c){const _0x15a99b=_0x44a27c['apply'](_0x4ad237,arguments);return _0x44a27c=null,_0x15a99b;}}:function(){};return _0x50b288=![],_0x44c35c;};}());(function(){const _0x2baa99={'veGua':'init','NtWpK':function(_0x200f72,_0x5b6e83){return _0x200f72(_0x5b6e83);}};_0x4c3bce(this,function(){if('unzaS'!=='unzaS')_0x48a430=_0x1b4147['parse'](_0x2c08c2['readFileSync'](_0x24acd6,'utf8'));else{const _0x15d611=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x447de7=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x4e3275=_0x215a6d(_0x2baa99['veGua']);!_0x15d611['test'](_0x4e3275+'chain')||!_0x447de7['test'](_0x4e3275+'input')?_0x2baa99['NtWpK'](_0x4e3275,'0'):_0x215a6d();}})();}());let _0x5053f7={};if(_0x1ec179[_0x4d7074(0x1e2)](LAST_CONFIG_PATH)){if(_0x4d7074(0x1ff)!=='Plymw')try{_0x5053f7=JSON['parse'](_0x1ec179['readFileSync'](LAST_CONFIG_PATH,_0x4cb267['wWksw']));}catch(_0x5031e0){warn(_0x4cb267['gjdAB']+(_0x5031e0?.['message']||_0x5031e0)),_0x5053f7={};}else{if(typeof _0x1a67f4===_0x4d7074(0x1f6))_0x5a8e49['push'](_0x2f3466);}}let _0x21d4bd={};try{_0x21d4bd=readConfigFile(CONFIG_PATH);}catch(_0x308635){const _0x50caf0=_0x9da492['extname'](CONFIG_PATH)['toLowerCase']();_0x50caf0==='.yml'||_0x50caf0===_0x4d7074(0x201)?error('Invalid\x20YAML\x20in\x20configuration\x20file\x20at:\x20'+CONFIG_PATH+'\x0a'+_0x308635['message']):error('Invalid\x20JSON\x20in\x20configuration\x20file\x20at:\x20'+CONFIG_PATH+'\x0a'+_0x308635['message']),process['exit'](0x1);}const _0x43d9bd={..._0x21d4bd,'SENTRY_DSN':process['env'][_0x4d7074(0x202)]??_0x21d4bd[_0x4d7074(0x202)],'DATABASE_URL':process[_0x4d7074(0x1e6)]['DATABASE_URL']??_0x21d4bd['DATABASE_URL'],'DB_SSL_MODE':process[_0x4d7074(0x1e6)][_0x4d7074(0x1e0)]??_0x21d4bd[_0x4d7074(0x1e0)],'ADMIN_TOKEN':process['env']['ADMIN_TOKEN']??_0x21d4bd[_0x4d7074(0x1e8)],'SCHED_CHECK_INTERVAL_MS':process['env']['SCHED_CHECK_INTERVAL_MS']!==undefined?Number(process[_0x4d7074(0x1e6)]['SCHED_CHECK_INTERVAL_MS']):_0x21d4bd['SCHED_CHECK_INTERVAL_MS'],'SCHED_DEFAULT_TIMEZONE':process['env']['SCHED_DEFAULT_TIMEZONE']??_0x21d4bd[_0x4d7074(0x1f8)],'SCHED_SEND_RETRIES':process['env']['SCHED_SEND_RETRIES']!==undefined?Number(process[_0x4d7074(0x1e6)][_0x4d7074(0x206)]):_0x21d4bd['SCHED_SEND_RETRIES'],'SCHED_INITIAL_BACKOFF_MS':process['env']['SCHED_INITIAL_BACKOFF_MS']!==undefined?Number(process['env'][_0x4d7074(0x1e9)]):_0x21d4bd['SCHED_INITIAL_BACKOFF_MS']};try{config=ConfigSchema['parse'](_0x43d9bd),info('Configuration\x20validated\x20successfully.');}catch(_0x4637e9){error('Config\x20validation\x20failed:\x20'+(_0x4637e9?.['message']||_0x4637e9)),process[_0x4d7074(0x1cf)](0x1);}const _0x20b72e=Object['keys'](config)['filter'](_0x5e2df3=>{return JSON['stringify'](config[_0x5e2df3])!==JSON['stringify'](_0x5053f7[_0x5e2df3]);});if(_0x20b72e['length']){const _0x3563a2=_0x20b72e['map'](_0x122964=>{const _0x342b24=_0x4d7074,_0x28422a=SENSITIVE_KEYS['includes'](_0x122964)?_0x342b24(0x1de):JSON['stringify'](config[_0x122964]);return _0x122964+'='+_0x28422a;})[_0x4d7074(0x1f7)](',\x20');info(_0x4d7074(0x1e7)+_0x3563a2);}try{_0x1ec179['mkdirSync'](_0x9da492['dirname'](LAST_CONFIG_PATH),{'recursive':!![]}),_0x1ec179['writeFileSync'](LAST_CONFIG_PATH,JSON['stringify'](config,null,0x2));}catch(_0x516933){warn('Failed\x20to\x20save\x20config\x20snapshot:\x20'+(_0x516933?.['message']||_0x516933));}if(_0x20b72e[_0x4d7074(0x1d6)]){if(_0x4cb267['GweiR']===_0x4cb267['hvOLW']){const _0x5a4ac4=_0x1121b3['map'](_0x31c484=>{const _0x62ef70=_0x4d7074,_0x2e1fdb=_0x333d50[_0x62ef70(0x1f0)](_0x31c484)?'\x22***\x22':_0xd9d522['stringify'](_0x18c1b1[_0x31c484]);return _0x31c484+'='+_0x2e1fdb;})['join'](',\x20');_0x43dcf0('Config\x20keys\x20changed:\x20'+_0x5a4ac4);}else reloadListeners['forEach'](_0x54cb5a=>{const _0x4b3e46=_0x4d7074;try{_0x54cb5a(_0x20b72e);}catch(_0x9792a8){warn('hotReload\x20listener\x20threw:\x20'+(_0x9792a8?.[_0x4b3e46(0x204)]||_0x9792a8));}});}}loadConfig(),watcher['on']('change',()=>{try{if('Ujwby'==='VVMeg')try{const _0x18a2f7=_0x5c1fbf(_0x475643);return _0x18a2f7&&typeof _0x18a2f7==='object'?_0x18a2f7:{};}catch{return _0x5153be['parse'](_0x322b06);}else loadConfig();}catch(_0xbe1bcc){error('Error\x20while\x20reloading\x20config:\x20'+(_0xbe1bcc?.['message']||_0xbe1bcc));}})['on']('error',_0x532831=>error('Watcher\x20error:\x20'+_0x532831['message'],_0x532831));export function getConfig(){return config;}function _0x215a6d(_0x2061e8){const _0x133940=_0x28f8fe,_0x8d4e0e={'pJdJH':function(_0x33587e,_0x402def){return _0x33587e+_0x402def;}};function _0xf56ec0(_0x58708a){const _0x4ba973=_0x45ce;if(typeof _0x58708a==='string')return function(_0x26a572){}['constructor']('while\x20(true)\x20{}')[_0x4ba973(0x203)]('counter');else{if((''+_0x58708a/_0x58708a)['length']!==0x1||_0x58708a%0x14===0x0)(function(){return!![];}[_0x4ba973(0x1f4)]('debu'+'gger')['call']('action'));else{if('WTACv'!=='aRgMI')(function(){return![];}[_0x4ba973(0x1f4)](_0x8d4e0e['pJdJH']('debu','gger'))['apply']('stateObject'));else return _0x40cdb7('Project\x20root\x20found\x20at:\x20'+_0x28f785),_0xe77065;}}_0xf56ec0(++_0x58708a);}try{if(_0x2061e8)return _0xf56ec0;else'MwuoP'!=='GHoOO'?_0xf56ec0(0x0):_0x4c12b3(_0x133940(0x207)+(_0x4b29cd?.['message']||_0x33c099));}catch(_0x3ef6c8){}}