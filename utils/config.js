const _0x590f96=_0x2d12;(function(_0x216462,_0x68276c){const _0x2bbfc7=_0x2d12,_0x1ef65d=_0x216462();while(!![]){try{const _0x5552cb=-parseInt(_0x2bbfc7(0x193))/0x1+-parseInt(_0x2bbfc7(0x17a))/0x2*(-parseInt(_0x2bbfc7(0x196))/0x3)+-parseInt(_0x2bbfc7(0x18f))/0x4*(-parseInt(_0x2bbfc7(0x16f))/0x5)+parseInt(_0x2bbfc7(0x18b))/0x6*(-parseInt(_0x2bbfc7(0x17d))/0x7)+parseInt(_0x2bbfc7(0x15d))/0x8+parseInt(_0x2bbfc7(0x198))/0x9*(-parseInt(_0x2bbfc7(0x194))/0xa)+-parseInt(_0x2bbfc7(0x185))/0xb*(-parseInt(_0x2bbfc7(0x195))/0xc);if(_0x5552cb===_0x68276c)break;else _0x1ef65d['push'](_0x1ef65d['shift']());}catch(_0x11af4f){_0x1ef65d['push'](_0x1ef65d['shift']());}}}(_0x3912,0xcfaac));import _0x4c1744 from'dotenv';import _0x2c439e from'fs';import _0x579bac from'path';import{fileURLToPath}from'url';import _0xfbdb1b from'chokidar';import{z}from'zod';import{load as _0x240c19}from'js-yaml';import{info,error,warn}from'./logger.js';function findProjectRoot(){const _0x1ac9c8=_0x2d12,_0x432149={'lsbut':'Could\x20not\x20find\x20project\x20root.\x20Make\x20sure\x20a\x20package.json\x20file\x20exists.'},_0x139e4c=(function(){let _0x4d04ec=!![];return function(_0x35ff20,_0x3f0ee6){const _0x43273c=_0x4d04ec?function(){if(_0x3f0ee6){const _0x655f49=_0x3f0ee6['apply'](_0x35ff20,arguments);return _0x3f0ee6=null,_0x655f49;}}:function(){};return _0x4d04ec=![],_0x43273c;};}());(function(){const _0x56f5bd={'PmydM':function(_0x5b7307,_0x406128){return _0x5b7307(_0x406128);}};_0x139e4c(this,function(){const _0x298595=_0x2d12,_0x286157=new RegExp(_0x298595(0x181)),_0xbb2a1f=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x51fb59=_0x56f5bd[_0x298595(0x187)](_0x4785fd,'init');!_0x286157[_0x298595(0x15b)](_0x51fb59+'chain')||!_0xbb2a1f['test'](_0x51fb59+'input')?_0x56f5bd['PmydM'](_0x51fb59,'0'):_0x4785fd();})();}());let _0x57f3d1=_0x579bac[_0x1ac9c8(0x168)](fileURLToPath(import.meta['url']));while(!![]){if(_0x2c439e['existsSync'](_0x579bac['join'](_0x57f3d1,'package.json')))return info('Project\x20root\x20found\x20at:\x20'+_0x57f3d1),_0x57f3d1;const _0x19e90e=_0x579bac['dirname'](_0x57f3d1);if(_0x19e90e===_0x57f3d1)throw new Error(_0x432149['lsbut']);_0x57f3d1=_0x19e90e;}}export const PROJECT_ROOT=findProjectRoot();const envPath=_0x579bac['resolve'](PROJECT_ROOT,_0x590f96(0x180));_0x2c439e['existsSync'](envPath)?(_0x4c1744['config']({'path':envPath}),info('Loaded\x20.env\x20from\x20'+envPath)):info('.env\x20not\x20found\x20at\x20'+envPath+'\x20â€”\x20continuing\x20without\x20it.');function _0x2d12(_0x2ffc1c,_0x10c8cc){const _0x7fed03=_0x3912();return _0x2d12=function(_0x4785fd,_0x4f4696){_0x4785fd=_0x4785fd-0x15b;let _0x5146fa=_0x7fed03[_0x4785fd];if(_0x2d12['kzrRmL']===undefined){var _0x9ded84=function(_0x19bdb0){const _0xd38c82='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1d6a5f='',_0x5268b7='';for(let _0x72f164=0x0,_0xb4a65e,_0x5d8b1b,_0x68ceac=0x0;_0x5d8b1b=_0x19bdb0['charAt'](_0x68ceac++);~_0x5d8b1b&&(_0xb4a65e=_0x72f164%0x4?_0xb4a65e*0x40+_0x5d8b1b:_0x5d8b1b,_0x72f164++%0x4)?_0x1d6a5f+=String['fromCharCode'](0xff&_0xb4a65e>>(-0x2*_0x72f164&0x6)):0x0){_0x5d8b1b=_0xd38c82['indexOf'](_0x5d8b1b);}for(let _0x36c752=0x0,_0x2f5c81=_0x1d6a5f['length'];_0x36c752<_0x2f5c81;_0x36c752++){_0x5268b7+='%'+('00'+_0x1d6a5f['charCodeAt'](_0x36c752)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5268b7);};_0x2d12['VoFuQf']=_0x9ded84,_0x2ffc1c=arguments,_0x2d12['kzrRmL']=!![];}const _0x3912a4=_0x7fed03[0x0],_0x2d1217=_0x4785fd+_0x3912a4,_0x253be5=_0x2ffc1c[_0x2d1217];return!_0x253be5?(_0x5146fa=_0x2d12['VoFuQf'](_0x5146fa),_0x2ffc1c[_0x2d1217]=_0x5146fa):_0x5146fa=_0x253be5,_0x5146fa;},_0x2d12(_0x2ffc1c,_0x10c8cc);}function findConfigFile(){const _0x29a5cf=_0x590f96,_0x5e4a40={'tAirN':_0x29a5cf(0x169)},_0x3b8cd5=['config.yml','config.yaml',_0x5e4a40[_0x29a5cf(0x164)]];for(const _0x543f91 of _0x3b8cd5){const _0x2c1f3f=_0x579bac['resolve'](PROJECT_ROOT,_0x543f91);if(_0x2c439e['existsSync'](_0x2c1f3f))return info(_0x29a5cf(0x171)+_0x2c1f3f),_0x2c1f3f;}const _0x2b98a7=_0x579bac[_0x29a5cf(0x174)](PROJECT_ROOT,_0x29a5cf(0x17c));return info('No\x20config\x20file\x20found.\x20Defaulting\x20CONFIG_PATH\x20to:\x20'+_0x2b98a7),_0x2b98a7;}const CONFIG_PATH=findConfigFile(),LAST_CONFIG_PATH=_0x579bac[_0x590f96(0x174)](PROJECT_ROOT,_0x590f96(0x162),'data','config','last-config.json'),SENSITIVE_KEYS=['BOT_TOKEN',_0x590f96(0x17f),'SENTRY_DSN','VALIDATION_SECRET','WEBHOOK_DOMAIN','ADMIN_TOKEN'],watcher=_0xfbdb1b['watch'](CONFIG_PATH,{'persistent':!![],'ignoreInitial':!![],'usePolling':![]}),reloadListeners=[];export function hotReloadConfig(_0x161941){if(typeof _0x161941==='function')reloadListeners['push'](_0x161941);}const ConfigSchema=z['object']({'NODE_ENV':z['enum']([_0x590f96(0x163),'production'])['default']('development'),'LOG_LEVEL':z['enum'](['trace',_0x590f96(0x16e),'info','warn','error','fatal'])['default']('info'),'LOG_DIR':z['string']()['default']('Bookielogs'),'PROD_LOG_FILENAME':z['string']()['default']('prod.log'),'DEV_LOG_FILENAME':z[_0x590f96(0x177)]()['default']('dev.log'),'LOG_ROTATION_FREQUENCY':z['string']()['default']('weekly'),'LOG_ROTATION_SIZE':z['string']()[_0x590f96(0x165)]('10M'),'LOG_QUERIES':z[_0x590f96(0x17b)]()[_0x590f96(0x165)](![]),'SENTRY_TRACES_SAMPLE_RATE':z[_0x590f96(0x160)]()['min'](0x0)['max'](0x1)['default'](0.5),'MODULES_DIRECTORY':z['string']()[_0x590f96(0x165)]('bookies/sub'),'BOOKIES_DIR_NAME':z['string']()[_0x590f96(0x165)]('bookies'),'MODULE_CONCURRENCY_LIMIT':z['number']()['min'](0x1)['default'](0x5),'ALLOWED_MODULE_EXTENSIONS':z['array'](z[_0x590f96(0x177)]())['default'](['.js','.mjs',_0x590f96(0x18d)]),'MAX_MODULE_FILE_SIZE_WARN_BYTES':z['number']()['min'](0x0)['default'](0x100000),'MAX_HANDLERS_WARNING_THRESHOLD':z[_0x590f96(0x160)]()['min'](0x1)['default'](0x64),'MODULE_RELOAD_DEBOUNCE_MS':z['number']()['min'](0x0)['default'](0x12c),'HEALTH_CHECK_INTERVAL_MS':z[_0x590f96(0x160)]()[_0x590f96(0x16c)](0x0)['default'](0xea60),'HIGH_MEMORY_USAGE_WARN_MB':z['number']()[_0x590f96(0x16c)](0x0)[_0x590f96(0x165)](0x32),'CRITICAL_MEMORY_USAGE_MB':z['number']()['min'](0x0)[_0x590f96(0x165)](0x64),'KILL_ON_HIGH_MEMORY':z['boolean']()['default'](![]),'MODULE_STATS_INTERVAL_MS':z['number']()[_0x590f96(0x16c)](0x0)['default'](0x493e0),'BOT_HOOKS_KEY_SYMBOL':z['string']()[_0x590f96(0x165)]('@@myBotHooksAttached'),'DB_PATH':z[_0x590f96(0x177)]()['default']('./data/db'),'DB_NAME':z['string']()['default']('bot.db'),'DB_DURABILITY':z[_0x590f96(0x18c)](['high','normal'])[_0x590f96(0x165)]('high'),'DB_CACHE_SIZE':z[_0x590f96(0x160)]()['min'](0x0)['default'](0x2710),'DB_BATCH_SIZE':z['number']()['min'](0x0)['default'](0x64),'CACHE_TTL_MS':z['number']()['min'](0x0)['default'](0xea60),'CACHE_MAX_SIZE':z[_0x590f96(0x160)]()['min'](0x0)['default'](0x3e8),'DISABLE_IN_MEMORY_STORE':z[_0x590f96(0x17b)]()['default'](![]),'AUTH_STATE_DIR':z['string']()['default'](_0x590f96(0x176)),'PORT':z['number']()['min'](0x400)['max'](0xffff)[_0x590f96(0x165)](0xbb8),'RATE_LIMIT':z['array'](z['object']({'window':z['number']()['min'](0x64),'limit':z[_0x590f96(0x160)]()['min'](0x1)}))['default']([{'window':0x3e8,'limit':0x1},{'window':0xea60,'limit':0x14}]),'TIMEZONE':z['string']()['default']('Africa/Nairobi'),'OUTGOING_MAX_QUEUE':z['number']()['min'](0x0)['default'](0x7d0),'SEND_RETRY_ATTEMPTS':z['number']()[_0x590f96(0x16c)](0x0)['default'](0x2),'SEND_RETRY_BASE_MS':z['number']()['min'](0x0)['default'](0x1f4),'PREVIEW_BLOCKLIST':z['array'](z['string']())['default']([]),'PREVIEW_ALLOWLIST':z['array'](z['string']())['nullable']()['optional']()['default'](null),'PREVIEW_RETRY_ATTEMPTS':z['number']()['min'](0x0)['default'](0x2),'PREVIEW_TIMEOUT_MS':z['number']()['min'](0x0)[_0x590f96(0x165)](0xbb8),'PREVIEW_CACHE_TTL_MS':z['number']()['min'](0x0)[_0x590f96(0x165)](0x36ee80),'GENERATE_HIGH_QUALITY_LINK_PREVIEW':z['boolean']()['default'](![]),'CONTACT_CACHE_TTL_MS':z['number']()['min'](0x0)[_0x590f96(0x165)](0x36ee80),'CHAT_CACHE_TTL_MS':z['number']()['min'](0x0)['default'](0x1b7740),'HEALTH_PORT':z[_0x590f96(0x160)]()['min'](0x400)['max'](0xffff)['default'](0xbba),'SHUTDOWN_DRAIN_MS':z['number']()[_0x590f96(0x16c)](0x0)['default'](0x1388),'DLQ_PATH':z['string']()[_0x590f96(0x165)](_0x590f96(0x186)),'DLQ_MAX_SIZE':z['number']()['min'](0x0)['default'](0x2710),'DLQ_MAX_FILES':z['number']()[_0x590f96(0x16c)](0x0)['default'](0x5),'SCHED_CHECK_INTERVAL_MS':z['number']()[_0x590f96(0x16c)](0x0)['default'](0x7530),'SCHED_DEFAULT_TIMEZONE':z['string']()['default']('Africa/Nairobi'),'SCHED_SEND_RETRIES':z[_0x590f96(0x160)]()[_0x590f96(0x16c)](0x0)[_0x590f96(0x165)](0x5),'SCHED_INITIAL_BACKOFF_MS':z['number']()['min'](0x0)['default'](0x3e8),'COMMAND_PREFIX':z[_0x590f96(0x184)]([z[_0x590f96(0x166)](),z['array'](z['string']())['min'](0x1),z[_0x590f96(0x177)]()])['optional']()['default'](null),'ANTILINK':z['object']({'DEFAULT_ENABLED':z['boolean']()['default'](!![]),'SEND_WARNING':z[_0x590f96(0x17b)]()['default'](!![]),'WARNING_MESSAGE':z['string']()['default']('ðŸ”—\x20{user},\x20links\x20are\x20not\x20allowed\x20here.\x20Remaining\x20warnings\x20{warnings}'),'WARNING_TTL_MS':z['number']()['min'](0x0)['default'](0x1388),'WHITE_LIST':z['array'](z['string']())[_0x590f96(0x165)]([]),'EXPRESSIONS':z['array'](z['string']())['default'](['ðŸš¨\x20{user}\x20has\x20been\x20removed\x20for\x20repeatedly\x20sharing\x20links.\x20Keep\x20our\x20chat\x20clean!',_0x590f96(0x16d),_0x590f96(0x189),'ðŸ§¹\x20Cleaning\x20up\x20the\x20chat.\x20{user}\x20has\x20been\x20shown\x20the\x20door\x20due\x20to\x20link\x20sharing.','â›“ï¸\x20No\x20links\x20allowed\x20here.\x20{user}\x20has\x20been\x20removed.']),'BATCH_SIZE':z['number']()['min'](0x1)['default'](0xa),'BATCH_DELAY_MS':z['number']()['min'](0x0)['default'](0x320),'GLOBAL_CONCURRENCY':z['number']()[_0x590f96(0x16c)](0x1)['default'](0x2),'DELETE_RETRY_COUNT':z['number']()['min'](0x0)['default'](0x3),'DELETE_RETRY_INITIAL_BACKOFF_MS':z[_0x590f96(0x160)]()['min'](0x0)[_0x590f96(0x165)](0x190),'PER_CHAT_QUEUE_LIMIT':z[_0x590f96(0x160)]()[_0x590f96(0x16c)](0x1)[_0x590f96(0x165)](0x3e8),'DEDUPE_TTL_MS':z['number']()['min'](0x0)[_0x590f96(0x165)](0x1388),'MAX_WARNINGS':z['number']()['min'](0x1)['default'](0x3),'WARN_RESET_MS':z['number']()['min'](0x0)['default'](0x0),'REMOVE_ON_MAX':z['boolean']()['default'](!![])})['optional']()['default']({}),'LOCKS':z['object']({'DEFAULT_ENABLED':z['boolean']()['default'](!![]),'SEND_WARNING':z['boolean']()['default'](!![]),'WARNING_MESSAGE':z[_0x590f96(0x177)]()['default'](_0x590f96(0x161)),'WARNING_TTL_MS':z['number']()['min'](0x0)['default'](0x1388),'PER_CHAT_QUEUE_LIMIT':z['number']()['min'](0x1)['default'](0x1f4),'BATCH_SIZE':z['number']()['min'](0x1)[_0x590f96(0x165)](0x5),'BATCH_DELAY_MS':z['number']()['min'](0x0)[_0x590f96(0x165)](0x1f4),'GLOBAL_CONCURRENCY':z[_0x590f96(0x160)]()['min'](0x1)[_0x590f96(0x165)](0x3),'GROUPS':z['record'](z['string'](),z['array'](z['string']()))['default']({})})[_0x590f96(0x175)]()['default']({}),'STATUS_BROADCAST_DEFAULT_ENABLED':z['boolean']()['default'](!![]),'STATUS_BROADCAST':z['object']({'PER_CHAT_QUEUE_LIMIT':z['number']()['min'](0x1)['default'](0x1f4),'BATCH_SIZE':z['number']()['min'](0x1)['default'](0x5),'BATCH_DELAY_MS':z[_0x590f96(0x160)]()['min'](0x0)[_0x590f96(0x165)](0x12c),'GLOBAL_CONCURRENCY':z['number']()['min'](0x1)[_0x590f96(0x165)](0x2)})['optional']()['default']({}),'WELCOME':z[_0x590f96(0x178)]({'DEFAULT_ENABLED':z['boolean']()['default'](!![]),'GROUP_SIZE_CACHE_TTL_MS':z['number']()['min'](0x0)['default'](0x493e0),'WHATSAPP_GROUP_MAX':z['number']()['min'](0x1)['default'](0x801),'DEBOUNCE_MS':z['number']()['min'](0x0)['default'](0x3e8),'ATTACH_WATCHER_MS':z['number']()[_0x590f96(0x16c)](0x0)['default'](0x1388),'SOCK_MONITOR_MS':z[_0x590f96(0x160)]()['min'](0x0)['default'](0x7d0)})['optional']()['default']({}),'SPAM':z['object']({'ENABLED':z['boolean']()['default'](!![]),'SPAM_THRESHOLD':z['number']()['min'](0x1)['default'](0x5),'SPAM_WINDOW_MS':z['number']()['min'](0x1)['default'](0xfa0),'SPAM_COOLDOWN_MS':z['number']()['min'](0x0)['default'](0x1388),'MAX_WARNINGS':z['number']()['min'](0x1)[_0x590f96(0x165)](0x3),'WARN_EXPIRY_MS':z[_0x590f96(0x160)]()['min'](0x0)['default'](0x240c8400),'KICK_ON_SPAM':z[_0x590f96(0x17b)]()[_0x590f96(0x165)](!![]),'WARNING_MESSAGE':z[_0x590f96(0x177)]()['default']('âš ï¸\x20{user},\x20please\x20stop\x20spamming.\x20Remaining\x20warnings:\x20{warnings}'),'WARNING_TTL_MS':z['number']()[_0x590f96(0x16c)](0x0)[_0x590f96(0x165)](0x1388),'SEND_DELAY_MS':z['number']()[_0x590f96(0x16c)](0x0)['default'](0x12c),'BATCH_SIZE':z['number']()['min'](0x1)['default'](0x8),'BATCH_DELAY_MS':z[_0x590f96(0x160)]()['min'](0x0)['default'](0x320),'GLOBAL_CONCURRENCY':z[_0x590f96(0x160)]()[_0x590f96(0x16c)](0x1)[_0x590f96(0x165)](0x2),'PER_CHAT_QUEUE_LIMIT':z[_0x590f96(0x160)]()[_0x590f96(0x16c)](0x1)['default'](0x3e8),'LINK_REGEX':z[_0x590f96(0x184)]([z[_0x590f96(0x177)](),z[_0x590f96(0x166)]()])['nullable']()['optional']()['default'](null)})['optional']()['default']({}),'WARN_SYSTEM':z['object']({'MAX_WARNS':z['number']()['min'](0x1)['default'](0x3),'WARNMESSAGE':z[_0x590f96(0x177)]()[_0x590f96(0x165)](_0x590f96(0x183)),'DEFAULT_REASON':z['string']()[_0x590f96(0x165)]('Breaking\x20group\x20rules.'),'SHOWTRIGGERIN_REASON':z['boolean']()['default'](!![])})['optional']()['default']({}),'FILTERS':z['object']({'DEFAULT_ENABLED':z['boolean']()[_0x590f96(0x165)](!![]),'RESPONSE_MODE':z['enum']([_0x590f96(0x192),'random'])['default']('roundrobin'),'TYPING_SIM_MS':z['number']()['min'](0x0)[_0x590f96(0x165)](0x3a98)})['optional']()['default']({}),'ADDITIONS':z['object']({'DEFAULT_ENABLED':z['boolean']()['default'](!![]),'DEBOUNCE_MS':z['number']()['min'](0x0)['default'](0xfa0),'SEND_IN_GROUP':z['boolean']()['default'](!![]),'GROUPS':z['array'](z['string']())[_0x590f96(0x165)]([]),'GROUP_TARGETS':z['record'](z['string'](),z['string']())[_0x590f96(0x165)]({})})['optional']()['default']({}),'DEFAULT_SEND_DELETE':z['boolean']()['default'](!![]),'DELETE_TARGET_JID':z['string']()['optional'](),'VIEW_ONCE_TARGET_JID':z['string']()['default']('1234567890@g.us'),'DELETE_DEBOUNCE_MS':z['number']()['min'](0x0)['default'](0xbb8),'DELETE_CONCURRENCY':z['number']()[_0x590f96(0x16c)](0x1)['default'](0x4),'DELETE_MEDIA_SEND_DELAY_MS':z['number']()['min'](0x0)['default'](0xfa),'DELETE_MAX_SEND_RETRIES':z['number']()[_0x590f96(0x16c)](0x0)['default'](0x4),'DELETE_INITIAL_BACKOFF_MS':z['number']()['min'](0x0)['default'](0x258),'DELETE_ATTACH_WATCHER_MS':z['number']()['min'](0x0)['default'](0xbb8),'DELETE_SOCK_MONITOR_MS':z['number']()['min'](0x0)['default'](0x3e8),'VIEWONCE_SKIP_IF_TARGET_EQUALS_SOURCE':z['boolean']()[_0x590f96(0x165)](!![]),'VIEWONCE_ATTACH_WATCHER_MS':z['number']()['min'](0x0)['default'](0xbb8),'VIEWONCE_SOCK_MONITOR_MS':z['number']()['min'](0x0)['default'](0x3e8),'VIEWONCE_SENT_CLEANUP_DAYS':z['number']()['min'](0x0)[_0x590f96(0x165)](0x7),'VIEWONCE_SENT_CLEANUP_INTERVAL_MS':z['number']()['min'](0x0)[_0x590f96(0x165)](0x5265c00),'DELETE_MEDIA_DIRNAME':z[_0x590f96(0x177)]()['default']('media'),'DELETE_CLEANUP_INTERVAL_MS':z['number']()['min'](0x0)['default'](0x5265c00),'SENTRY_DSN':z['string']()[_0x590f96(0x175)](),'DATABASE_URL':z['string']()['url']()['optional'](),'GROUPS':z[_0x590f96(0x173)](z['string'](),z['string']())['default']({}),'START':z['object']({'MASTER_ADMINS':z['array'](z[_0x590f96(0x177)]())['default']([])})['optional']()['default']({}),'BAILEYS_BROWSER':z['tuple']([z[_0x590f96(0x177)](),z['string'](),z['string']()])['optional'](),'PROJECT_ROOT':z['string']()['default'](process['cwd']()),'ADMIN_TOKEN':z['string']()['optional']()['default']('your_secret_admin_token_here')});let config={};function readConfigFile(_0x49d475){const _0xbe0e50=_0x590f96,_0x256c6f={'BmYxb':_0xbe0e50(0x181)};if(!_0x2c439e['existsSync'](_0x49d475))return{};const _0x1e4f3a=_0x579bac[_0xbe0e50(0x191)](_0x49d475)['toLowerCase'](),_0x20707e=_0x2c439e['readFileSync'](_0x49d475,'utf8');try{if(_0x1e4f3a==='.yml'||_0x1e4f3a==='.yaml'){const _0x1506df=_0x240c19(_0x20707e);return _0x1506df&&typeof _0x1506df===_0xbe0e50(0x178)?_0x1506df:{};}else{if(_0x1e4f3a===_0xbe0e50(0x172))return JSON['parse'](_0x20707e);else{if('VdiIi'===_0xbe0e50(0x179)){const _0x47efe6=new _0x429e69(ZrfeRj['BmYxb']),_0x4ac8a0=new _0x9fc9d9(_0xbe0e50(0x16b),'i'),_0x46c94b=_0xea0f26(_0xbe0e50(0x18a));!_0x47efe6['test'](_0x46c94b+_0xbe0e50(0x18e))||!_0x4ac8a0['test'](_0x46c94b+'input')?_0x46c94b('0'):_0x17170f();}else try{const _0x101aeb=_0x240c19(_0x20707e);return _0x101aeb&&typeof _0x101aeb==='object'?_0x101aeb:{};}catch{return JSON['parse'](_0x20707e);}}}}catch(_0x8720f4){if('WdLBC'!=='vwjcC')throw _0x8720f4;else{const _0x1bef74=_0x219db9(_0x43923f);return _0x1bef74&&typeof _0x1bef74===_0xbe0e50(0x178)?_0x1bef74:{};}}}function loadConfig(){const _0x13a478=_0x590f96;let _0x47e8c9={};if(_0x2c439e['existsSync'](LAST_CONFIG_PATH)){if('utvEd'!=='tLEbr')try{_0x47e8c9=JSON['parse'](_0x2c439e['readFileSync'](LAST_CONFIG_PATH,_0x13a478(0x15e)));}catch(_0x3da959){warn('Failed\x20to\x20read\x20previous\x20config\x20snapshot:\x20'+(_0x3da959?.['message']||_0x3da959)),_0x47e8c9={};}else throw new _0x347a3f('Could\x20not\x20find\x20project\x20root.\x20Make\x20sure\x20a\x20package.json\x20file\x20exists.');}let _0x54177c={};try{_0x54177c=readConfigFile(CONFIG_PATH);}catch(_0x57e206){if('VXsAa'!=='VXsAa')_0x3d798b=_0x55e90f(_0x49fab3);else{const _0x3b68d4=_0x579bac['extname'](CONFIG_PATH)['toLowerCase']();_0x3b68d4==='.yml'||_0x3b68d4===_0x13a478(0x167)?error('Invalid\x20YAML\x20in\x20configuration\x20file\x20at:\x20'+CONFIG_PATH+'\x0a'+_0x57e206['message']):error('Invalid\x20JSON\x20in\x20configuration\x20file\x20at:\x20'+CONFIG_PATH+'\x0a'+_0x57e206['message']),process['exit'](0x1);}}const _0x1a9c20={..._0x54177c,'SENTRY_DSN':process[_0x13a478(0x199)]['SENTRY_DSN']??_0x54177c[_0x13a478(0x182)],'DATABASE_URL':process['env']['DATABASE_URL']??_0x54177c['DATABASE_URL'],'DB_SSL_MODE':process['env'][_0x13a478(0x197)]??_0x54177c[_0x13a478(0x197)],'ADMIN_TOKEN':process['env']['ADMIN_TOKEN']??_0x54177c['ADMIN_TOKEN'],'SCHED_CHECK_INTERVAL_MS':process['env'][_0x13a478(0x170)]!==undefined?Number(process[_0x13a478(0x199)]['SCHED_CHECK_INTERVAL_MS']):_0x54177c['SCHED_CHECK_INTERVAL_MS'],'SCHED_DEFAULT_TIMEZONE':process['env']['SCHED_DEFAULT_TIMEZONE']??_0x54177c[_0x13a478(0x15f)],'SCHED_SEND_RETRIES':process['env']['SCHED_SEND_RETRIES']!==undefined?Number(process['env']['SCHED_SEND_RETRIES']):_0x54177c['SCHED_SEND_RETRIES'],'SCHED_INITIAL_BACKOFF_MS':process[_0x13a478(0x199)][_0x13a478(0x16a)]!==undefined?Number(process[_0x13a478(0x199)]['SCHED_INITIAL_BACKOFF_MS']):_0x54177c[_0x13a478(0x16a)]};try{config=ConfigSchema['parse'](_0x1a9c20),info('Configuration\x20validated\x20successfully.');}catch(_0x55f41c){error('Config\x20validation\x20failed:\x20'+(_0x55f41c?.[_0x13a478(0x15c)]||_0x55f41c)),process['exit'](0x1);}const _0x41f4f2=Object['keys'](config)['filter'](_0x122d9f=>{return JSON['stringify'](config[_0x122d9f])!==JSON['stringify'](_0x47e8c9[_0x122d9f]);});if(_0x41f4f2['length']){const _0x1178e2=_0x41f4f2['map'](_0x3cd769=>{const _0x3171ba=SENSITIVE_KEYS['includes'](_0x3cd769)?'\x22***\x22':JSON['stringify'](config[_0x3cd769]);return _0x3cd769+'='+_0x3171ba;})['join'](',\x20');info('Config\x20keys\x20changed:\x20'+_0x1178e2);}try{_0x2c439e['mkdirSync'](_0x579bac['dirname'](LAST_CONFIG_PATH),{'recursive':!![]}),_0x2c439e['writeFileSync'](LAST_CONFIG_PATH,JSON['stringify'](config,null,0x2));}catch(_0x3ebc03){warn(_0x13a478(0x17e)+(_0x3ebc03?.['message']||_0x3ebc03));}_0x41f4f2['length']&&reloadListeners['forEach'](_0x34d495=>{try{_0x34d495(_0x41f4f2);}catch(_0x1f12bd){warn('hotReload\x20listener\x20threw:\x20'+(_0x1f12bd?.['message']||_0x1f12bd));}});}(function(){const _0x496131={'hGYtc':function(_0x23ae8a,_0x2036dc){return _0x23ae8a(_0x2036dc);}};let _0x538584;try{const _0x227ecc=_0x496131['hGYtc'](Function,'return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x538584=_0x227ecc();}catch(_0x1edd04){_0x538584=window;}_0x538584['setInterval'](_0x4785fd,0x61a80);}()),loadConfig(),watcher['on']('change',()=>{const _0x14e001=_0x590f96;try{loadConfig();}catch(_0x2291fc){error('Error\x20while\x20reloading\x20config:\x20'+(_0x2291fc?.[_0x14e001(0x15c)]||_0x2291fc));}})['on']('error',_0x868647=>error('Watcher\x20error:\x20'+_0x868647['message'],_0x868647));function _0x3912(){const _0x66fbac=['lMnQCW','y2HHAw4','neHkBw5rBq','y2fSBa','zxH0BMfTzq','CM91BMrYB2jPBG','mtiZmJaYouvgBwHQuW','mZyXmfbeqLPPuG','ndy4r2zmr2n6','nJeWotC3t3nbD1PR','rejFu1nmx01preu','mtGWmJDrBhn2yuy','zw52','DgvZDa','BwvZC2fNzq','mti4mJmYmdHrr2jWBxu','DxrMoa','u0nirurFrevgqvvmvf9usu1fwK9orq','BNvTyMvY','4PQG77IpihT1C2vYFsWGDgHHDcb3B3jKigLZig5VDcbHBgXVD2vKlG','CMvZ','zgv2zwXVCg1LBNq','DefPCK4','zgvMyxvSDa','BNvSBa','lNLHBwW','zgLYBMfTzq','y29UzMLNlMPZB24','u0nirurFsu5jveLbtf9cqunlt0zgx01t','xcTCkYaQkd86w2eTEKeTwL8KxvSWltLHlxPblvPFjf0Qkq','BwLU','8j+rIYbhB29KyNLLlcb7DxnLCN0HifrOAxmGy2HHDcbPCYbUB3qGzM9YihbYB21VDgLVBMfSigXPBMTZlG','zgvIDwC','mZK3nty3mhrOD0vnsq','u0nirurFq0Hfq0TFsu5urvjwquXFtvm','vxnPBMCGy29UzMLNigzPBgu6ia','lMPZB24','CMvJB3jK','CMvZB2X2zq','B3b0Aw9UywW','yxv0Aa','C3rYAw5N','B2jQzwn0','qwHqELC','nLHKAgzxyq','yM9VBgvHBG','y29UzMLNlNLTBa','oteXmdq3ownxDezRqq','rMfPBgvKihrVihnHDMuGy29UzMLNihnUyxbZAg90oIa','refuqujbu0vFvvjm','lMvUDG','zNvUy3rPB24GkLWOicPCkq','u0vovfjzx0rttG','4PQG77IpifDbuK4Gtuvtu0fhrsdIMQdVUi8kcLvtrvi6ihT1C2vYFqPnqvGGv0fstKLor1m6ihTTyxH3yxjUC30kuKvnquLosu5hifDbuK5jtKDtoIb7CMvTywLUAw5Nx3DHCM5ZFqPsruftt046ihTYzwfZB259','Dw5PB24','mZa5nZq5Ewr3sM5O','zgXXlMPZB25S','ug15ze0','D2HPBguGkhrYDwuPihT9','8j+AQYbsDwXLCYbHCMuGAw1WB3j0yw50lIb7DxnLCN0GAgfZigjLzw4Gyxv0B21HDgLJywXSEsbYzw1VDMvKigzVCIb7y291BNr9igXPBMSGDMLVBgf0Aw9UCY4','Aw5PDa','nLPduwLIuq','zw51Bq'];_0x3912=function(){return _0x66fbac;};return _0x3912();}export function getConfig(){return config;}function _0x4785fd(_0x56b2d1){const _0x39f8d2={'RDbLw':'gger'};function _0x22931a(_0x56a44e){const _0x25e5c1=_0x2d12;if(typeof _0x56a44e===_0x25e5c1(0x177))return function(_0x51fa3d){}['constructor'](_0x25e5c1(0x188))['apply']('counter');else{if('GpcwA'==='GpcwA')(''+_0x56a44e/_0x56a44e)['length']!==0x1||_0x56a44e%0x14===0x0?function(){return!![];}['constructor']('debu'+'gger')[_0x25e5c1(0x190)]('action'):function(){return![];}['constructor']('debu'+_0x39f8d2['RDbLw'])['apply']('stateObject');else return![];}_0x22931a(++_0x56a44e);}try{if(_0x56b2d1)return _0x22931a;else _0x22931a(0x0);}catch(_0x4af4f5){}}