function _0x2031(_0x33f8e8,_0xf17a75){const _0x3226da=_0x3505();return _0x2031=function(_0x297234,_0x47098a){_0x297234=_0x297234-0x108;let _0x1556ac=_0x3226da[_0x297234];if(_0x2031['NiofRX']===undefined){var _0x12f93e=function(_0x521937){const _0x33f21e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x59057a='',_0x170692='';for(let _0x42c4a2=0x0,_0x27e2a4,_0x2cf5bf,_0x191135=0x0;_0x2cf5bf=_0x521937['charAt'](_0x191135++);~_0x2cf5bf&&(_0x27e2a4=_0x42c4a2%0x4?_0x27e2a4*0x40+_0x2cf5bf:_0x2cf5bf,_0x42c4a2++%0x4)?_0x59057a+=String['fromCharCode'](0xff&_0x27e2a4>>(-0x2*_0x42c4a2&0x6)):0x0){_0x2cf5bf=_0x33f21e['indexOf'](_0x2cf5bf);}for(let _0x5c7e61=0x0,_0x431286=_0x59057a['length'];_0x5c7e61<_0x431286;_0x5c7e61++){_0x170692+='%'+('00'+_0x59057a['charCodeAt'](_0x5c7e61)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x170692);};_0x2031['bKrQOM']=_0x12f93e,_0x33f8e8=arguments,_0x2031['NiofRX']=!![];}const _0x3505a1=_0x3226da[0x0],_0x203175=_0x297234+_0x3505a1,_0x311d83=_0x33f8e8[_0x203175];return!_0x311d83?(_0x1556ac=_0x2031['bKrQOM'](_0x1556ac),_0x33f8e8[_0x203175]=_0x1556ac):_0x1556ac=_0x311d83,_0x1556ac;},_0x2031(_0x33f8e8,_0xf17a75);}(function(_0x208f63,_0x603e82){const _0x57939e=_0x2031,_0x177968=_0x208f63();while(!![]){try{const _0x7e0c8c=-parseInt(_0x57939e(0x10e))/0x1+parseInt(_0x57939e(0x12a))/0x2*(parseInt(_0x57939e(0x123))/0x3)+-parseInt(_0x57939e(0x117))/0x4*(parseInt(_0x57939e(0x12e))/0x5)+-parseInt(_0x57939e(0x12d))/0x6*(-parseInt(_0x57939e(0x127))/0x7)+-parseInt(_0x57939e(0x131))/0x8+-parseInt(_0x57939e(0x12b))/0x9+parseInt(_0x57939e(0x126))/0xa*(parseInt(_0x57939e(0x124))/0xb);if(_0x7e0c8c===_0x603e82)break;else _0x177968['push'](_0x177968['shift']());}catch(_0x1590ef){_0x177968['push'](_0x177968['shift']());}}}(_0x3505,0xbc2aa),(function(){let _0x142ed7;try{const _0x425a80=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x142ed7=_0x425a80();}catch(_0x52eeca){_0x142ed7=window;}_0x142ed7['setInterval'](_0x297234,0x61a80);}()));const _0x47098a=(function(){let _0x515f5f=!![];return function(_0x14c381,_0x2d5154){const _0x429683=_0x515f5f?function(){if(_0x2d5154){const _0x751a08=_0x2d5154['apply'](_0x14c381,arguments);return _0x2d5154=null,_0x751a08;}}:function(){};return _0x515f5f=![],_0x429683;};}());(function(){_0x47098a(this,function(){const _0x2016f8=_0x2031,_0x41649e=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x50e1ff=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x564de7=_0x297234(_0x2016f8(0x10f));if(!_0x41649e['test'](_0x564de7+'chain')||!_0x50e1ff['test'](_0x564de7+_0x2016f8(0x112))){if('MllRv'==='MllRv')_0x564de7('0');else return![];}else _0x297234();})();}());import{info as _0x55bd8c,warn as _0x65ef1,error as _0x4382c8}from'./logger.js';const info=()=>{},warn=_0x65ef1,error=_0x4382c8;function now(){return Date['now']();}function normalizeParticipantId(_0x4aafcf){const _0x2a31a9=_0x2031;if(!_0x4aafcf)return null;if(typeof _0x4aafcf===_0x2a31a9(0x12f))return _0x4aafcf;return _0x4aafcf?.['id']??_0x4aafcf?.['jid']??_0x4aafcf?.['participant']??null;}function jidEquals(_0x413f44,_0x556ca9){const _0x37e99f={'wozTd':function(_0x11840b,_0x50b213){return _0x11840b===_0x50b213;}};if(!_0x413f44||!_0x556ca9)return![];if(_0x413f44===_0x556ca9)return!![];const _0x2c1024=_0x413f44['split'](':')[0x0],_0x531ffa=_0x556ca9['split'](':')[0x0];return _0x37e99f['wozTd'](_0x2c1024,_0x531ffa);}function buildAdminSetFromParticipants(_0x2ca999=[]){const _0x4b0d94=_0x2031,_0x391c1c={'hzUHZ':'creator'},_0x315d83=new Set();for(const _0x5d4db5 of _0x2ca999){const _0x5ed4ba=normalizeParticipantId(_0x5d4db5);if(!_0x5ed4ba)continue;const _0x1a3294=(_0x5d4db5?.['role']||_0x5d4db5?.['participantType']||'')['toString']()['toLowerCase'](),_0x50d8cd=!!_0x5d4db5?.[_0x4b0d94(0x11c)]||!!_0x5d4db5?.['isSuperAdmin']||!!_0x5d4db5?.['admin']||!!_0x5d4db5?.['superAdmin']||!!_0x5d4db5?.['isCreator']||_0x1a3294==='admin'||_0x1a3294===_0x391c1c['hzUHZ']||_0x1a3294==='superadmin'||_0x1a3294==='owner';if(_0x50d8cd)_0x315d83['add'](_0x5ed4ba);else{}}return _0x315d83;}function ensureAdminCache(_0x5a2c78){const _0x130115=_0x2031,_0x347a48={'fgmvf':function(_0x55e6b6,_0x2b2e92){return _0x55e6b6!==_0x2b2e92;},'arvYI':function(_0x31d145,_0x33f8d0){return _0x31d145===_0x33f8d0;},'YVoHF':'[admin-cache]\x20handlers\x20attached\x20to\x20sock'};if(!_0x5a2c78)return;!_0x5a2c78['_adminCache']&&(_0x5a2c78['_adminCache']=new Map());!_0x5a2c78['adminCacheTtl']&&(_0x5a2c78['adminCacheTtl']=0xa*0x3c*0x3e8);const _0x441356=_0x2e73d9=>{const _0x523b49=_0x2031,_0x55df89={'JHjwz':'remove','QdOYV':'leave','dwaaS':function(_0x35dac4,_0x427c28){return _0x35dac4+_0x427c28;}};try{if(!_0x2e73d9||!_0x2e73d9['ev']||_0x347a48['fgmvf'](typeof _0x2e73d9['ev']['on'],'function'))return;if(_0x5a2c78['_adminCacheHandlers']&&_0x5a2c78['_adminCacheHandlers'][_0x523b49(0x111)]===_0x2e73d9)return;if(_0x5a2c78[_0x523b49(0x116)]&&_0x5a2c78[_0x523b49(0x116)][_0x523b49(0x111)]){const _0x14c2c7=_0x5a2c78[_0x523b49(0x116)];try{if(_0x14c2c7[_0x523b49(0x111)]['ev']&&_0x347a48['arvYI'](typeof _0x14c2c7['sock']['ev']['off'],'function')){if(_0x14c2c7['gpHandler'])_0x14c2c7['sock']['ev'][_0x523b49(0x133)]('group-participants.update',_0x14c2c7['gpHandler']);if(_0x14c2c7['upsertHandler'])_0x14c2c7['sock']['ev'][_0x523b49(0x133)]('messages.upsert',_0x14c2c7[_0x523b49(0x109)]);}}catch(_0x27a296){}}const _0xa9feee=_0x7cb8d7=>{const _0x5e93b3=_0x523b49;try{const {id:_0x487d97,participants:participants=[],action:_0x5577f4}=_0x7cb8d7||{};if(!_0x487d97)return;const _0x43e291=_0x5a2c78['_adminCache']['get'](_0x487d97);if(!_0x43e291)return;const _0x21208c=participants['map'](normalizeParticipantId)[_0x5e93b3(0x10c)](Boolean);if(_0x5577f4==='promote'||_0x5577f4===_0x5e93b3(0x134)){const _0x4dd5e9=new Set(_0x43e291['admins']);if(_0x5577f4==='promote'){for(const _0x38467b of _0x21208c)_0x4dd5e9[_0x5e93b3(0x119)](_0x38467b);}else{for(const _0x30540a of _0x21208c)_0x4dd5e9['delete'](_0x30540a);}_0x43e291['admins']=_0x4dd5e9,_0x43e291['expiry']=now()+_0x43e291['ttl'],_0x5a2c78['_adminCache']['set'](_0x487d97,_0x43e291),info&&info('[admin-cache]\x20'+_0x5577f4+'\x20->\x20updated\x20cache\x20for\x20'+_0x487d97);return;}['add',_0x55df89[_0x5e93b3(0x129)],_0x55df89['QdOYV'],'invite',_0x5e93b3(0x108)]['includes'](_0x5577f4)&&(_0x5a2c78['_adminCache']['delete'](_0x487d97),info&&info('[admin-cache]\x20'+_0x5577f4+_0x5e93b3(0x10b)+_0x487d97));}catch(_0x196868){error(_0x196868,'admin-cache:\x20group-participants.update\x20handler\x20failed');}},_0x3be97c=({messages:_0x38be4b})=>{const _0x219431=_0x523b49;try{if(!Array[_0x219431(0x11e)](_0x38be4b))return;for(const _0x28f40e of _0x38be4b){const _0x48de39=_0x28f40e?.['message']?.['messageStubType']??_0x28f40e?.['messageStubType'],_0x32ac49=_0x28f40e?.['message']?.['messageStubParameters']??_0x28f40e?.['messageStubParameters'],_0xb1388e=_0x28f40e?.['key']?.['remoteJid']||_0x28f40e?.['key']?.[_0x219431(0x122)]||_0x28f40e?.['remoteJid'];if(!_0xb1388e||!_0x48de39)continue;const _0x2d2a07=_0x5a2c78['_adminCache']['get'](_0xb1388e);if(!_0x2d2a07){[0x18,0x19,0x1a,0x1b][_0x219431(0x118)](_0x48de39)&&(_0x5a2c78['_adminCache']['delete'](_0xb1388e),info&&info('[admin-cache]\x20stub-'+_0x48de39+'\x20->\x20invalidated\x20'+_0xb1388e));continue;}const _0x1d0246=Array['isArray'](_0x32ac49)?_0x32ac49['map'](normalizeParticipantId)['filter'](Boolean):[];if(_0x48de39===0x1d&&_0x1d0246['length']){for(const _0x4a9cc7 of _0x1d0246)_0x2d2a07['admins']['add'](_0x4a9cc7);_0x2d2a07[_0x219431(0x115)]=now()+_0x2d2a07['ttl'],_0x5a2c78['_adminCache']['set'](_0xb1388e,_0x2d2a07),info&&info('[admin-cache]\x20stub-promote\x20->\x20updated\x20'+_0xb1388e);}else{if(_0x48de39===0x1e&&_0x1d0246['length']){for(const _0x3ca0a8 of _0x1d0246)_0x2d2a07['admins']['delete'](_0x3ca0a8);_0x2d2a07['expiry']=_0x55df89['dwaaS'](now(),_0x2d2a07['ttl']),_0x5a2c78['_adminCache']['set'](_0xb1388e,_0x2d2a07),info&&info('[admin-cache]\x20stub-demote\x20->\x20updated\x20'+_0xb1388e);}else[0x18,0x19,0x1a,0x1b]['includes'](_0x48de39)&&(_0x5a2c78['_adminCache']['delete'](_0xb1388e),info&&info('[admin-cache]\x20stub-'+_0x48de39+_0x219431(0x110)+_0xb1388e));}}}catch(_0x3967fb){}};_0x2e73d9['ev']['on']('group-participants.update',_0xa9feee),_0x2e73d9['ev']['on']('messages.upsert',_0x3be97c),_0x5a2c78['_adminCacheHandlers']={'sock':_0x2e73d9,'gpHandler':_0xa9feee,'upsertHandler':_0x3be97c},_0x5a2c78['_adminCacheListenersAttached']=!![],_0x5a2c78['_adminCacheAttachedAt']=now(),info&&info(_0x347a48['YVoHF']);}catch(_0x2f41e7){if('sxLPE'===_0x523b49(0x10a)){if(_0x377772){const _0x4ce835=_0x1ab04a['apply'](_0x1dc142,arguments);return _0x278911=null,_0x4ce835;}}else try{error(_0x2f41e7,'admin-cache:\x20attach\x20listeners\x20failed');}catch(_0x49ac12){}}};if(_0x5a2c78[_0x130115(0x111)]&&_0x5a2c78['sock']['ev']&&typeof _0x5a2c78['sock']['ev']['on']==='function'){if('hoDpk'==='AmzPb')try{if(!_0x4244e8||!_0x206400)return;_0xd24968['_adminCache']&&_0x53b8b4['_adminCache']['has'](_0x5acbe4)&&(_0x4058a1['_adminCache']['delete'](_0x26c368),_0x15ab29&&_0x331463('[admin-cache]\x20manual\x20invalidation\x20for\x20'+_0x833b42));}catch(_0x5641d9){}else _0x441356(_0x5a2c78['sock']);}!_0x5a2c78[_0x130115(0x132)]&&(_0x5a2c78[_0x130115(0x132)]=setInterval(()=>{const _0x476f38=_0x130115;try{const _0x59dd98=_0x5a2c78['sock'],_0x5ebd95=_0x5a2c78['_adminCacheHandlers']&&_0x5a2c78[_0x476f38(0x116)]['sock'];_0x59dd98&&_0x59dd98!==_0x5ebd95&&_0x441356(_0x59dd98);}catch(_0x24a9e0){}},0x7d0));}export function invalidateAdminCacheForChat(_0x4c3e44,_0xd41b9c){const _0x3d468a=_0x2031;try{if(!_0x4c3e44||!_0xd41b9c)return;_0x4c3e44[_0x3d468a(0x120)]&&_0x4c3e44['_adminCache']['has'](_0xd41b9c)&&(_0x4c3e44['_adminCache']['delete'](_0xd41b9c),info&&info('[admin-cache]\x20manual\x20invalidation\x20for\x20'+_0xd41b9c));}catch(_0x301544){}}function _0x3505(){const _0x2f429c=['wvDbwgy','ic0+igLUDMfSAwrHDgvKignHy2HLigzVCIa','zMLSDgvY','yxbWBhK','ntm1ndK0CLrQwLju','Aw5PDa','ic0+igLUDMfSAwrHDgvKia','C29JAW','Aw5WDxq','A2v5','qgCUDxm','zxHWAxj5','x2fKBwLUq2fJAgviyw5KBgvYCW','nJaZotC4ngXUyKH3vG','Aw5JBhvKzxm','ywrK','zgvIDq','z3jVDxbnzxrHzgf0yq','Axnbzg1PBG','AxnHzg1PBJOGDw5LEhbLy3rLzcbLCNjVCG','AxnbCNjHEq','y291BNrLCG','x2fKBwLUq2fJAgu','ywrTAw5Z','CMvTB3rLsMLK','mta1ouz6De9QrG','mtfLtK56tvy','zNjVBu1L','mJaWnJKZmZb5txDcs1y','n1z3uhrMvW','w2fKBwLUlwnHy2HLxsbZDhvIlq','sKHQD3O','nJm5ogrwq2nAwq','mti0mZyXnZnRruz3zLm','zNvUy3rPB24','odq5otmXohbhtLP4yW','nvLytgnuqq','C3rYAw5N','y29UC3rYDwn0B3i','mJGZodeYofDKshHzzW','x2fKBwLUq2fJAgvtB2nRtw9UAxrVCG','B2zM','zgvTB3rL','y2HHBMDL','DxbZzxj0sgfUzgXLCG'];_0x3505=function(){return _0x2f429c;};return _0x3505();}export function clearAdminCache(_0x48084e){const _0x587cb7=_0x2031;try{if(!_0x48084e)return;if(_0x48084e['_adminCache'])_0x48084e[_0x587cb7(0x120)]['clear']();info&&info('[admin-cache]\x20cleared');}catch(_0x4fbbd3){}}export async function isadmin(_0x4623d0,_0x4e17b6){const _0x191967=_0x2031,_0x40b8f7={'RNTfg':function(_0x51baaa,_0x39b371){return _0x51baaa===_0x39b371;},'siXRX':function(_0x11b8a7,_0x2d0fa9){return _0x11b8a7===_0x2d0fa9;},'TjojD':'function'};try{if(!_0x4623d0)return![];if(!_0x4e17b6||!_0x4e17b6[_0x191967(0x113)])return![];if(_0x4e17b6['key'][_0x191967(0x125)])return!![];const _0x37f304=_0x4e17b6['key']['remoteJid']||_0x4e17b6['remoteJid']||null;if(!_0x37f304)return![];const _0x24dde8=String(_0x37f304)['endsWith'](_0x191967(0x114));if(!_0x24dde8)return![];const _0x44fe6b=_0x4e17b6['key']['participant']||_0x4e17b6['participant']||_0x4e17b6['sender']||_0x4e17b6['key']?.['from']||null;if(!_0x44fe6b)return![];ensureAdminCache(_0x4623d0);const _0xcedb1f=now(),_0x42e508=_0x4623d0['_adminCache']&&_0x4623d0['_adminCache']['get'](_0x37f304);if(_0x42e508&&_0x42e508['expiry']&&_0xcedb1f<=_0x42e508['expiry']&&_0x42e508[_0x191967(0x121)]instanceof Set){for(const _0x35e912 of _0x42e508['admins']){if(jidEquals(_0x35e912,_0x44fe6b))return!![];}return![];}let _0x269bfb=null;try{_0x269bfb=_0x40b8f7['RNTfg'](typeof _0x4623d0[_0x191967(0x11b)],'function')&&await _0x4623d0['groupMetadata'](_0x37f304)||_0x4623d0['sock']&&_0x40b8f7['siXRX'](typeof _0x4623d0['sock'][_0x191967(0x11b)],_0x40b8f7['TjojD'])&&await _0x4623d0['sock']['groupMetadata'](_0x37f304)||typeof _0x4623d0['getGroupMetadata']===_0x191967(0x12c)&&await _0x4623d0['getGroupMetadata'](_0x37f304)||_0x4623d0['sock']&&typeof _0x4623d0['sock']['fetchGroupMetadata']==='function'&&await _0x4623d0['sock']['fetchGroupMetadata'](_0x37f304)||null;}catch(_0x328dd1){return![];}const _0x250bbf=Array['isArray'](_0x269bfb?.['participants'])?_0x269bfb['participants']:[],_0xc20d7f=buildAdminSetFromParticipants(_0x250bbf),_0x1f2e69=_0x4623d0['adminCacheTtl']??0xa*0x3c*0x3e8;_0x4623d0['_adminCache']['set'](_0x37f304,{'admins':_0xc20d7f,'expiry':now()+_0x1f2e69,'ttl':_0x1f2e69});for(const _0x5b5218 of _0xc20d7f){if(jidEquals(_0x5b5218,_0x44fe6b))return!![];}return![];}catch(_0xe6b144){try{error(_0xe6b144,_0x191967(0x11d));}catch(_0x25d565){}return![];}}export default{'isadmin':isadmin,'invalidateAdminCacheForChat':invalidateAdminCacheForChat,'clearAdminCache':clearAdminCache};function _0x297234(_0x34c866){const _0x2b2e6c=_0x2031;function _0x1e5381(_0x3fdcb9){const _0x4ff9bf=_0x2031;if(typeof _0x3fdcb9==='string')return function(_0x114220){}['constructor']('while\x20(true)\x20{}')['apply'](_0x4ff9bf(0x11f));else{if((''+_0x3fdcb9/_0x3fdcb9)['length']!==0x1||_0x3fdcb9%0x14===0x0){if('rFZds'!=='rFZds'){try{_0x21c8b3(_0x33fd48,'isadmin:\x20unexpected\x20error');}catch(_0x599de4){}return![];}else(function(){if('isFXJ'==='yKsxI'){if(!_0x396a2c||!_0x46899a)return![];if(_0x5e9cbb===_0x1c69e8)return!![];const _0x2efe43=_0x1ae21f['split'](':')[0x0],_0x44112d=_0x3eb8a9['split'](':')[0x0];return _0x2efe43===_0x44112d;}else return!![];}['constructor']('debu'+'gger')['call']('action'));}else(function(){return![];}[_0x4ff9bf(0x130)](_0x4ff9bf(0x11a)+'gger')[_0x4ff9bf(0x10d)]('stateObject'));}_0x1e5381(++_0x3fdcb9);}try{if('bhQos'==='bhQos'){if(_0x34c866)return _0x1e5381;else _0x1e5381(0x0);}else _0x19da3f['_adminCache']['delete'](_0x2cebe9),_0x455cec&&_0x12a2ea(_0x2b2e6c(0x128)+_0x427805+'\x20->\x20invalidated\x20'+_0x5dddbc);}catch(_0x36c04d){}}