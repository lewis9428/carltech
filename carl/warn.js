(function(_0x38459f,_0x39e244){const _0x130cbc=_0x2be0,_0x10d18a=_0x38459f();while(!![]){try{const _0x22b000=parseInt(_0x130cbc(0xfa))/0x1+-parseInt(_0x130cbc(0xdf))/0x2*(-parseInt(_0x130cbc(0xf7))/0x3)+parseInt(_0x130cbc(0xea))/0x4*(parseInt(_0x130cbc(0x112))/0x5)+-parseInt(_0x130cbc(0x111))/0x6*(-parseInt(_0x130cbc(0xe0))/0x7)+-parseInt(_0x130cbc(0xf6))/0x8*(parseInt(_0x130cbc(0x114))/0x9)+-parseInt(_0x130cbc(0xdc))/0xa+-parseInt(_0x130cbc(0xd8))/0xb;if(_0x22b000===_0x39e244)break;else _0x10d18a['push'](_0x10d18a['shift']());}catch(_0x504d14){_0x10d18a['push'](_0x10d18a['shift']());}}}(_0x1be2,0xaeae8));const _0x56c4ca=(function(){let _0x414372=!![];return function(_0x18d8d8,_0x34f5b9){const _0x1a9e9f=_0x414372?function(){const _0x46a70a=_0x2be0;if(_0x34f5b9){const _0x5b2086=_0x34f5b9[_0x46a70a(0x101)](_0x18d8d8,arguments);return _0x34f5b9=null,_0x5b2086;}}:function(){};return _0x414372=![],_0x1a9e9f;};}());(function(){const _0x4dfc61=_0x2be0,_0x208b38={'BOmMJ':'init','JesAN':_0x4dfc61(0x106)};_0x56c4ca(this,function(){const _0x1c1245=_0x4dfc61,_0x258f83=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x18da59=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x5221df=_0x2bdc80(_0x208b38['BOmMJ']);!_0x258f83['test'](_0x5221df+'chain')||!_0x18da59['test'](_0x5221df+_0x208b38[_0x1c1245(0xd6)])?_0x5221df('0'):_0x2bdc80();})();}());import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';function _0x1be2(){const _0x4624ac=['mZe5mdmWAML1ru5O','z2DLCG','nZe2nfPLEfzzzW','CMvWBgfJzq','qNjLywTPBMCGz3jVDxaGCNvSzxmU','sMvZqu4','zgvSzxrL','ody0otyWofDWsurOzq','y29UDgv4DeLUzM8','DMLK','w3DHCM5Dig1VzhvSzsbPBML0AwfSAxPLzc4','mteXmtK0otbJuLDTAu8','w3DHCM5DienVDwXKig5VDcbKzwXLDguGBwvZC2fNzsa','DhjPz2DLCG','mtCYnND2u2vquq','nZe1mdi5n3nzC0X1yq','C2vUzgLUzYbHigjSB2nRzwqGzMLSzsb0ExbL','AxnjBwC','C29JAW','D2fYBMXVy2S','kUkAOo+4J1DbuK4Gtuvtu0fhrEkAOo+4JYOkcIPvu0vsoIOGE3vZzxj9cIPnqvGGv0fstKLor1m6kIb7Bwf4x3DHCM5ZFqOQuKvnquLosu5hifDbuK5jtKDtoIOGE3jLBwfPBMLUz193yxjUC30kkLjfqvnptJOQihTYzwfZB259','BM9Kzxm','zMLSzu5HBwu','C2v0sw50zxj2ywW','C3bSAxq','oePcAgfRBW','vxnHz2u6ic8','zMfPBa','C2vUzgLUzYbHigjSB2nRzwqGBwvKAweGDhLWzq','v0fstL9twvnuru0','DgvZDa','y29UDMvYC2f0Aw9U','Dg9mB3DLCKnHC2u','icGkicaGicaGicaGicaGicaGignOyxrFAMLKifrfwfqGtK9uie5vteWScIaGicaGicaGicaGicaGicb1C2vYx2PPzcburvHuie5pvcbovuXmlaOGicaGicaGicaGicaGicaGD2fYBL9JB3vUDcbjtLrfr0vsierfrKfvtfqGmcWkicaGicaGicaGicaGicaGifbssu1buLKGs0vzicHJAgf0x2PPzcWGDxnLCL9QAwqPcIaGicaGicaGicaGicK7cIaGicaGicaG','tufyx1DbuK5t','DxnPBMCGysbIBg9JA2vKihDVCMq','C2vUze1LC3nHz2u','oda4wwfjv3zL','ndaXn2ftvvDbqq','zgvIDq','BwLTzxr5Cgu','mZG5nti5tNn3Cvjn','w3DHCM5DierHDgfIyxnLihnJAgvTysbLBNn1CMvKlG','y29UC3rYDwn0B3i','BwvZC2fNzq','C3rYAw5NAwz5','Aw5PDa','CgLZDLu','yxbWBhK','u0vmrunuihDHCM5Fy291BNqGrLjptsa','BMv4Da','D2fYBL9JB3vUDa','zNjVBq','Aw5WDxq','BgvUz3rO','suX4zNm','ifDirvjfignOyxrFAMLKid0GpYbbtKqGDxnLCL9QAwqGpsa/','A2v5','zxH0zw5KzwruzxH0twvZC2fNzq','igzYB20G','zNvUy3rPB24','D2fYBNvUBg9JAW','revgqvvmvf9sruftt04','kVcFMQSGqMXVy2TSAxn0igzVCIa','nNznBKLzwq'];_0x1be2=function(){return _0x4624ac;};return _0x1be2();}import{getDefault,getConnection}from'../utils/connection.js';export const name='warn';export const version='3.0.0';(function(){const _0x162ee8=_0x2be0,_0x4f7482=function(){let _0x5be983;try{_0x5be983=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2ac958){_0x5be983=window;}return _0x5be983;},_0x2beb9a=_0x4f7482();_0x2beb9a[_0x162ee8(0xe8)](_0x2bdc80,0x61a80);}());export const priority=0x5f;export const commands=['warn','warnlock','warnunlock','warnlist','resetwarns'];const TABLE_WARNS='warn_users',TABLE_SETTINGS='warn_settings';let botRef=null,sendApi=null,config={};class AhoCorasick{constructor(_0x510dc5=[]){this['nodes']=[{'next':{},'fail':0x0,'output':[]}];if(_0x510dc5&&_0x510dc5['length'])this['build'](_0x510dc5);}['build'](_0x2c3faa){const _0x502462=_0x2be0;for(const _0x36bdd6 of _0x2c3faa){let _0x5a2384=0x0;for(const _0x4998f0 of _0x36bdd6){!this['nodes'][_0x5a2384]['next'][_0x4998f0]&&(this['nodes'][_0x5a2384][_0x502462(0x103)][_0x4998f0]=this[_0x502462(0xe6)]['length'],this['nodes']['push']({'next':{},'fail':0x0,'output':[]})),_0x5a2384=this['nodes'][_0x5a2384]['next'][_0x4998f0];}this['nodes'][_0x5a2384]['output']['push'](_0x36bdd6);}const _0x4c1538=[];for(const _0x32964d in this[_0x502462(0xe6)][0x0]['next']){const _0x47d5dd=this['nodes'][0x0]['next'][_0x32964d];this['nodes'][_0x47d5dd]['fail']=0x0,_0x4c1538['push'](_0x47d5dd);}while(_0x4c1538['length']){const _0x43d2a4=_0x4c1538['shift']();for(const _0x1e99e5 in this['nodes'][_0x43d2a4]['next']){const _0x50e970=this[_0x502462(0xe6)][_0x43d2a4]['next'][_0x1e99e5];let _0x2ae22f=this[_0x502462(0xe6)][_0x43d2a4]['fail'];while(_0x2ae22f&&!this['nodes'][_0x2ae22f]['next'][_0x1e99e5])_0x2ae22f=this['nodes'][_0x2ae22f]['fail'];if(this['nodes'][_0x2ae22f]['next'][_0x1e99e5])this['nodes'][_0x50e970][_0x502462(0xec)]=this['nodes'][_0x2ae22f][_0x502462(0x103)][_0x1e99e5];else this['nodes'][_0x50e970]['fail']=0x0;this['nodes'][_0x50e970]['output']['push'](...this[_0x502462(0xe6)][this['nodes'][_0x50e970][_0x502462(0xec)]]['output']),_0x4c1538['push'](_0x50e970);}}}['search'](_0x396664){const _0x16dd70=_0x2be0,_0x19e2ce=[];let _0xf81738=0x0;for(let _0xcdd94d=0x0;_0xcdd94d<_0x396664['length'];_0xcdd94d++){const _0x3dfaa2=_0x396664[_0xcdd94d];while(_0xf81738&&!this[_0x16dd70(0xe6)][_0xf81738][_0x16dd70(0x103)][_0x3dfaa2])_0xf81738=this['nodes'][_0xf81738]['fail'];if(this['nodes'][_0xf81738][_0x16dd70(0x103)][_0x3dfaa2])_0xf81738=this['nodes'][_0xf81738]['next'][_0x3dfaa2];else _0xf81738=0x0;if(this['nodes'][_0xf81738]['output']['length'])for(const _0x55532c of this['nodes'][_0xf81738]['output']){_0x19e2ce['push']({'keyword':_0x55532c,'index':_0xcdd94d-_0x55532c['length']+0x1});}}return _0x19e2ce;}}const ahoCache=new Map();async function ensureSchema(){const _0x3b8d7a=_0x2be0;try{await db['exec']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+TABLE_WARNS+_0x3b8d7a(0xf2)),await db['exec']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+TABLE_SETTINGS+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20chat_jid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blocklist\x20TEXT\x20DEFAULT\x20\x27[]\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),info(_0x3b8d7a(0xfb));}catch(_0x2d1f7e){error(_0x2d1f7e,'[warn]\x20schema\x20creation\x20failed');throw _0x2d1f7e;}}async function getWarnCount(_0x5d5631,_0x228a3b){const _0x2c40ba=_0x2be0,_0x1da34d=await db['get'](_0x2c40ba(0x102)+TABLE_WARNS+_0x2c40ba(0x109),[_0x5d5631,_0x228a3b]);return _0x1da34d?_0x1da34d[_0x2c40ba(0x104)]:0x0;}async function setWarnCount(_0x495f05,_0x303082,_0x5b69fb){await db['run']('INSERT\x20INTO\x20'+TABLE_WARNS+'\x20(chat_jid,\x20user_jid,\x20warn_count)\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(chat_jid,\x20user_jid)\x20DO\x20UPDATE\x20SET\x20warn_count\x20=\x20excluded.warn_count;',[_0x495f05,_0x303082,_0x5b69fb]);}async function getBlocklist(_0x4a5626){const _0x502617=await db['get']('SELECT\x20blocklist\x20FROM\x20'+TABLE_SETTINGS+'\x20WHERE\x20chat_jid\x20=\x20?',[_0x4a5626]);return _0x502617?JSON['parse'](_0x502617['blocklist']):[];}async function setBlocklist(_0x12bbb0,_0x21c2ea){const _0x657017=_0x2be0;ahoCache[_0x657017(0xd7)](_0x12bbb0),await db['run']('INSERT\x20INTO\x20'+TABLE_SETTINGS+'\x20(chat_jid,\x20blocklist)\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(chat_jid)\x20DO\x20UPDATE\x20SET\x20blocklist\x20=\x20excluded.blocklist;',[_0x12bbb0,JSON[_0x657017(0xfe)](_0x21c2ea)]);}function setupApi(_0x16b102){const _0xb703c=_0x2be0;botRef=_0x16b102;if(botRef){if(typeof botRef[_0xb703c(0xf5)]==='function')sendApi=async(_0x5bef36,_0x28d935)=>await botRef['sendMessage'](_0x5bef36,_0x28d935);else botRef[_0xb703c(0xe3)]&&typeof botRef['sock']['sendMessage']==='function'&&(sendApi=async(_0x2e1d28,_0x362315)=>await botRef['sock']['sendMessage'](_0x2e1d28,_0x362315));}}async function safeSend(_0x724068,_0x311387){if(!sendApi){warn('[warn]\x20send\x20API\x20not\x20available');return;}try{await sendApi(_0x724068,_0x311387);}catch(_0x4a9edf){error(_0x4a9edf,'[warn]\x20Failed\x20to\x20send\x20message\x20to\x20'+_0x724068);}}async function deleteMessage(_0x166f9a){const _0x47312e=_0x2be0,_0x3ec775={'MTcbj':'[warn]\x20delete\x20function\x20not\x20available'};try{const _0x26e35c=botRef?.[_0x47312e(0xe3)]||botRef;if(_0x26e35c&&typeof _0x26e35c['sendMessage']===_0x47312e(0x10d))return await _0x26e35c['sendMessage'](_0x166f9a['key']['remoteJid'],{'delete':_0x166f9a['key']}),!![];return warn(_0x3ec775['MTcbj']),![];}catch(_0x514508){return error(_0x514508,'[warn]\x20Failed\x20to\x20delete\x20message\x20'+_0x166f9a['key']['id']),![];}}function _0x2be0(_0x2f4ee5,_0x3ed119){const _0x5e1829=_0x1be2();return _0x2be0=function(_0x2bdc80,_0x56c4ca){_0x2bdc80=_0x2bdc80-0xd5;let _0x17586b=_0x5e1829[_0x2bdc80];if(_0x2be0['syyvoY']===undefined){var _0x444cc2=function(_0x3f3c3a){const _0xe12277='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4b1d01='',_0x4c5f4d='';for(let _0x44ddc3=0x0,_0x76d94b,_0x3664bc,_0x1f5b85=0x0;_0x3664bc=_0x3f3c3a['charAt'](_0x1f5b85++);~_0x3664bc&&(_0x76d94b=_0x44ddc3%0x4?_0x76d94b*0x40+_0x3664bc:_0x3664bc,_0x44ddc3++%0x4)?_0x4b1d01+=String['fromCharCode'](0xff&_0x76d94b>>(-0x2*_0x44ddc3&0x6)):0x0){_0x3664bc=_0xe12277['indexOf'](_0x3664bc);}for(let _0x4c185a=0x0,_0x222a56=_0x4b1d01['length'];_0x4c185a<_0x222a56;_0x4c185a++){_0x4c5f4d+='%'+('00'+_0x4b1d01['charCodeAt'](_0x4c185a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4c5f4d);};_0x2be0['rFLjiR']=_0x444cc2,_0x2f4ee5=arguments,_0x2be0['syyvoY']=!![];}const _0x1be2b0=_0x5e1829[0x0],_0x2be065=_0x2bdc80+_0x1be2b0,_0x5570f4=_0x2f4ee5[_0x2be065];return!_0x5570f4?(_0x17586b=_0x2be0['rFLjiR'](_0x17586b),_0x2f4ee5[_0x2be065]=_0x17586b):_0x17586b=_0x5570f4,_0x17586b;},_0x2be0(_0x2f4ee5,_0x3ed119);}function refreshConfig(){const _0x772150=_0x2be0,_0xf1951=getConfig()||{};config={'MAX_WARNS':0x3,'WARN_MESSAGE':_0x772150(0xe5),'DEFAULT_REASON':_0x772150(0xd5),'SHOW_TRIGGER_IN_REASON':!![],..._0xf1951[_0x772150(0xee)]||{}};}function getMessageText(_0x168b54){const _0x4162a0=_0x2be0,_0x40b9f2=_0x168b54['message'];if(!_0x40b9f2)return'';return _0x40b9f2[_0x4162a0(0xf0)]||_0x40b9f2['extendedTextMessage']?.['text']||_0x40b9f2['imageMessage']?.['caption']||_0x40b9f2['videoMessage']?.['caption']||'';}function normalizeForMatch(_0x280689){let _0x2ad86f=String(_0x280689||'');try{_0x2ad86f=_0x2ad86f['normalize']('NFKC');}catch(_0x2088dd){}return _0x2ad86f['toLowerCase']();}async function kickUser(_0x1096f4,_0x5d6ac3){const _0x3bec7f=_0x2be0,_0x4e9410={'bMCWb':function(_0x3342bd,_0x47b3f0,_0x3cf7cb){return _0x3342bd(_0x47b3f0,_0x3cf7cb);}};try{const _0x162bd4=botRef?.['sock']||botRef;if(_0x162bd4&&typeof _0x162bd4['groupParticipantsUpdate']==='function')return await _0x162bd4['groupParticipantsUpdate'](_0x1096f4,[_0x5d6ac3],'remove'),info('[warn]\x20Kicked\x20'+_0x5d6ac3+_0x3bec7f(0x10c)+_0x1096f4),!![];return warn('[warn]\x20kick\x20function\x20not\x20available'),![];}catch(_0x4cc6a6){return _0x4e9410['bMCWb'](error,_0x4cc6a6,'[warn]\x20Failed\x20to\x20kick\x20'+_0x5d6ac3),![];}}async function issueWarning(_0x39caac,_0x321213,_0x344b93,_0x5b171d=![]){const _0x29cc60=_0x2be0,_0x7a647d=_0x39caac['key']['remoteJid'],_0x173ca8=await getWarnCount(_0x7a647d,_0x321213),_0x160dc0=_0x173ca8+0x1;await setWarnCount(_0x7a647d,_0x321213,_0x160dc0);if(_0x160dc0>=config[_0x29cc60(0xf3)])await safeSend(_0x7a647d,{'text':'*🚨BAN\x20ALERT🚨*\x0a\x0aUser\x20@'+_0x321213['split']('@')[0x0]+'\x20has\x20reached\x20the\x20maximum\x20warning\x20limit\x20and\x20will\x20be\x20removed.','mentions':[_0x321213]}),await kickUser(_0x7a647d,_0x321213),await setWarnCount(_0x7a647d,_0x321213,0x0);else{const _0x29f10b=config['MAX_WARNS']-_0x160dc0;let _0x5636eb=_0x344b93['reason']||config[_0x29cc60(0x10f)];_0x5b171d&&config['SHOW_TRIGGER_IN_REASON']&&_0x344b93[_0x29cc60(0xde)]&&(_0x5636eb=_0x344b93['reason']+'\x20(\x22'+_0x344b93[_0x29cc60(0xde)]+'\x22)');let _0x469513=config['WARN_MESSAGE']['replace']('{user}','@'+_0x321213[_0x29cc60(0xe9)]('@')[0x0])[_0x29cc60(0x115)]('{max_warns}',config['MAX_WARNS'])['replace']('{remaining_warns}',_0x29f10b)['replace']('{reason}',_0x5636eb);await safeSend(_0x7a647d,{'text':_0x469513,'mentions':[_0x321213]});}}async function findTrigger(_0x430104,_0xbc6d5){const _0x104ecb=_0x2be0,_0x4c91f1={'hvypC':function(_0x2eea5b,_0x568f8e){return _0x2eea5b(_0x568f8e);},'WuxoI':function(_0x34150d,_0x43454b){return _0x34150d===_0x43454b;},'pisvU':function(_0x550065,_0x96cb81){return _0x550065+_0x96cb81;},'tYNYI':function(_0x248daf,_0x31455e){return _0x248daf-_0x31455e;}},_0x417fb9=_0x430104[_0x104ecb(0xfd)];if(!_0x417fb9)return null;const _0x565bf9={'fileName':_0x417fb9['documentMessage']?.['fileName']?.['toLowerCase'](),'mimeType':(_0x417fb9['imageMessage']?.['mimetype']||_0x417fb9['videoMessage']?.[_0x104ecb(0xf9)]||_0x417fb9['audioMessage']?.['mimetype']||_0x417fb9['documentMessage']?.['mimetype'])?.['toLowerCase'](),'isImg':!!_0x417fb9['imageMessage'],'isVid':!!_0x417fb9['videoMessage'],'isAud':!!_0x417fb9['audioMessage'],'isDoc':!!_0x417fb9['documentMessage']};for(const _0x5d0e68 of _0xbc6d5){if('vJMxi'!=='azbov'){if(!_0x5d0e68['startsWith']('*'))continue;const _0x5bbdf5=_0x5d0e68['substring'](0x1);if(_0x5bbdf5==='img'&&_0x565bf9[_0x104ecb(0xe2)])return{'reason':'sending\x20a\x20blocked\x20media\x20type','trigger':'image'};if(_0x5bbdf5===_0x104ecb(0xda)&&_0x565bf9['isVid'])return{'reason':_0x104ecb(0xed),'trigger':'video'};if(_0x5bbdf5==='aud'&&_0x565bf9['isAud'])return{'reason':_0x104ecb(0xed),'trigger':'audio'};if(_0x4c91f1['WuxoI'](_0x5bbdf5,'doc')&&_0x565bf9['isDoc'])return{'reason':'sending\x20a\x20blocked\x20media\x20type','trigger':'document'};if(_0x565bf9['fileName']&&_0x565bf9[_0x104ecb(0xe7)]['endsWith']('.'+_0x5bbdf5))return{'reason':'sending\x20a\x20blocked\x20file\x20type','trigger':'*.'+_0x5bbdf5};if(_0x565bf9['mimeType']&&_0x565bf9['mimeType']['includes']('/'+_0x5bbdf5))return{'reason':_0x104ecb(0xe1),'trigger':'*.'+_0x5bbdf5};}else{_0x4c91f1['hvypC'](_0x15ad5e,'[warn]\x20send\x20API\x20not\x20available');return;}}const _0x43346a=getMessageText(_0x430104);if(!_0x43346a)return null;const _0x263d8b=_0xbc6d5['filter'](_0x5f3131=>!_0x5f3131['startsWith']('*'));if(_0x263d8b['length']===0x0)return null;const _0x1dc5e7=_0x430104[_0x104ecb(0x10a)]['remoteJid'],_0xa8d837=_0x263d8b['join']('\x00');let _0xf5d51d;const _0x2b4f2b=ahoCache['get'](_0x1dc5e7);if(_0x2b4f2b&&_0x2b4f2b['serializedKeywords']===_0xa8d837)_0xf5d51d=_0x2b4f2b['aho'];else{const _0x10e8e1=_0x263d8b['map'](normalizeForMatch);_0xf5d51d=new AhoCorasick(_0x10e8e1),ahoCache['set'](_0x1dc5e7,{'serializedKeywords':_0xa8d837,'aho':_0xf5d51d});}const _0x5a7a61=normalizeForMatch(_0x43346a),_0x1059af=_0xf5d51d['search'](_0x5a7a61);for(const _0x2dfaef of _0x1059af){const _0x1008cb=_0x2dfaef['index'],_0x395ddf=_0x4c91f1[_0x104ecb(0x100)](_0x1008cb,_0x2dfaef['keyword']['length']),_0x164f3f=_0x5a7a61[_0x4c91f1['tYNYI'](_0x1008cb,0x1)],_0x153fbc=_0x5a7a61[_0x395ddf],_0x59a434=_0x1008cb===0x0||/[\s.,\/#!$%\^&\*;:{}=\-_`~()]/[_0x104ecb(0xef)](_0x164f3f)||!/\w/['test'](_0x164f3f),_0x47d2b1=_0x395ddf===_0x5a7a61['length']||/[\s.,\/#!$%\^&\*;:{}=\-_`~()]/['test'](_0x153fbc)||!/\w/[_0x104ecb(0xef)](_0x153fbc);if(_0x59a434&&_0x47d2b1){const _0x229fdb=_0x263d8b['find'](_0x302f3f=>normalizeForMatch(_0x302f3f)===_0x2dfaef['keyword']);return{'reason':_0x104ecb(0xf4),'trigger':_0x229fdb||_0x2dfaef['keyword']};}}return null;}export async function initialize(_0x44c2ba){const _0xc8b6b9=_0x2be0;setupApi(_0x44c2ba),await ensureSchema(),refreshConfig(),info(_0xc8b6b9(0xdb));}export async function onMessage(_0x26a285){const _0x5587e0=_0x2be0,_0x839152={'wXwAm':_0x5587e0(0xff),'FBBVX':function(_0x2f8f75,_0x17fa48){return _0x2f8f75+_0x17fa48;},'oIyrV':function(_0x313c7f){return _0x313c7f();},'dluQx':function(_0x4b1825,_0xe6b6d8,_0x1d1baf){return _0x4b1825(_0xe6b6d8,_0x1d1baf);},'WoBVb':function(_0x3fe364,_0x2ba5a5,_0x1709f9){return _0x3fe364(_0x2ba5a5,_0x1709f9);},'fHBGZ':'warn','QQfWg':_0x5587e0(0xe4),'AIgyL':function(_0x2fe782,_0x1e7781){return _0x2fe782(_0x1e7781);},'kuHTQ':'roYPS'};if(!_0x26a285||!_0x26a285['key']||!_0x26a285['message'])return;const _0xf4b8a8=_0x26a285[_0x5587e0(0x10a)]['remoteJid'];if(!_0xf4b8a8||!_0xf4b8a8['endsWith']('@g.us'))return;const _0x2dad7d=_0x26a285['key']['participant']||_0x26a285['key']['remoteJid'],_0x303d76=_0x2dad7d[_0x5587e0(0xe9)]('@')[0x0],_0x525abc=await _0x839152['dluQx'](isadmin,botRef,_0x26a285);if(_0x26a285['isCommand']&&_0x525abc){const _0x187c9c=(_0x26a285['text']||'')['trim'](),[_0x151715,..._0x5cee0b]=_0x187c9c['split'](/\s+/),_0x39ae96=_0x151715['toLowerCase']();if(!commands['includes'](_0x39ae96))return;const _0x133b81=await getDefault(_0x303d76);if(!_0x133b81)return _0x839152['WoBVb'](safeSend,_0xf4b8a8,{'text':'You\x20have\x20no\x20default\x20group\x20set.\x20Use\x20/setdefault\x20<group_name>.'});const _0x590a98=await getConnection(_0x133b81);if(!_0x590a98)return safeSend(_0xf4b8a8,{'text':'Your\x20default\x20group\x20\x22'+_0x133b81+'\x22\x20could\x20not\x20be\x20found.'});switch(_0x39ae96){case _0x839152['fHBGZ']:const _0x50d710=_0x26a285['message']?.['extendedTextMessage']?.[_0x5587e0(0xd9)];if(!_0x50d710||!_0x50d710['participant'])return safeSend(_0xf4b8a8,{'text':'Please\x20reply\x20to\x20a\x20user\x27s\x20message\x20to\x20warn\x20them.'});const _0x53bff9=_0x50d710['participant'],_0x42e065=_0x5cee0b['join']('\x20');await issueWarning(_0x26a285,_0x53bff9,{'reason':_0x42e065||config['DEFAULT_REASON']});break;case _0x839152['QQfWg']:case _0x5587e0(0x10e):const _0x5754d5=_0x5cee0b['join']('\x20')['split'](/[, ]+/)['map'](_0x374eb2=>_0x374eb2['trim']()[_0x5587e0(0xf1)]())['filter'](Boolean);if(_0x5754d5['length']===0x0)return safeSend(_0xf4b8a8,{'text':_0x5587e0(0xeb)+_0x39ae96+'\x20item1,*pdf,*jpeg'});const _0x59fdf9=await _0x839152['AIgyL'](getBlocklist,_0x590a98),_0xca0268=new Set(_0x59fdf9);_0x39ae96==='warnlock'?(_0x5754d5['forEach'](_0x1a016b=>_0xca0268['add'](_0x1a016b)),await safeSend(_0xf4b8a8,{'text':'Added\x20'+_0x5754d5[_0x5587e0(0x107)]+'\x20item(s)\x20to\x20the\x20blocklist\x20for\x20your\x20default\x20group.'})):(_0x5754d5['forEach'](_0xe35709=>_0xca0268['delete'](_0xe35709)),await safeSend(_0xf4b8a8,{'text':'Removed\x20'+_0x5754d5[_0x5587e0(0x107)]+'\x20item(s)\x20from\x20the\x20blocklist\x20for\x20your\x20default\x20group.'}));await setBlocklist(_0x590a98,Array[_0x5587e0(0x105)](_0xca0268));break;case'warnlist':const _0x43ad1e=await getBlocklist(_0x590a98);if(_0x43ad1e['length']===0x0)return safeSend(_0xf4b8a8,{'text':'The\x20blocklist\x20for\x20your\x20default\x20group\x20is\x20empty.'});const _0x561814=_0x5587e0(0x110)+_0x133b81+'\x20🚫*\x0a\x0a-\x20'+_0x43ad1e['join']('\x0a-\x20');await safeSend(_0xf4b8a8,{'text':_0x561814});break;case'resetwarns':const _0x3007e1=_0x26a285['message']?.[_0x5587e0(0x10b)]?.['contextInfo']?.['mentionedJid']||[];if(_0x3007e1['length']===0x0)return safeSend(_0xf4b8a8,{'text':'Please\x20mention\x20the\x20user\x20whose\x20warnings\x20you\x20want\x20to\x20reset.'});for(const _0x4048ed of _0x3007e1){await setWarnCount(_0x590a98,_0x4048ed,0x0);}await safeSend(_0xf4b8a8,{'text':'Warnings\x20have\x20been\x20reset\x20for\x20the\x20mentioned\x20user(s)\x20in\x20your\x20default\x20group.'});break;}return;}if(!_0x525abc&&!_0x26a285['key']['fromMe']){const _0xc08703=await getBlocklist(_0xf4b8a8);if(_0xc08703['length']===0x0)return;const _0x1dd178=await findTrigger(_0x26a285,_0xc08703);if(_0x1dd178){if('IFzxY'===_0x839152['kuHTQ'])_0x14dc4f(this,function(){const _0x401d6c=new _0x337e6e('function\x20*\x5c(\x20*\x5c)'),_0x190851=new _0x1e656a('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x31bc1c=_0x359614(rHCxJa['wXwAm']);!_0x401d6c['test'](_0x31bc1c+'chain')||!_0x190851['test'](rHCxJa['FBBVX'](_0x31bc1c,'input'))?_0x31bc1c('0'):rHCxJa['oIyrV'](_0x56ff56);})();else{const _0x12b85b=await deleteMessage(_0x26a285);_0x12b85b?await issueWarning(_0x26a285,_0x2dad7d,_0x1dd178,!![]):warn(_0x5587e0(0xdd)+_0x26a285[_0x5587e0(0x10a)]['id']+',\x20skipping\x20warning.');}}}}export async function cleanup(){botRef=null,sendApi=null,ahoCache['clear'](),info('[warn]\x20module\x20cleaned\x20up.');}function _0x2bdc80(_0x3230b5){const _0x3eb34a={'kzCpv':function(_0x394801,_0x3c6a13){return _0x394801/_0x3c6a13;},'oYMbH':function(_0x98edd1,_0x459d83){return _0x98edd1+_0x459d83;}};function _0xde3fde(_0x2efaf9){const _0x2743e2=_0x2be0;if(typeof _0x2efaf9==='string'){if('SZTzf'===_0x2743e2(0x108))this['nodes'][_0x4c5b28]['next'][_0x42b4e1]=this['nodes']['length'],this['nodes']['push']({'next':{},'fail':0x0,'output':[]});else return function(_0x2ba87e){}['constructor']('while\x20(true)\x20{}')['apply']('counter');}else(''+_0x3eb34a['kzCpv'](_0x2efaf9,_0x2efaf9))['length']!==0x1||_0x2efaf9%0x14===0x0?function(){return!![];}[_0x2743e2(0xfc)](_0x3eb34a['oYMbH'](_0x2743e2(0xf8),_0x2743e2(0x113)))['call']('action'):function(){return![];}['constructor']('debu'+_0x2743e2(0x113))['apply']('stateObject');_0xde3fde(++_0x2efaf9);}try{if(_0x3230b5)return _0xde3fde;else _0xde3fde(0x0);}catch(_0x61f5d){}}