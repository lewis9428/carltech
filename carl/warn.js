const _0x2b6315=_0x447d;(function(_0x454a51,_0x292b5c){const _0x2d5522=_0x447d,_0x2b6068=_0x454a51();while(!![]){try{const _0x51a846=-parseInt(_0x2d5522(0x1e3))/0x1*(-parseInt(_0x2d5522(0x1af))/0x2)+-parseInt(_0x2d5522(0x1c4))/0x3+parseInt(_0x2d5522(0x1a2))/0x4+parseInt(_0x2d5522(0x1aa))/0x5*(parseInt(_0x2d5522(0x1a6))/0x6)+parseInt(_0x2d5522(0x1ae))/0x7+parseInt(_0x2d5522(0x1ac))/0x8+-parseInt(_0x2d5522(0x1a1))/0x9;if(_0x51a846===_0x292b5c)break;else _0x2b6068['push'](_0x2b6068['shift']());}catch(_0xec8501){_0x2b6068['push'](_0x2b6068['shift']());}}}(_0xfb64,0x89669));const _0xc3f893=(function(){let _0x96a154=!![];return function(_0x28173c,_0x1ca871){const _0x257cc4=_0x96a154?function(){if(_0x1ca871){const _0x568c7b=_0x1ca871['apply'](_0x28173c,arguments);return _0x1ca871=null,_0x568c7b;}}:function(){};return _0x96a154=![],_0x257cc4;};}());(function(){_0xc3f893(this,function(){const _0x13fd4d=_0x447d,_0x528aa1=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x35927e=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x17e37e=_0x2e6bc7('init');!_0x528aa1['test'](_0x17e37e+_0x13fd4d(0x1b2))||!_0x35927e['test'](_0x17e37e+'input')?_0x17e37e('0'):_0x2e6bc7();})();}());import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';export const name='warn';export const version='3.0.0';export const priority=0x5f;function _0xfb64(){const _0x48836f=['C3rHDgvpyMPLy3q','z2v0','CMvZzxr3yxjUCW','zMLSzu5HBwu','A2v5','zM9YrwfJAa','D2fYBL91C2vYCW','D2fYBG','mti5D1nJqLz2','mJmZotmXnJbjyKrervK','ndq0ndiYmhrfDwvIBG','zgvIDq','DhjPBq','zw5KC1DPDgG','ndi2t0Xtr1DL','Aw1Hz2vnzxnZywDL','C2vUzgLUzYbHigjSB2nRzwqGzMLSzsb0ExbL','yMXVy2TSAxn0','nJyWmdbVtMTcsKS','D0PPtLu','ndeXnteZnLvnruD1ua','sgXyy08','mJeZodaZmxH5wgXyyW','mti1mtHwA2Lcs3C','revgqvvmvf9sruftt04','DhjPz2DLCG','y2HHAw4','Dgv4Da','ChvZAa','AxneB2m','CMvWBgfJzq','zMfPBa','BwLTzxr5Cgu','u0vmrunuihDHCM5Fy291BNqGrLjptsa','cI0G','zMLSDgvY','BgvUz3rO','DgvZDa','C2vUze1LC3nHz2u','Dg9mB3DLCKnHC2u','rgvfqve','C3rYAw5N','CMvTB3rLsMLK','zxHLyW','mtu0mdm3neHzz05oBq','ww91igHHDMuGBM8GzgvMyxvSDcbNCM91CcbZzxqUifvZzsaVC2v0zgvMyxvSDca8z3jVDxbFBMfTzt4U','qgCUDxm','ugXLyxnLihjLCgX5ihrVigeGDxnLCIDZig1LC3nHz2uGDg8GD2fYBIb0AgvTlG','Aw1Hz2u','su5trvjuieLove8G','yxvK','A2v5D29Yza','zg9JDw1LBNrnzxnZywDL','zgvSzxrL','igL0zw0XlcPWzgySkMPWzwC','C3bSAxq','BM9Kzxm','CMvHC29U','w3DHCM5Dig1VzhvSzsbJBgvHBMvKihvWlG','kVcFMQSGqMXVy2TSAxn0igzVCIa','B3v0Chv0','kUkAOo+4J1DbuK4Gtuvtu0fhrEkAOo+4JYOkcIPvu0vsoIOGE3vZzxj9cIPnqvGGv0fstKLor1m6kIb7Bwf4x3DHCM5ZFqOQuKvnquLosu5hifDbuK5jtKDtoIOGE3jLBwfPBMLUz193yxjUC30kkLjfqvnptJOQihTYzwfZB259','qvz3tfa','kVcFMQHcqu4GquXfuLtWN5QOkGOkvxnLCIba','ifDirvjfignOyxrFAMLKid0GpW','BMv4Da','y2fWDgLVBG'];_0xfb64=function(){return _0x48836f;};return _0xfb64();}export const commands=[_0x2b6315(0x1e2),'warnlock','warnunlock','warnlist','resetwarns'];const TABLE_WARNS=_0x2b6315(0x1e1),TABLE_SETTINGS='warn_settings';let botRef=null,sendApi=null,config={};class AhoCorasick{constructor(_0x2d5bde=[]){const _0x28763e=_0x2b6315;this[_0x28763e(0x1d0)]=[{'next':{},'fail':0x0,'output':[]}];if(_0x2d5bde&&_0x2d5bde['length'])this['build'](_0x2d5bde);}['build'](_0x345087){const _0x17327c=_0x2b6315;for(const _0x1d5efa of _0x345087){let _0x34ae91=0x0;for(const _0xbc3282 of _0x1d5efa){'wJiNU'===_0x17327c(0x1ab)?(!this['nodes'][_0x34ae91]['next'][_0xbc3282]&&(this['nodes'][_0x34ae91]['next'][_0xbc3282]=this[_0x17327c(0x1d0)]['length'],this['nodes']['push']({'next':{},'fail':0x0,'output':[]})),_0x34ae91=this['nodes'][_0x34ae91]['next'][_0xbc3282]):(this['nodes'][_0x572159]['next'][_0x199685]=this['nodes']['length'],this[_0x17327c(0x1d0)]['push']({'next':{},'fail':0x0,'output':[]}));}this['nodes'][_0x34ae91]['output']['push'](_0x1d5efa);}const _0x1277f9=[];for(const _0xb4d3ec in this[_0x17327c(0x1d0)][0x0]['next']){const _0x170924=this['nodes'][0x0]['next'][_0xb4d3ec];this['nodes'][_0x170924]['fail']=0x0,_0x1277f9[_0x17327c(0x1b4)](_0x170924);}while(_0x1277f9['length']){const _0x5beb6a=_0x1277f9['shift']();for(const _0x2e192b in this[_0x17327c(0x1d0)][_0x5beb6a]['next']){const _0x4d9b27=this['nodes'][_0x5beb6a][_0x17327c(0x1d9)][_0x2e192b];let _0x147840=this['nodes'][_0x5beb6a]['fail'];while(_0x147840&&!this['nodes'][_0x147840]['next'][_0x2e192b])_0x147840=this['nodes'][_0x147840]['fail'];if(this['nodes'][_0x147840]['next'][_0x2e192b])this['nodes'][_0x4d9b27]['fail']=this['nodes'][_0x147840]['next'][_0x2e192b];else this['nodes'][_0x4d9b27]['fail']=0x0;this[_0x17327c(0x1d0)][_0x4d9b27]['output'][_0x17327c(0x1b4)](...this['nodes'][this['nodes'][_0x4d9b27]['fail']]['output']),_0x1277f9['push'](_0x4d9b27);}}}['search'](_0x33c75d){const _0x46c12d=_0x2b6315,_0x48ac66={'iigGh':_0x46c12d(0x1d2)},_0x6c595c=[];let _0x30aacc=0x0;for(let _0x5db173=0x0;_0x5db173<_0x33c75d['length'];_0x5db173++){if('Ebdxl'!=='LEfgm'){const _0x3487bd=_0x33c75d[_0x5db173];while(_0x30aacc&&!this[_0x46c12d(0x1d0)][_0x30aacc]['next'][_0x3487bd])_0x30aacc=this['nodes'][_0x30aacc][_0x46c12d(0x1b7)];if(this['nodes'][_0x30aacc]['next'][_0x3487bd])_0x30aacc=this['nodes'][_0x30aacc]['next'][_0x3487bd];else _0x30aacc=0x0;if(this['nodes'][_0x30aacc]['output']['length'])for(const _0x276598 of this['nodes'][_0x30aacc][_0x46c12d(0x1d4)]){_0x6c595c['push']({'keyword':_0x276598,'index':_0x5db173-_0x276598['length']+0x1});}}else _0x238ee6=null,_0x45a90c=null,_0x526eaf['clear'](),_0x2ca947(_0x48ac66['iigGh']);}return _0x6c595c;}}const ahoCache=new Map();async function ensureSchema(){const _0x497a85=_0x2b6315;try{await db[_0x497a85(0x1c3)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+TABLE_WARNS+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20chat_jid\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user_jid\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20warn_count\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(chat_jid,\x20user_jid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),await db[_0x497a85(0x1c3)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+TABLE_SETTINGS+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20chat_jid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blocklist\x20TEXT\x20DEFAULT\x20\x27[]\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),info('[warn]\x20Database\x20schema\x20ensured.');}catch(_0x442edb){error(_0x442edb,'[warn]\x20schema\x20creation\x20failed');throw _0x442edb;}}async function getWarnCount(_0x1045c9,_0x547d33){const _0x25a735=_0x2b6315,_0x3aa776=await db[_0x25a735(0x1dc)](_0x25a735(0x1b9)+TABLE_WARNS+'\x20WHERE\x20chat_jid\x20=\x20?\x20AND\x20user_jid\x20=\x20?',[_0x1045c9,_0x547d33]);return _0x3aa776?_0x3aa776['warn_count']:0x0;}async function setWarnCount(_0x5957b0,_0x4abd47,_0x272ae1){const _0x1531b7=_0x2b6315;await db['run'](_0x1531b7(0x1c9)+TABLE_WARNS+'\x20(chat_jid,\x20user_jid,\x20warn_count)\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(chat_jid,\x20user_jid)\x20DO\x20UPDATE\x20SET\x20warn_count\x20=\x20excluded.warn_count;',[_0x5957b0,_0x4abd47,_0x272ae1]);}(function(){const _0x5c2c18={'MDekM':'NoJIy'},_0x2b3c8b=function(){let _0x2a6499;try{if('lAMxV'===_0x5c2c18['MDekM']){const _0x46b5fb=_0x3ee2c7['message'];if(!_0x46b5fb)return'';return _0x46b5fb['conversation']||_0x46b5fb['extendedTextMessage']?.['text']||_0x46b5fb['imageMessage']?.['caption']||_0x46b5fb['videoMessage']?.['caption']||'';}else _0x2a6499=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x405660){_0x2a6499=window;}return _0x2a6499;},_0x4c7f8e=_0x2b3c8b();_0x4c7f8e['setInterval'](_0x2e6bc7,0x61a80);}());async function getBlocklist(_0x43323c){const _0x2e6217=_0x2b6315,_0xe1bbee=await db[_0x2e6217(0x1dc)]('SELECT\x20blocklist\x20FROM\x20'+TABLE_SETTINGS+_0x2e6217(0x1d8),[_0x43323c]);return _0xe1bbee?JSON['parse'](_0xe1bbee[_0x2e6217(0x1a9)]):[];}async function setBlocklist(_0x3c8e29,_0x303f43){const _0x17bbed=_0x2b6315;ahoCache[_0x17bbed(0x1cd)](_0x3c8e29),await db['run']('INSERT\x20INTO\x20'+TABLE_SETTINGS+'\x20(chat_jid,\x20blocklist)\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(chat_jid)\x20DO\x20UPDATE\x20SET\x20blocklist\x20=\x20excluded.blocklist;',[_0x3c8e29,JSON['stringify'](_0x303f43)]);}function setupApi(_0x71ebbe){const _0x364b96=_0x2b6315,_0x4ed562={'vVFvd':function(_0x438ef6,_0x5824cc){return _0x438ef6===_0x5824cc;}};botRef=_0x71ebbe;if(botRef){if(typeof botRef['sendMessage']==='function')sendApi=async(_0x3f3ed4,_0x725795)=>await botRef['sendMessage'](_0x3f3ed4,_0x725795);else botRef['sock']&&_0x4ed562['vVFvd'](typeof botRef['sock'][_0x364b96(0x1be)],'function')&&(sendApi=async(_0x14b761,_0x29f99f)=>await botRef['sock']['sendMessage'](_0x14b761,_0x29f99f));}}async function safeSend(_0xba96db,_0x57ac65){if(!sendApi){warn('[warn]\x20send\x20API\x20not\x20available');return;}try{await sendApi(_0xba96db,_0x57ac65);}catch(_0x5b3aeb){error(_0x5b3aeb,'[warn]\x20Failed\x20to\x20send\x20message\x20to\x20'+_0xba96db);}}async function deleteMessage(_0x322f53){const _0x39d8bb=_0x2b6315,_0x1d5c1a={'fzNBB':function(_0x27a8c0,_0x5344f3){return _0x27a8c0(_0x5344f3);}};try{const _0x3803d7=botRef?.['sock']||botRef;if(_0x3803d7&&typeof _0x3803d7['sendMessage']==='function')return await _0x3803d7['sendMessage'](_0x322f53['key'][_0x39d8bb(0x1c2)],{'delete':_0x322f53[_0x39d8bb(0x1df)]}),!![];return _0x1d5c1a['fzNBB'](warn,'[warn]\x20delete\x20function\x20not\x20available'),![];}catch(_0x34b9a8){return error(_0x34b9a8,'[warn]\x20Failed\x20to\x20delete\x20message\x20'+_0x322f53[_0x39d8bb(0x1df)]['id']),![];}}function refreshConfig(){const _0x1b28dc=_0x2b6315,_0x53774f=getConfig()||{};config={'MAX_WARNS':0x3,'WARN_MESSAGE':_0x1b28dc(0x1d5),'DEFAULT_REASON':'Breaking\x20group\x20rules.','SHOW_TRIGGER_IN_REASON':!![],..._0x53774f['WARN_SYSTEM']||{}};}function getMessageText(_0x4972bd){const _0x5e4dfe=_0x2b6315,_0xfd4e37=_0x4972bd['message'];if(!_0xfd4e37)return'';return _0xfd4e37['conversation']||_0xfd4e37['extendedTextMessage']?.['text']||_0xfd4e37[_0x5e4dfe(0x1a7)]?.['caption']||_0xfd4e37['videoMessage']?.[_0x5e4dfe(0x1da)]||'';}function normalizeForMatch(_0x2f3502){const _0x406dcd=_0x2b6315;let _0x51a5ce=String(_0x2f3502||'');try{_0x51a5ce=_0x51a5ce['normalize']('NFKC');}catch(_0xb45881){}return _0x51a5ce[_0x406dcd(0x1bf)]();}async function kickUser(_0x448197,_0x13498a){try{const _0x317fc1=botRef?.['sock']||botRef;if(_0x317fc1&&typeof _0x317fc1['groupParticipantsUpdate']==='function')return await _0x317fc1['groupParticipantsUpdate'](_0x448197,[_0x13498a],'remove'),info('[warn]\x20Kicked\x20'+_0x13498a+'\x20from\x20'+_0x448197),!![];return warn('[warn]\x20kick\x20function\x20not\x20available'),![];}catch(_0x34a080){return error(_0x34a080,'[warn]\x20Failed\x20to\x20kick\x20'+_0x13498a),![];}}async function issueWarning(_0x117bad,_0x4cab27,_0x1bf1e9,_0x55ef77=![]){const _0x1af790=_0x2b6315,_0x2f4b64={'qsKUQ':function(_0x1e1448,_0x4d3de3,_0x1b115d){return _0x1e1448(_0x4d3de3,_0x1b115d);}},_0x521269=_0x117bad['key']['remoteJid'],_0x4fcaf2=await getWarnCount(_0x521269,_0x4cab27),_0x24862c=_0x4fcaf2+0x1;await setWarnCount(_0x521269,_0x4cab27,_0x24862c);if(_0x24862c>=config['MAX_WARNS'])await safeSend(_0x521269,{'text':_0x1af790(0x1d7)+_0x4cab27[_0x1af790(0x1cf)]('@')[0x0]+'\x20has\x20reached\x20the\x20maximum\x20warning\x20limit\x20and\x20will\x20be\x20removed.','mentions':[_0x4cab27]}),await _0x2f4b64['qsKUQ'](kickUser,_0x521269,_0x4cab27),await setWarnCount(_0x521269,_0x4cab27,0x0);else{const _0xec2985=config['MAX_WARNS']-_0x24862c;let _0x3042d7=_0x1bf1e9[_0x1af790(0x1d1)]||config[_0x1af790(0x1b0)];_0x55ef77&&config['SHOW_TRIGGER_IN_REASON']&&_0x1bf1e9['trigger']&&(_0x3042d7=_0x1bf1e9[_0x1af790(0x1d1)]+'\x20(\x22'+_0x1bf1e9[_0x1af790(0x1b1)]+'\x22)');let _0x468683=config['WARN_MESSAGE'][_0x1af790(0x1b6)]('{user}','@'+_0x4cab27['split']('@')[0x0])['replace']('{max_warns}',config['MAX_WARNS'])['replace']('{remaining_warns}',_0xec2985)['replace']('{reason}',_0x3042d7);await safeSend(_0x521269,{'text':_0x468683,'mentions':[_0x4cab27]});}}async function findTrigger(_0x3f8c11,_0x125c88){const _0x38ffbe=_0x2b6315,_0x4e1fe6={'jOKtz':'sending\x20a\x20blocked\x20media\x20type','DeEAQ':function(_0x432fe1,_0x49eb5d){return _0x432fe1===_0x49eb5d;},'JWOGA':function(_0x5880a7,_0x3c0933){return _0x5880a7(_0x3c0933);}},_0x5047ba=_0x3f8c11['message'];if(!_0x5047ba)return null;const _0x485f33={'fileName':_0x5047ba[_0x38ffbe(0x1cc)]?.['fileName']?.[_0x38ffbe(0x1bf)](),'mimeType':(_0x5047ba['imageMessage']?.['mimetype']||_0x5047ba['videoMessage']?.[_0x38ffbe(0x1b8)]||_0x5047ba['audioMessage']?.['mimetype']||_0x5047ba['documentMessage']?.[_0x38ffbe(0x1b8)])?.['toLowerCase'](),'isImg':!!_0x5047ba[_0x38ffbe(0x1a7)],'isVid':!!_0x5047ba['videoMessage'],'isAud':!!_0x5047ba['audioMessage'],'isDoc':!!_0x5047ba['documentMessage']};for(const _0x185ae3 of _0x125c88){if(!_0x185ae3['startsWith']('*'))continue;const _0x2698b7=_0x185ae3['substring'](0x1);if(_0x2698b7==='img'&&_0x485f33['isImg'])return{'reason':_0x4e1fe6['jOKtz'],'trigger':_0x38ffbe(0x1c8)};if(_0x4e1fe6[_0x38ffbe(0x1c0)](_0x2698b7,'vid')&&_0x485f33['isVid'])return{'reason':'sending\x20a\x20blocked\x20media\x20type','trigger':'video'};if(_0x2698b7===_0x38ffbe(0x1ca)&&_0x485f33['isAud'])return{'reason':'sending\x20a\x20blocked\x20media\x20type','trigger':'audio'};if(_0x2698b7==='doc'&&_0x485f33[_0x38ffbe(0x1b5)])return{'reason':'sending\x20a\x20blocked\x20media\x20type','trigger':'document'};if(_0x485f33[_0x38ffbe(0x1de)]&&_0x485f33['fileName']['endsWith']('.'+_0x2698b7))return{'reason':_0x38ffbe(0x1a8),'trigger':'*.'+_0x2698b7};if(_0x485f33['mimeType']&&_0x485f33['mimeType']['includes']('/'+_0x2698b7))return{'reason':'sending\x20a\x20blocked\x20file\x20type','trigger':'*.'+_0x2698b7};}const _0x3dffbf=_0x4e1fe6['JWOGA'](getMessageText,_0x3f8c11);if(!_0x3dffbf)return null;const _0x231af0=_0x125c88[_0x38ffbe(0x1bb)](_0x244224=>!_0x244224['startsWith']('*'));if(_0x231af0[_0x38ffbe(0x1bc)]===0x0)return null;const _0x18eece=_0x3f8c11['key']['remoteJid'],_0x119704=_0x231af0['join']('\x00');let _0xc58823;const _0x48eece=ahoCache['get'](_0x18eece);if(_0x48eece&&_0x48eece['serializedKeywords']===_0x119704)_0xc58823=_0x48eece['aho'];else{const _0x2b1d8a=_0x231af0['map'](normalizeForMatch);_0xc58823=new AhoCorasick(_0x2b1d8a),ahoCache['set'](_0x18eece,{'serializedKeywords':_0x119704,'aho':_0xc58823});}const _0x5ba96f=normalizeForMatch(_0x3dffbf),_0x8f5e26=_0xc58823['search'](_0x5ba96f);for(const _0x5c408d of _0x8f5e26){const _0x4ceca3=_0x5c408d['index'],_0x51c2d9=_0x4ceca3+_0x5c408d[_0x38ffbe(0x1cb)]['length'],_0x2974ef=_0x5ba96f[_0x4ceca3-0x1],_0x1124fa=_0x5ba96f[_0x51c2d9],_0x249e74=_0x4ceca3===0x0||/[\s.,\/#!$%\^&\*;:{}=\-_`~()]/['test'](_0x2974ef)||!/\w/['test'](_0x2974ef),_0x35faa9=_0x51c2d9===_0x5ba96f['length']||/[\s.,\/#!$%\^&\*;:{}=\-_`~()]/['test'](_0x1124fa)||!/\w/[_0x38ffbe(0x1bd)](_0x1124fa);if(_0x249e74&&_0x35faa9){const _0x5ba4ce=_0x231af0['find'](_0x21b11e=>normalizeForMatch(_0x21b11e)===_0x5c408d['keyword']);return{'reason':'using\x20a\x20blocked\x20word','trigger':_0x5ba4ce||_0x5c408d['keyword']};}}return null;}function _0x447d(_0x36c5b0,_0x37863e){const _0x30d1aa=_0xfb64();return _0x447d=function(_0x2e6bc7,_0xc3f893){_0x2e6bc7=_0x2e6bc7-0x1a1;let _0x36237d=_0x30d1aa[_0x2e6bc7];if(_0x447d['cTLzhg']===undefined){var _0x54a9a0=function(_0x4dcac7){const _0x72b2b1='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x56009c='',_0x3fcc54='';for(let _0x2085d4=0x0,_0x2a0040,_0x345520,_0x5bde5e=0x0;_0x345520=_0x4dcac7['charAt'](_0x5bde5e++);~_0x345520&&(_0x2a0040=_0x2085d4%0x4?_0x2a0040*0x40+_0x345520:_0x345520,_0x2085d4++%0x4)?_0x56009c+=String['fromCharCode'](0xff&_0x2a0040>>(-0x2*_0x2085d4&0x6)):0x0){_0x345520=_0x72b2b1['indexOf'](_0x345520);}for(let _0x27692c=0x0,_0x342d8c=_0x56009c['length'];_0x27692c<_0x342d8c;_0x27692c++){_0x3fcc54+='%'+('00'+_0x56009c['charCodeAt'](_0x27692c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3fcc54);};_0x447d['PsndZF']=_0x54a9a0,_0x36c5b0=arguments,_0x447d['cTLzhg']=!![];}const _0xfb649e=_0x30d1aa[0x0],_0x447dac=_0x2e6bc7+_0xfb649e,_0x23bf2a=_0x36c5b0[_0x447dac];return!_0x23bf2a?(_0x36237d=_0x447d['PsndZF'](_0x36237d),_0x36c5b0[_0x447dac]=_0x36237d):_0x36237d=_0x23bf2a,_0x36237d;},_0x447d(_0x36c5b0,_0x37863e);}export async function initialize(_0x44f6dc){const _0x539fb9={'lymcb':'[warn]\x20module\x20initialized.'};setupApi(_0x44f6dc),await ensureSchema(),refreshConfig(),info(_0x539fb9['lymcb']);}export async function onMessage(_0xde15c9){const _0x24ff8b=_0x2b6315,_0x36bb30={'mzMdj':function(_0x300af5,_0x358e80,_0x3f4054){return _0x300af5(_0x358e80,_0x3f4054);},'CFypW':_0x24ff8b(0x1dd),'eZngB':'Please\x20mention\x20the\x20user\x20whose\x20warnings\x20you\x20want\x20to\x20reset.'};if(!_0xde15c9||!_0xde15c9[_0x24ff8b(0x1df)]||!_0xde15c9['message'])return;const _0x20d905=_0xde15c9['key']['remoteJid'];if(!_0x20d905||!_0x20d905[_0x24ff8b(0x1a5)](_0x24ff8b(0x1c6)))return;const _0x115800=_0xde15c9['key']['participant']||_0xde15c9['key']['remoteJid'],_0x38a563=_0x115800[_0x24ff8b(0x1cf)]('@')[0x0],_0x56b287=await isadmin(botRef,_0xde15c9);if(_0xde15c9['isCommand']&&_0x56b287){const _0x37a872=(_0xde15c9[_0x24ff8b(0x1b3)]||'')['trim'](),[_0x2c4b41,..._0x3c49e8]=_0x37a872['split'](/\s+/),_0x125629=_0x2c4b41['toLowerCase']();if(!commands['includes'](_0x125629))return;const _0x537c82=await getDefault(_0x38a563);if(!_0x537c82)return safeSend(_0x20d905,{'text':_0x24ff8b(0x1c5)});const _0x462ce7=await getConnection(_0x537c82);if(!_0x462ce7)return safeSend(_0x20d905,{'text':'Your\x20default\x20group\x20\x22'+_0x537c82+'\x22\x20could\x20not\x20be\x20found.'});switch(_0x125629){case'warn':const _0x836ecb=_0xde15c9['message']?.['extendedTextMessage']?.['contextInfo'];if(!_0x836ecb||!_0x836ecb['participant']){if('XisGM'!=='DlYUS')return safeSend(_0x20d905,{'text':_0x24ff8b(0x1c7)});else!this['nodes'][_0xdfa134]['next'][_0x5b2267]&&(this[_0x24ff8b(0x1d0)][_0x40f593][_0x24ff8b(0x1d9)][_0x3db446]=this[_0x24ff8b(0x1d0)]['length'],this['nodes']['push']({'next':{},'fail':0x0,'output':[]})),_0x49cf6b=this[_0x24ff8b(0x1d0)][_0x15cc7e]['next'][_0x2308a1];}const _0x281328=_0x836ecb['participant'],_0x5ce3ab=_0x3c49e8['join']('\x20');await issueWarning(_0xde15c9,_0x281328,{'reason':_0x5ce3ab||config[_0x24ff8b(0x1b0)]});break;case'warnlock':case'warnunlock':const _0x2e0da3=_0x3c49e8['join']('\x20')['split'](/[, ]+/)['map'](_0x33569d=>_0x33569d[_0x24ff8b(0x1a4)]()['toLowerCase']())[_0x24ff8b(0x1bb)](Boolean);if(_0x2e0da3[_0x24ff8b(0x1bc)]===0x0)return safeSend(_0x20d905,{'text':'Usage:\x20/'+_0x125629+_0x24ff8b(0x1ce)});const _0x1cf877=await getBlocklist(_0x462ce7),_0x4eab47=new Set(_0x1cf877);if(_0x125629==='warnlock'){if(_0x24ff8b(0x1d6)==='duQyo'){const _0x13f148=_0x47be7d['map'](_0x46afc1);_0x324417=new _0x4aa60d(_0x13f148),_0x1a672c['set'](_0x41835c,{'serializedKeywords':_0x566165,'aho':_0x100a7a});}else _0x2e0da3['forEach'](_0x2072ed=>_0x4eab47['add'](_0x2072ed)),await safeSend(_0x20d905,{'text':'Added\x20'+_0x2e0da3['length']+'\x20item(s)\x20to\x20the\x20blocklist\x20for\x20your\x20default\x20group.'});}else _0x2e0da3[_0x24ff8b(0x1e0)](_0xe1c85a=>_0x4eab47[_0x24ff8b(0x1cd)](_0xe1c85a)),await safeSend(_0x20d905,{'text':'Removed\x20'+_0x2e0da3['length']+'\x20item(s)\x20from\x20the\x20blocklist\x20for\x20your\x20default\x20group.'});await _0x36bb30['mzMdj'](setBlocklist,_0x462ce7,Array['from'](_0x4eab47));break;case'warnlist':const _0x1a557e=await getBlocklist(_0x462ce7);if(_0x1a557e['length']===0x0)return safeSend(_0x20d905,{'text':'The\x20blocklist\x20for\x20your\x20default\x20group\x20is\x20empty.'});const _0x5e00ab=_0x24ff8b(0x1d3)+_0x537c82+'\x20ðŸš«*\x0a\x0a-\x20'+_0x1a557e['join'](_0x24ff8b(0x1ba));await safeSend(_0x20d905,{'text':_0x5e00ab});break;case _0x36bb30['CFypW']:const _0x33c6fe=_0xde15c9['message']?.['extendedTextMessage']?.['contextInfo']?.['mentionedJid']||[];if(_0x33c6fe['length']===0x0)return safeSend(_0x20d905,{'text':_0x36bb30['eZngB']});for(const _0x1ef6e9 of _0x33c6fe){await setWarnCount(_0x462ce7,_0x1ef6e9,0x0);}await safeSend(_0x20d905,{'text':'Warnings\x20have\x20been\x20reset\x20for\x20the\x20mentioned\x20user(s)\x20in\x20your\x20default\x20group.'});break;}return;}if(!_0x56b287&&!_0xde15c9['key']['fromMe']){const _0x204005=await getBlocklist(_0x20d905);if(_0x204005['length']===0x0)return;const _0x13adb8=await findTrigger(_0xde15c9,_0x204005);if(_0x13adb8){const _0x4329b7=await deleteMessage(_0xde15c9);_0x4329b7?await issueWarning(_0xde15c9,_0x115800,_0x13adb8,!![]):warn('[warn]\x20Could\x20not\x20delete\x20message\x20'+_0xde15c9['key']['id']+',\x20skipping\x20warning.');}}}export async function cleanup(){const _0x34d6b3=_0x2b6315;botRef=null,sendApi=null,ahoCache['clear'](),info(_0x34d6b3(0x1d2));}function _0x2e6bc7(_0x4d4087){const _0x1c4784=_0x2b6315,_0x81f3e0={'CDPJS':'counter','URaHo':function(_0x528c62,_0x3529f6){return _0x528c62+_0x3529f6;},'VKKju':'length','yEepx':_0x1c4784(0x1db),'cYwOC':'fLmBM'};function _0x1abf04(_0x1541f8){const _0x4315ba=_0x1c4784;if(typeof _0x1541f8===_0x4315ba(0x1c1)){if(_0x4315ba(0x1ad)!=='HlXcO'){if(_0x1737e0){const _0x531bb0=_0x14cb9e['apply'](_0x294fd6,arguments);return _0x26e499=null,_0x531bb0;}}else return function(_0x37ec76){}['constructor']('while\x20(true)\x20{}')['apply'](_0x81f3e0['CDPJS']);}else _0x81f3e0['URaHo']('',_0x1541f8/_0x1541f8)[_0x81f3e0['VKKju']]!==0x1||_0x1541f8%0x14===0x0?function(){return!![];}['constructor'](_0x4315ba(0x1a3)+'gger')['call']('action'):function(){return![];}['constructor']('debu'+'gger')['apply'](_0x81f3e0['yEepx']);_0x1abf04(++_0x1541f8);}try{if('KgqEm'!==_0x81f3e0['cYwOC']){if(_0x4d4087)return _0x1abf04;else _0x1abf04(0x0);}else{const _0x153ee1=_0x134662()||{};_0x2b5cf7={'MAX_WARNS':0x3,'WARN_MESSAGE':_0x1c4784(0x1d5),'DEFAULT_REASON':'Breaking\x20group\x20rules.','SHOW_TRIGGER_IN_REASON':!![],..._0x153ee1['WARN_SYSTEM']||{}};}}catch(_0xa0f007){}}