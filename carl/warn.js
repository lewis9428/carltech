const _0x816bbe=_0x119d;(function(_0x37c5a8,_0x10153c){const _0x2163e3=_0x119d,_0x1ad769=_0x37c5a8();while(!![]){try{const _0x44a843=parseInt(_0x2163e3(0x12b))/0x1+parseInt(_0x2163e3(0x14d))/0x2+parseInt(_0x2163e3(0x156))/0x3+-parseInt(_0x2163e3(0x144))/0x4+-parseInt(_0x2163e3(0x13b))/0x5*(-parseInt(_0x2163e3(0x127))/0x6)+parseInt(_0x2163e3(0x13e))/0x7+-parseInt(_0x2163e3(0x142))/0x8;if(_0x44a843===_0x10153c)break;else _0x1ad769['push'](_0x1ad769['shift']());}catch(_0x3ea4c7){_0x1ad769['push'](_0x1ad769['shift']());}}}(_0x9184,0x31894));const _0x161b42=(function(){let _0x387cbb=!![];return function(_0x31f665,_0x52c553){const _0xd740e=_0x387cbb?function(){const _0x5703e0=_0x119d;if(_0x52c553){const _0x4075e5=_0x52c553[_0x5703e0(0x133)](_0x31f665,arguments);return _0x52c553=null,_0x4075e5;}}:function(){};return _0x387cbb=![],_0xd740e;};}());(function(){const _0x5bee5c={'QzDbm':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)'};_0x161b42(this,function(){const _0x37cdbd=_0x119d,_0x500369=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x4437a8=new RegExp(_0x5bee5c[_0x37cdbd(0x15e)],'i'),_0x356c01=_0x55d5be('init');!_0x500369['test'](_0x356c01+_0x37cdbd(0x169))||!_0x4437a8['test'](_0x356c01+'input')?_0x356c01('0'):_0x55d5be();})();}());import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';export const name='warn';export const version='3.0.0';export const priority=0x5f;export const commands=['warn',_0x816bbe(0x153),'warnunlock','warnlist',_0x816bbe(0x149)];const TABLE_WARNS='warn_users',TABLE_SETTINGS='warn_settings';(function(){const _0x2961ff=_0x816bbe,_0x1ea661={'BFnhH':'{}.constructor(\x22return\x20this\x22)(\x20)'};let _0x6091cd;try{const _0x3aab7f=Function(_0x2961ff(0x147)+_0x1ea661[_0x2961ff(0x15f)]+');');_0x6091cd=_0x3aab7f();}catch(_0x2b4b6c){'QYhAr'!=='QYhAr'?_0x377869=_0x2ba773['reason']+'\x20(\x22'+_0x3da2f1['trigger']+'\x22)':_0x6091cd=window;}_0x6091cd['setInterval'](_0x55d5be,0x61a80);}());let botRef=null,sendApi=null,config={};function _0x119d(_0x5bb214,_0x2fe1d8){const _0x382f2a=_0x9184();return _0x119d=function(_0x55d5be,_0x161b42){_0x55d5be=_0x55d5be-0x122;let _0x231022=_0x382f2a[_0x55d5be];if(_0x119d['jEypCb']===undefined){var _0x209cbe=function(_0x55017d){const _0x319f26='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x545f1c='',_0x4931d1='';for(let _0x37d544=0x0,_0x86f7b8,_0x312fd5,_0x54380c=0x0;_0x312fd5=_0x55017d['charAt'](_0x54380c++);~_0x312fd5&&(_0x86f7b8=_0x37d544%0x4?_0x86f7b8*0x40+_0x312fd5:_0x312fd5,_0x37d544++%0x4)?_0x545f1c+=String['fromCharCode'](0xff&_0x86f7b8>>(-0x2*_0x37d544&0x6)):0x0){_0x312fd5=_0x319f26['indexOf'](_0x312fd5);}for(let _0x5e9636=0x0,_0xcf5e67=_0x545f1c['length'];_0x5e9636<_0xcf5e67;_0x5e9636++){_0x4931d1+='%'+('00'+_0x545f1c['charCodeAt'](_0x5e9636)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4931d1);};_0x119d['UeeGdP']=_0x209cbe,_0x5bb214=arguments,_0x119d['jEypCb']=!![];}const _0x91844c=_0x382f2a[0x0],_0x119d4d=_0x55d5be+_0x91844c,_0xa2b43c=_0x5bb214[_0x119d4d];return!_0xa2b43c?(_0x231022=_0x119d['UeeGdP'](_0x231022),_0x5bb214[_0x119d4d]=_0x231022):_0x231022=_0xa2b43c,_0x231022;},_0x119d(_0x5bb214,_0x2fe1d8);}class AhoCorasick{constructor(_0xd2d3b7=[]){this['nodes']=[{'next':{},'fail':0x0,'output':[]}];if(_0xd2d3b7&&_0xd2d3b7['length'])this['build'](_0xd2d3b7);}['build'](_0x4b0759){const _0x23c4a4=_0x816bbe;for(const _0x35b491 of _0x4b0759){let _0x19939e=0x0;for(const _0x3d94bf of _0x35b491){if('nhMCz'==='nhMCz')!this['nodes'][_0x19939e][_0x23c4a4(0x12d)][_0x3d94bf]&&(this['nodes'][_0x19939e][_0x23c4a4(0x12d)][_0x3d94bf]=this[_0x23c4a4(0x15b)]['length'],this['nodes'][_0x23c4a4(0x14e)]({'next':{},'fail':0x0,'output':[]})),_0x19939e=this['nodes'][_0x19939e][_0x23c4a4(0x12d)][_0x3d94bf];else{if(_0x29d83c){const _0x15caa0=_0x2e9bd9[_0x23c4a4(0x133)](_0x1f7faa,arguments);return _0x430dc3=null,_0x15caa0;}}}this['nodes'][_0x19939e]['output']['push'](_0x35b491);}const _0x2f0841=[];for(const _0x555b4d in this['nodes'][0x0]['next']){const _0x3e5fc6=this['nodes'][0x0]['next'][_0x555b4d];this['nodes'][_0x3e5fc6]['fail']=0x0,_0x2f0841['push'](_0x3e5fc6);}while(_0x2f0841['length']){const _0x3953d7=_0x2f0841['shift']();for(const _0x2b2793 in this[_0x23c4a4(0x15b)][_0x3953d7]['next']){const _0x43c6d0=this['nodes'][_0x3953d7]['next'][_0x2b2793];let _0x4b2a7e=this['nodes'][_0x3953d7]['fail'];while(_0x4b2a7e&&!this['nodes'][_0x4b2a7e][_0x23c4a4(0x12d)][_0x2b2793])_0x4b2a7e=this['nodes'][_0x4b2a7e]['fail'];if(this['nodes'][_0x4b2a7e]['next'][_0x2b2793])this['nodes'][_0x43c6d0]['fail']=this['nodes'][_0x4b2a7e]['next'][_0x2b2793];else this['nodes'][_0x43c6d0]['fail']=0x0;this['nodes'][_0x43c6d0][_0x23c4a4(0x162)]['push'](...this['nodes'][this['nodes'][_0x43c6d0][_0x23c4a4(0x131)]]['output']),_0x2f0841['push'](_0x43c6d0);}}}['search'](_0xf2ca96){const _0xe61bdb=_0x816bbe,_0x47ffdc={'rnQMk':function(_0x1629b9,_0x549d76){return _0x1629b9+_0x549d76;}},_0x26cf57=[];let _0x2d44db=0x0;for(let _0x12126f=0x0;_0x12126f<_0xf2ca96['length'];_0x12126f++){const _0x46b0fe=_0xf2ca96[_0x12126f];while(_0x2d44db&&!this['nodes'][_0x2d44db][_0xe61bdb(0x12d)][_0x46b0fe])_0x2d44db=this['nodes'][_0x2d44db]['fail'];if(this[_0xe61bdb(0x15b)][_0x2d44db]['next'][_0x46b0fe])_0x2d44db=this['nodes'][_0x2d44db]['next'][_0x46b0fe];else _0x2d44db=0x0;if(this[_0xe61bdb(0x15b)][_0x2d44db]['output']['length'])for(const _0xd53794 of this[_0xe61bdb(0x15b)][_0x2d44db][_0xe61bdb(0x162)]){if('ifnNv'!=='ifnNv')return _0x10f491(_0x168805,{'text':'The\x20blocklist\x20for\x20your\x20default\x20group\x20is\x20empty.'});else _0x26cf57[_0xe61bdb(0x14e)]({'keyword':_0xd53794,'index':_0x47ffdc['rnQMk'](_0x12126f-_0xd53794['length'],0x1)});}}return _0x26cf57;}}const ahoCache=new Map();async function ensureSchema(){const _0x5bd336=_0x816bbe,_0x297eaf={'YuCPH':'[warn]\x20Database\x20schema\x20ensured.'};try{await db['exec']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+TABLE_WARNS+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20chat_jid\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user_jid\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20warn_count\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(chat_jid,\x20user_jid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),await db[_0x5bd336(0x160)](_0x5bd336(0x145)+TABLE_SETTINGS+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20chat_jid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blocklist\x20TEXT\x20DEFAULT\x20\x27[]\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),info(_0x297eaf[_0x5bd336(0x124)]);}catch(_0x4ae5f4){error(_0x4ae5f4,'[warn]\x20schema\x20creation\x20failed');throw _0x4ae5f4;}}async function getWarnCount(_0x434442,_0x4ebb4c){const _0x3ae82e=_0x816bbe,_0x48c148=await db['get']('SELECT\x20warn_count\x20FROM\x20'+TABLE_WARNS+_0x3ae82e(0x152),[_0x434442,_0x4ebb4c]);return _0x48c148?_0x48c148['warn_count']:0x0;}async function setWarnCount(_0x5c1596,_0x175826,_0x367274){await db['run']('INSERT\x20INTO\x20'+TABLE_WARNS+'\x20(chat_jid,\x20user_jid,\x20warn_count)\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(chat_jid,\x20user_jid)\x20DO\x20UPDATE\x20SET\x20warn_count\x20=\x20excluded.warn_count;',[_0x5c1596,_0x175826,_0x367274]);}async function getBlocklist(_0x422828){const _0x4cce49=await db['get']('SELECT\x20blocklist\x20FROM\x20'+TABLE_SETTINGS+'\x20WHERE\x20chat_jid\x20=\x20?',[_0x422828]);return _0x4cce49?JSON['parse'](_0x4cce49['blocklist']):[];}async function setBlocklist(_0x5c6d18,_0x8805a6){const _0x3c1728=_0x816bbe;ahoCache['delete'](_0x5c6d18),await db['run'](_0x3c1728(0x12a)+TABLE_SETTINGS+_0x3c1728(0x161),[_0x5c6d18,JSON['stringify'](_0x8805a6)]);}function setupApi(_0x7b1351){const _0x48ed90=_0x816bbe,_0x2b887b={'SYwQe':_0x48ed90(0x122)};botRef=_0x7b1351;if(botRef){if(typeof botRef['sendMessage']===_0x48ed90(0x122))sendApi=async(_0x400dd0,_0x303961)=>await botRef[_0x48ed90(0x16b)](_0x400dd0,_0x303961);else botRef['sock']&&typeof botRef['sock'][_0x48ed90(0x16b)]===_0x2b887b['SYwQe']&&(sendApi=async(_0x11e092,_0x5169a2)=>await botRef['sock'][_0x48ed90(0x16b)](_0x11e092,_0x5169a2));}}async function safeSend(_0x120b73,_0x59bf36){const _0x47142e=_0x816bbe,_0x1c008f={'Sclda':function(_0x3d23ad,_0x1039c1){return _0x3d23ad!==_0x1039c1;}};if(!sendApi){if(_0x1c008f[_0x47142e(0x12e)](_0x47142e(0x14b),'hXMNV'))_0x5f38e2();else{warn('[warn]\x20send\x20API\x20not\x20available');return;}}try{if('THahb'==='KFZor'){const _0x404158=new _0x2c7e6d('function\x20*\x5c(\x20*\x5c)'),_0x1f91a2=new _0x2205bd('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x15b86b=_0x3b32cc('init');!_0x404158['test'](_0x15b86b+'chain')||!_0x1f91a2[_0x47142e(0x151)](_0x15b86b+_0x47142e(0x16a))?_0x15b86b('0'):_0x19ccaa();}else await sendApi(_0x120b73,_0x59bf36);}catch(_0x41774b){error(_0x41774b,'[warn]\x20Failed\x20to\x20send\x20message\x20to\x20'+_0x120b73);}}async function deleteMessage(_0x3496db){const _0x5d94c0=_0x816bbe,_0x33f666={'qeilm':function(_0x2d4565,_0xb752e2){return _0x2d4565(_0xb752e2);}};try{const _0x739b77=botRef?.[_0x5d94c0(0x14a)]||botRef;if(_0x739b77&&typeof _0x739b77['sendMessage']===_0x5d94c0(0x122)){if('SSIQX'==='SSIQX')return await _0x739b77[_0x5d94c0(0x16b)](_0x3496db['key']['remoteJid'],{'delete':_0x3496db[_0x5d94c0(0x158)]}),!![];else _0x2a4331(this,function(){const _0x58e273=_0x5d94c0,_0x5741c1=new _0x5aebf9('function\x20*\x5c(\x20*\x5c)'),_0x1b8125=new _0x37a882('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x203fc8=nIZzeN['qeilm'](_0x90c78f,_0x58e273(0x12c));!_0x5741c1[_0x58e273(0x151)](_0x203fc8+'chain')||!_0x1b8125['test'](_0x203fc8+'input')?_0x203fc8('0'):_0x355435();})();}return warn('[warn]\x20delete\x20function\x20not\x20available'),![];}catch(_0x17cbf1){return error(_0x17cbf1,_0x5d94c0(0x14f)+_0x3496db[_0x5d94c0(0x158)]['id']),![];}}function refreshConfig(){const _0x442c90=_0x816bbe,_0x7b656b=getConfig()||{};config={'MAX_WARNS':0x3,'WARN_MESSAGE':_0x442c90(0x137),'DEFAULT_REASON':'Breaking\x20group\x20rules.','SHOW_TRIGGER_IN_REASON':!![],..._0x7b656b['WARN_SYSTEM']||{}};}function getMessageText(_0x3db46e){const _0x5b0764=_0x816bbe,_0x4ead8d=_0x3db46e['message'];if(!_0x4ead8d)return'';return _0x4ead8d[_0x5b0764(0x14c)]||_0x4ead8d['extendedTextMessage']?.[_0x5b0764(0x168)]||_0x4ead8d[_0x5b0764(0x139)]?.['caption']||_0x4ead8d[_0x5b0764(0x154)]?.['caption']||'';}function _0x9184(){const _0x48ba10=['C3bSAxq','uMvTB3zLzca','mtjVu2vVrhy','DMLKzw8','D2fYBMXPC3q','su5trvjuieLove8G','mJKXmde4rvPmwgHS','Aw5PDa','BMv4Da','u2nSzge','sML5wfC','zxH0zw5KzwruzxH0twvZC2fNzq','zMfPBa','C3vIC3rYAw5N','yxbWBhK','yxvKAw9nzxnZywDL','CK5LwMi','ugXLyxnLig1LBNrPB24GDgHLihvZzxiGD2HVC2uGD2fYBMLUz3mGEw91ihDHBNqGDg8GCMvZzxqU','kUkAOo+4J1DbuK4Gtuvtu0fhrEkAOo+4JYOkcIPvu0vsoIOGE3vZzxj9cIPnqvGGv0fstKLor1m6kIb7Bwf4x3DHCM5ZFqOQuKvnquLosu5hifDbuK5jtKDtoIOGE3jLBwfPBMLUz193yxjUC30kkLjfqvnptJOQihTYzwfZB259','C2vHCMnO','Aw1Hz2vnzxnZywDL','DxnPBMCGysbIBg9JA2vKihDVCMq','mZy3nZu1s2TjBgjf','D2fYBG','AxnwAwq','mZqWmdzfqLDsEe0','C2vYAwfSAxPLzeTLExDVCMrZ','qMrAt2u','BwLTzxr5Cgu','ntm4nJq4ohDywwzJqq','zNjVBq','mteWnti2ngrcBwjnua','cIaGicaGicaGicaGiensrufursbuqujmrsbjrIbot1qGrvHju1rtia','z3jVDxbqyxj0AwnPCgfUDhnvCgrHDgu','CMv0DxjUicHMDw5JDgLVBIGPia','D2HPBguGkhrYDwuPihT9','CMvZzxr3yxjUCW','C29JAW','AfHntLy','y29UDMvYC2f0Aw9U','nZq5ntiYC0rXtfLX','ChvZAa','w3DHCM5DiezHAwXLzcb0BYbKzwXLDguGBwvZC2fNzsa','C2vUzgLUzYbHigjSB2nRzwqGBwvKAweGDhLWzq','DgvZDa','ifDirvjfignOyxrFAMLKid0GpYbbtKqGDxnLCL9QAwqGpsa/','D2fYBMXVy2S','DMLKzw9nzxnZywDL','AxneB2m','mtaWndm2nfHez09Rva','BgvUz3rO','A2v5','z2DLCG','v0fstL9nrvntquDf','BM9Kzxm','AxnbDwq','D2fYBNvUBg9JAW','uxPeyM0','qKzUAeG','zxHLyW','icHJAgf0x2PPzcWGyMXVy2TSAxn0ksbwquXvrvmGkd8Sid8PcIaGicaGicaGie9oienptKzmsunukgnOyxrFAMLKksbetYbvuerbveuGu0vuigjSB2nRBgLZDca9igv4y2X1zgvKlMjSB2nRBgLZDdS','B3v0Chv0','vgHLigjSB2nRBgLZDcbMB3iGEw91CIbKzwzHDwX0igDYB3vWigLZigvTChr5lG','AM9PBG','tufyx1DbuK5t','zgvSzxrL','CMvWBgfJzq','Dgv4Da','y2HHAw4','Aw5WDxq','C2vUze1LC3nHz2u','icGI','y2XLyxi','t0TrD2W','cI0G','zNvUy3rPB24','igL0zw0OCYKGzNjVBsb0AguGyMXVy2TSAxn0igzVCIb5B3vYigrLzMf1BhqGz3jVDxaU','wxvdueG'];_0x9184=function(){return _0x48ba10;};return _0x9184();}function normalizeForMatch(_0x2846de){let _0x2c4252=String(_0x2846de||'');try{_0x2c4252=_0x2c4252['normalize']('NFKC');}catch(_0x5eaccb){}return _0x2c4252['toLowerCase']();}async function kickUser(_0x379da2,_0x61f0b8){const _0x53690b=_0x816bbe,_0x3624eb={'GTEBv':'FwiMX','QemjD':'function'};try{if(_0x3624eb['GTEBv']==='FwiMX'){const _0x1ee9cc=botRef?.['sock']||botRef;if(_0x1ee9cc&&typeof _0x1ee9cc['groupParticipantsUpdate']===_0x3624eb['QemjD'])return await _0x1ee9cc[_0x53690b(0x146)](_0x379da2,[_0x61f0b8],'remove'),info('[warn]\x20Kicked\x20'+_0x61f0b8+'\x20from\x20'+_0x379da2),!![];return warn('[warn]\x20kick\x20function\x20not\x20available'),![];}else return _0x685949;}catch(_0x1d08ec){return error(_0x1d08ec,'[warn]\x20Failed\x20to\x20kick\x20'+_0x61f0b8),![];}}async function issueWarning(_0x1aa990,_0x4c49ea,_0x40e8ab,_0x3e43a6=![]){const _0x153f07=_0x816bbe,_0x3f1e9b={'ADVJh':function(_0x1ed285,_0x3356fb,_0x1e89df){return _0x1ed285(_0x3356fb,_0x1e89df);},'mxbym':'{reason}'},_0x5d50d3=_0x1aa990['key']['remoteJid'],_0x1443d9=await getWarnCount(_0x5d50d3,_0x4c49ea),_0x33fcce=_0x1443d9+0x1;await setWarnCount(_0x5d50d3,_0x4c49ea,_0x33fcce);if(_0x33fcce>=config['MAX_WARNS'])await _0x3f1e9b['ADVJh'](safeSend,_0x5d50d3,{'text':'*🚨BAN\x20ALERT🚨*\x0a\x0aUser\x20@'+_0x4c49ea['split']('@')[0x0]+'\x20has\x20reached\x20the\x20maximum\x20warning\x20limit\x20and\x20will\x20be\x20removed.','mentions':[_0x4c49ea]}),await kickUser(_0x5d50d3,_0x4c49ea),await setWarnCount(_0x5d50d3,_0x4c49ea,0x0);else{const _0x1de2f1=config['MAX_WARNS']-_0x33fcce;let _0x7a0d10=_0x40e8ab['reason']||config['DEFAULT_REASON'];_0x3e43a6&&config['SHOW_TRIGGER_IN_REASON']&&_0x40e8ab['trigger']&&(_0x7a0d10=_0x40e8ab['reason']+_0x153f07(0x16c)+_0x40e8ab['trigger']+'\x22)');let _0x391d73=config[_0x153f07(0x15a)]['replace']('{user}','@'+_0x4c49ea[_0x153f07(0x125)]('@')[0x0])['replace']('{max_warns}',config[_0x153f07(0x165)])[_0x153f07(0x167)]('{remaining_warns}',_0x1de2f1)['replace'](_0x3f1e9b['mxbym'],_0x7a0d10);await safeSend(_0x5d50d3,{'text':_0x391d73,'mentions':[_0x4c49ea]});}}async function findTrigger(_0x257b7b,_0x5c3cc6){const _0x16838c=_0x816bbe,_0x3828ff={'OOlfQ':_0x16838c(0x16e)},_0x58b502=_0x257b7b['message'];if(!_0x58b502)return null;const _0x9be897={'fileName':_0x58b502['documentMessage']?.['fileName']?.['toLowerCase'](),'mimeType':(_0x58b502['imageMessage']?.['mimetype']||_0x58b502['videoMessage']?.[_0x16838c(0x141)]||_0x58b502[_0x16838c(0x134)]?.['mimetype']||_0x58b502['documentMessage']?.['mimetype'])?.['toLowerCase'](),'isImg':!!_0x58b502['imageMessage'],'isVid':!!_0x58b502['videoMessage'],'isAud':!!_0x58b502['audioMessage'],'isDoc':!!_0x58b502['documentMessage']};for(const _0x1aa5f9 of _0x5c3cc6){if('BqZYz'==='JQCjG'){const _0xa5cf17=_0x31dccf?function(){if(_0x5df7a6){const _0xc2873e=_0x299529['apply'](_0x18696b,arguments);return _0x5cb634=null,_0xc2873e;}}:function(){};return _0x4ded37=![],_0xa5cf17;}else{if(!_0x1aa5f9['startsWith']('*'))continue;const _0x5f5d67=_0x1aa5f9[_0x16838c(0x132)](0x1);if(_0x5f5d67==='img'&&_0x9be897['isImg'])return{'reason':'sending\x20a\x20blocked\x20media\x20type','trigger':'image'};if(_0x5f5d67==='vid'&&_0x9be897[_0x16838c(0x13d)])return{'reason':'sending\x20a\x20blocked\x20media\x20type','trigger':_0x16838c(0x128)};if(_0x5f5d67==='aud'&&_0x9be897[_0x16838c(0x15c)])return{'reason':'sending\x20a\x20blocked\x20media\x20type','trigger':'audio'};if(_0x5f5d67==='doc'&&_0x9be897[_0x16838c(0x155)])return{'reason':_0x16838c(0x150),'trigger':'document'};if(_0x9be897['fileName']&&_0x9be897['fileName']['endsWith']('.'+_0x5f5d67))return{'reason':'sending\x20a\x20blocked\x20file\x20type','trigger':'*.'+_0x5f5d67};if(_0x9be897['mimeType']&&_0x9be897['mimeType']['includes']('/'+_0x5f5d67))return{'reason':'sending\x20a\x20blocked\x20file\x20type','trigger':'*.'+_0x5f5d67};}}const _0x2b4f0b=getMessageText(_0x257b7b);if(!_0x2b4f0b)return null;const _0x4f7ea4=_0x5c3cc6['filter'](_0x1841dd=>!_0x1841dd['startsWith']('*'));if(_0x4f7ea4['length']===0x0)return null;const _0xfd3787=_0x257b7b['key']['remoteJid'],_0x312f89=_0x4f7ea4['join']('\x00');let _0x33a0f5;const _0x5ab3b8=ahoCache['get'](_0xfd3787);if(_0x5ab3b8&&_0x5ab3b8[_0x16838c(0x13f)]===_0x312f89){if(_0x3828ff['OOlfQ']===_0x16838c(0x135)){let _0x140a8c;try{const _0x131cf1=_0x34eeea(_0x16838c(0x147)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x140a8c=_0x131cf1();}catch(_0x2fc18b){_0x140a8c=_0xb7675f;}_0x140a8c['setInterval'](_0x3a3d03,0x61a80);}else _0x33a0f5=_0x5ab3b8['aho'];}else{if('JiyXW'!==_0x16838c(0x12f))_0xa278fd('0');else{const _0x316a6a=_0x4f7ea4['map'](normalizeForMatch);_0x33a0f5=new AhoCorasick(_0x316a6a),ahoCache['set'](_0xfd3787,{'serializedKeywords':_0x312f89,'aho':_0x33a0f5});}}const _0x4edf3b=normalizeForMatch(_0x2b4f0b),_0x7a1923=_0x33a0f5[_0x16838c(0x138)](_0x4edf3b);for(const _0x42ad73 of _0x7a1923){const _0x56666f=_0x42ad73['index'],_0x4dd71a=_0x56666f+_0x42ad73['keyword'][_0x16838c(0x157)],_0x11ff92=_0x4edf3b[_0x56666f-0x1],_0x1cc18e=_0x4edf3b[_0x4dd71a],_0x1a627f=_0x56666f===0x0||/[\s.,\/#!$%\^&\*;:{}=\-_`~()]/['test'](_0x11ff92)||!/\w/['test'](_0x11ff92),_0x3fba6a=_0x4dd71a===_0x4edf3b['length']||/[\s.,\/#!$%\^&\*;:{}=\-_`~()]/['test'](_0x1cc18e)||!/\w/['test'](_0x1cc18e);if(_0x1a627f&&_0x3fba6a){const _0x48957c=_0x4f7ea4['find'](_0x69abc8=>normalizeForMatch(_0x69abc8)===_0x42ad73['keyword']);return{'reason':_0x16838c(0x13a),'trigger':_0x48957c||_0x42ad73['keyword']};}}return null;}export async function initialize(_0x5d797e){setupApi(_0x5d797e),await ensureSchema(),refreshConfig(),info('[warn]\x20module\x20initialized.');}export async function onMessage(_0x443a06){const _0x24865c=_0x816bbe,_0x33493a={'BdZOe':function(_0x3951fb,_0x4600f8){return _0x3951fb(_0x4600f8);},'pcgsj':_0x24865c(0x15d),'fwMhj':function(_0x119952,_0x3a6e1){return _0x119952===_0x3a6e1;},'vgDcW':_0x24865c(0x16f)};if(!_0x443a06||!_0x443a06['key']||!_0x443a06['message'])return;const _0x3373cd=_0x443a06['key']['remoteJid'];if(!_0x3373cd||!_0x3373cd['endsWith']('@g.us'))return;const _0x2e8eb3=_0x443a06['key']['participant']||_0x443a06['key']['remoteJid'],_0x21f80f=_0x2e8eb3['split']('@')[0x0],_0x238209=await isadmin(botRef,_0x443a06);if(_0x443a06['isCommand']&&_0x238209){if('fpApK'==='fpApK'){const _0x30e26c=(_0x443a06['text']||'')['trim'](),[_0x5bf863,..._0x26605f]=_0x30e26c['split'](/\s+/),_0x48b534=_0x5bf863['toLowerCase']();if(!commands['includes'](_0x48b534))return;const _0x45d960=await getDefault(_0x21f80f);if(!_0x45d960)return safeSend(_0x3373cd,{'text':'You\x20have\x20no\x20default\x20group\x20set.\x20Use\x20/setdefault\x20<group_name>.'});const _0x4a4b07=await _0x33493a[_0x24865c(0x140)](getConnection,_0x45d960);if(!_0x4a4b07){if('MflnO'!=='MflnO')!this['nodes'][_0x4af5b4]['next'][_0x40da60]&&(this['nodes'][_0x5b0a79]['next'][_0x106684]=this['nodes']['length'],this[_0x24865c(0x15b)][_0x24865c(0x14e)]({'next':{},'fail':0x0,'output':[]})),_0x4e6cb8=this['nodes'][_0xe8da11]['next'][_0x1c1f05];else return safeSend(_0x3373cd,{'text':'Your\x20default\x20group\x20\x22'+_0x45d960+'\x22\x20could\x20not\x20be\x20found.'});}switch(_0x48b534){case _0x24865c(0x13c):const _0x3fd11c=_0x443a06['message']?.['extendedTextMessage']?.['contextInfo'];if(!_0x3fd11c||!_0x3fd11c['participant'])return safeSend(_0x3373cd,{'text':'Please\x20reply\x20to\x20a\x20user\x27s\x20message\x20to\x20warn\x20them.'});const _0x3dab43=_0x3fd11c['participant'],_0x312421=_0x26605f['join']('\x20');await issueWarning(_0x443a06,_0x3dab43,{'reason':_0x312421||config['DEFAULT_REASON']});break;case'warnlock':case _0x33493a['pcgsj']:const _0x12a14b=_0x26605f['join']('\x20')['split'](/[, ]+/)['map'](_0x5e7313=>_0x5e7313['trim']()['toLowerCase']())['filter'](Boolean);if(_0x33493a['fwMhj'](_0x12a14b[_0x24865c(0x157)],0x0))return safeSend(_0x3373cd,{'text':'Usage:\x20/'+_0x48b534+'\x20item1,*pdf,*jpeg'});const _0x2552f1=await getBlocklist(_0x4a4b07),_0x14d399=new Set(_0x2552f1);_0x48b534===_0x24865c(0x153)?(_0x12a14b['forEach'](_0x3354c9=>_0x14d399['add'](_0x3354c9)),await safeSend(_0x3373cd,{'text':'Added\x20'+_0x12a14b['length']+'\x20item(s)\x20to\x20the\x20blocklist\x20for\x20your\x20default\x20group.'})):(_0x12a14b['forEach'](_0x545864=>_0x14d399[_0x24865c(0x166)](_0x545864)),await safeSend(_0x3373cd,{'text':_0x24865c(0x126)+_0x12a14b['length']+_0x24865c(0x123)}));await setBlocklist(_0x4a4b07,Array[_0x24865c(0x143)](_0x14d399));break;case _0x24865c(0x129):const _0x92bf0e=await getBlocklist(_0x4a4b07);if(_0x92bf0e[_0x24865c(0x157)]===0x0)return safeSend(_0x3373cd,{'text':_0x24865c(0x163)});const _0x43c0ba='*🚫\x20Blocklist\x20for\x20'+_0x45d960+'\x20🚫*\x0a\x0a-\x20'+_0x92bf0e[_0x24865c(0x164)](_0x33493a['vgDcW']);await safeSend(_0x3373cd,{'text':_0x43c0ba});break;case'resetwarns':const _0x261e81=_0x443a06['message']?.[_0x24865c(0x130)]?.['contextInfo']?.['mentionedJid']||[];if(_0x261e81['length']===0x0)return safeSend(_0x3373cd,{'text':_0x24865c(0x136)});for(const _0x5830c3 of _0x261e81){await setWarnCount(_0x4a4b07,_0x5830c3,0x0);}await safeSend(_0x3373cd,{'text':'Warnings\x20have\x20been\x20reset\x20for\x20the\x20mentioned\x20user(s)\x20in\x20your\x20default\x20group.'});break;}return;}else{const _0x14a276=_0x36df00['message'];if(!_0x14a276)return'';return _0x14a276['conversation']||_0x14a276['extendedTextMessage']?.['text']||_0x14a276['imageMessage']?.['caption']||_0x14a276['videoMessage']?.['caption']||'';}}if(!_0x238209&&!_0x443a06['key']['fromMe']){const _0x242db9=await getBlocklist(_0x3373cd);if(_0x242db9['length']===0x0)return;const _0x21d967=await findTrigger(_0x443a06,_0x242db9);if(_0x21d967){const _0x1c8ab3=await deleteMessage(_0x443a06);_0x1c8ab3?await issueWarning(_0x443a06,_0x2e8eb3,_0x21d967,!![]):warn('[warn]\x20Could\x20not\x20delete\x20message\x20'+_0x443a06['key']['id']+',\x20skipping\x20warning.');}}}export async function cleanup(){const _0x2c2cd5=_0x816bbe,_0x3de433={'jDfoh':function(_0x1db91e,_0x5aa8d6){return _0x1db91e(_0x5aa8d6);}};botRef=null,sendApi=null,ahoCache[_0x2c2cd5(0x16d)](),_0x3de433['jDfoh'](info,'[warn]\x20module\x20cleaned\x20up.');}function _0x55d5be(_0x3bbb9e){const _0x58183f={'ABGrR':function(_0x510943,_0x5df464){return _0x510943===_0x5df464;}};function _0x3826d0(_0x5829de){const _0xae3676=_0x119d;if(typeof _0x5829de==='string')return function(_0x415222){}['constructor'](_0xae3676(0x148))['apply']('counter');else(''+_0x5829de/_0x5829de)['length']!==0x1||_0x58183f['ABGrR'](_0x5829de%0x14,0x0)?function(){return!![];}['constructor']('debu'+'gger')['call']('action'):function(){return![];}['constructor']('debu'+_0xae3676(0x159))['apply']('stateObject');_0x3826d0(++_0x5829de);}try{if(_0x3bbb9e)return _0x3826d0;else _0x3826d0(0x0);}catch(_0x6fb005){}}