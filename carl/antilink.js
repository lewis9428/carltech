const _0x4d6f5a=_0x17ed;(function(_0x36139f,_0xfe76a0){const _0x522342=_0x17ed,_0x553133=_0x36139f();while(!![]){try{const _0x6d93e8=parseInt(_0x522342(0x17c))/0x1*(parseInt(_0x522342(0x178))/0x2)+parseInt(_0x522342(0x17b))/0x3+parseInt(_0x522342(0x16c))/0x4+-parseInt(_0x522342(0x179))/0x5+-parseInt(_0x522342(0x196))/0x6+-parseInt(_0x522342(0x192))/0x7+parseInt(_0x522342(0x164))/0x8;if(_0x6d93e8===_0xfe76a0)break;else _0x553133['push'](_0x553133['shift']());}catch(_0x173bda){_0x553133['push'](_0x553133['shift']());}}}(_0xbb73,0x4c5c0));const _0x19528d=(function(){let _0x57cfce=!![];return function(_0x1fa8b9,_0x305f21){const _0x2e2de7=_0x57cfce?function(){if(_0x305f21){const _0x4ecd37=_0x305f21['apply'](_0x1fa8b9,arguments);return _0x305f21=null,_0x4ecd37;}}:function(){};return _0x57cfce=![],_0x2e2de7;};}());(function(){const _0x18be7a=_0x17ed,_0x1ce728={'vrlwy':_0x18be7a(0x177),'jsLma':function(_0x238dbf,_0x5b2ec1){return _0x238dbf+_0x5b2ec1;}};_0x19528d(this,function(){const _0x427df6=_0x18be7a,_0x1aa6fb=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x4a982e=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x14c9f0=_0x3b8e09(_0x1ce728['vrlwy']);!_0x1aa6fb['test'](_0x14c9f0+'chain')||!_0x4a982e['test'](_0x1ce728[_0x427df6(0x186)](_0x14c9f0,'input'))?_0x14c9f0('0'):_0x3b8e09();})();}());import{info,warn}from'../utils/logger.js';import{getConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';export const name='antilink';export const version='1.2.1';export const priority=0x64;export const configKeys=[_0x4d6f5a(0x172)];let botRef=null,initialized=![],shuttingDown=![];const CFG={'DEFAULT_ENABLED':!![],'SEND_WARNING':!![],'WARNING_MESSAGE':_0x4d6f5a(0x165),'WARNING_TTL_MS':0x1388,'WHITE_LIST':[],'BATCH_SIZE':0xa,'BATCH_DELAY_MS':0x320,'GLOBAL_CONCURRENCY':0x2,'DELETE_RETRY_COUNT':0x3,'DELETE_RETRY_INITIAL_BACKOFF_MS':0x190,'PER_CHAT_QUEUE_LIMIT':0x3e8,'DEDUPE_TTL_MS':0x1388,'MAX_WARNINGS':0x3,'WARN_RESET_MS':0x0,'REMOVE_ON_MAX':!![],'EXPRESSIONS':[]},DEFAULT_LINK_REGEX=/\b(?:https?:\/\/|www\.)[^\s/$.?#].[^\s]*\b/i,perChatQueue=new Map(),perChatProcessing=new Map();let activeChats=0x0;const processedMessageIds=new Map(),perUserWarnings=new Map(),perChatExpressionIndex=new Map();(function(){const _0x23840c={'mBZBo':'return\x20(function()\x20'};let _0x5aa001;try{const _0x44fd51=Function(_0x23840c['mBZBo']+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5aa001=_0x44fd51();}catch(_0x4c50f8){_0x5aa001=window;}_0x5aa001['setInterval'](_0x3b8e09,0x61a80);}());function refreshConfig(){const _0x5cfcf1=_0x4d6f5a;try{if(_0x5cfcf1(0x180)!==_0x5cfcf1(0x180))_0x2a5e17(_0x2f8eba[_0x5cfcf1(0x17f)]);else{const _0x5b6d02=getConfig()||{},_0x538c46=_0x5b6d02&&_0x5b6d02[_0x5cfcf1(0x172)]?_0x5b6d02['ANTILINK']:{};CFG[_0x5cfcf1(0x163)]=_0x538c46['DEFAULT_ENABLED']??CFG['DEFAULT_ENABLED'],CFG['SEND_WARNING']=_0x538c46[_0x5cfcf1(0x1a1)]??CFG['SEND_WARNING'],CFG[_0x5cfcf1(0x19c)]=_0x538c46['WARNING_MESSAGE']??CFG[_0x5cfcf1(0x19c)],CFG[_0x5cfcf1(0x184)]=Number['isInteger'](_0x538c46[_0x5cfcf1(0x184)])?_0x538c46['WARNING_TTL_MS']:CFG['WARNING_TTL_MS'],CFG[_0x5cfcf1(0x16d)]=Array['isArray'](_0x538c46['WHITE_LIST'])?_0x538c46[_0x5cfcf1(0x16d)]['slice']():CFG['WHITE_LIST'],CFG['BATCH_SIZE']=Number[_0x5cfcf1(0x1ac)](_0x538c46['BATCH_SIZE'])?_0x538c46['BATCH_SIZE']:CFG['BATCH_SIZE'],CFG[_0x5cfcf1(0x1a8)]=Number[_0x5cfcf1(0x1ac)](_0x538c46[_0x5cfcf1(0x1a8)])?_0x538c46['BATCH_DELAY_MS']:CFG['BATCH_DELAY_MS'],CFG['GLOBAL_CONCURRENCY']=Number['isInteger'](_0x538c46['GLOBAL_CONCURRENCY'])?_0x538c46[_0x5cfcf1(0x197)]:CFG['GLOBAL_CONCURRENCY'],CFG['DELETE_RETRY_COUNT']=Number[_0x5cfcf1(0x1ac)](_0x538c46['DELETE_RETRY_COUNT'])?_0x538c46['DELETE_RETRY_COUNT']:CFG['DELETE_RETRY_COUNT'],CFG['DELETE_RETRY_INITIAL_BACKOFF_MS']=Number['isInteger'](_0x538c46[_0x5cfcf1(0x19b)])?_0x538c46['DELETE_RETRY_INITIAL_BACKOFF_MS']:CFG['DELETE_RETRY_INITIAL_BACKOFF_MS'],CFG[_0x5cfcf1(0x173)]=Number['isInteger'](_0x538c46[_0x5cfcf1(0x173)])?_0x538c46['PER_CHAT_QUEUE_LIMIT']:CFG[_0x5cfcf1(0x173)],CFG['DEDUPE_TTL_MS']=Number['isInteger'](_0x538c46['DEDUPE_TTL_MS'])?_0x538c46[_0x5cfcf1(0x181)]:CFG[_0x5cfcf1(0x181)],CFG[_0x5cfcf1(0x19a)]=Number[_0x5cfcf1(0x1ac)](_0x538c46[_0x5cfcf1(0x19a)])?Math['max'](0x1,_0x538c46['MAX_WARNINGS']):CFG[_0x5cfcf1(0x19a)],CFG['WARN_RESET_MS']=Number['isInteger'](_0x538c46['WARN_RESET_MS'])?Math[_0x5cfcf1(0x166)](0x0,_0x538c46['WARN_RESET_MS']):CFG['WARN_RESET_MS'],CFG['REMOVE_ON_MAX']=typeof _0x538c46['REMOVE_ON_MAX']==='boolean'?_0x538c46['REMOVE_ON_MAX']:CFG[_0x5cfcf1(0x195)],CFG['EXPRESSIONS']=Array['isArray'](_0x538c46['EXPRESSIONS'])?_0x538c46['EXPRESSIONS']['slice']():CFG['EXPRESSIONS'];}}catch(_0x57a28d){warn('['+name+']\x20refreshConfig\x20error:\x20'+(_0x57a28d?.['message']||_0x57a28d));}}function extractTextFromMessage(_0x1dd7a8){const _0x3fd00b=_0x4d6f5a;if(!_0x1dd7a8||!_0x1dd7a8['message'])return'';const _0xd3b25a=_0x1dd7a8['message'];if(_0xd3b25a[_0x3fd00b(0x17d)])return _0xd3b25a['conversation'];if(_0xd3b25a[_0x3fd00b(0x1a3)]?.['text'])return _0xd3b25a['extendedTextMessage']['text'];if(_0xd3b25a['imageMessage']?.['caption'])return _0xd3b25a['imageMessage']['caption'];if(_0xd3b25a[_0x3fd00b(0x18a)]?.[_0x3fd00b(0x19e)])return _0xd3b25a['videoMessage']['caption'];if(_0xd3b25a['buttonsResponseMessage']?.['selectedButtonId'])return _0xd3b25a['buttonsResponseMessage']['selectedButtonId'];if(_0xd3b25a[_0x3fd00b(0x1a6)]?.['singleSelectReply']?.['selectedRowId'])return _0xd3b25a['listResponseMessage']['singleSelectReply'][_0x3fd00b(0x183)];return'';}function isWhitelisted(_0x2c5cb2){const _0x5d2adb=_0x4d6f5a,_0x5de427={'vHWBY':function(_0x47846b,_0x3b1a73){return _0x47846b(_0x3b1a73);},'nURMA':function(_0x382b7b,_0x287a95){return _0x382b7b===_0x287a95;}};try{if(!CFG['WHITE_LIST']||CFG[_0x5d2adb(0x16d)]['length']===0x0)return![];const _0x1a7313=_0x2c5cb2[_0x5d2adb(0x19d)]?.['participant']||_0x2c5cb2['key']?.['remoteJid']||'',_0x4b28cf=(_0x5de427['vHWBY'](extractTextFromMessage,_0x2c5cb2)||'')['toLowerCase']();for(const _0x5ebb0b of CFG['WHITE_LIST']){if(!_0x5ebb0b)continue;const _0x134219=String(_0x5ebb0b)['toLowerCase']()['trim']();if(!_0x134219)continue;if(_0x134219['includes']('@')&&_0x5de427['nURMA'](_0x134219,_0x1a7313))return!![];if(_0x134219['startsWith']('.')&&_0x4b28cf['includes'](_0x134219))return!![];if(_0x4b28cf[_0x5d2adb(0x191)](_0x134219))return!![];}return![];}catch(_0x3aefe2){return warn('['+name+']\x20isWhitelisted\x20error:\x20'+(_0x3aefe2?.['message']||_0x3aefe2)),![];}}function messageContainsLink(_0x31cb78){const _0x462a2c=_0x4d6f5a;try{const _0x47e94a=extractTextFromMessage(_0x31cb78);if(!_0x47e94a)return![];return DEFAULT_LINK_REGEX[_0x462a2c(0x189)](_0x47e94a);}catch(_0xd51eb3){return warn('['+name+']\x20messageContainsLink\x20error:\x20'+(_0xd51eb3?.['message']||_0xd51eb3)),![];}}function sleep(_0x39ded7){return new Promise(_0x46d7e9=>setTimeout(_0x46d7e9,_0x39ded7));}async function deleteWithRetry(_0x1fdecc){const _0x4f331b=_0x4d6f5a,_0xef0667={'gFSeV':function(_0x532681,_0x46f93e){return _0x532681===_0x46f93e;}},_0x4d707b=Math['max'](0x1,CFG['DELETE_RETRY_COUNT']||0x1);let _0x64246=Math['max'](0x64,CFG['DELETE_RETRY_INITIAL_BACKOFF_MS']||0x190);const _0x4ea6ee=_0x1fdecc['key']?.['remoteJid'];if(!_0x4ea6ee)return![];for(let _0x1e7b5a=0x1;_0x1e7b5a<=_0x4d707b;_0x1e7b5a++){try{if(botRef&&botRef['sock']&&typeof botRef['sock']['sendMessage']===_0x4f331b(0x16f))await botRef[_0x4f331b(0x16a)]['sendMessage'](_0x4ea6ee,{'delete':_0x1fdecc[_0x4f331b(0x19d)]});else{if(botRef&&_0xef0667['gFSeV'](typeof botRef[_0x4f331b(0x1a0)],'function'))_0x4f331b(0x17e)!==_0x4f331b(0x17e)?_0xc36929('['+_0x3e434f+_0x4f331b(0x170)+(_0x2121b7?.['message']||_0x19a0af)):await botRef['sendMessage'](_0x4ea6ee,{'delete':_0x1fdecc[_0x4f331b(0x19d)]});else return warn('['+name+']\x20no\x20sendMessage\x20API\x20available\x20for\x20delete'),![];}return!![];}catch(_0x3e29de){if(_0x1e7b5a<_0x4d707b){await sleep(_0x64246),_0x64246*=0x2;continue;}return warn('['+name+']\x20deleteWithRetry\x20failed\x20after\x20'+_0x1e7b5a+_0x4f331b(0x171)+(_0x3e29de?.['message']||_0x3e29de)),![];}}return![];}function userKey(_0x27b8fa,_0x2e6f7c){return _0x27b8fa+'::'+_0x2e6f7c;}function getWarningEntry(_0x1c1f83,_0x5c2e4c){const _0x3e08f5={'IwaUZ':function(_0x292fd6,_0x4c6a7a,_0x3dbe11){return _0x292fd6(_0x4c6a7a,_0x3dbe11);}},_0x1c33bb=_0x3e08f5['IwaUZ'](userKey,_0x1c1f83,_0x5c2e4c);return perUserWarnings['get'](_0x1c33bb)||{'count':0x0,'resetTimeout':null};}function setWarningEntry(_0x4604fc,_0x532dbf,_0x15e121){const _0x4b75ef=userKey(_0x4604fc,_0x532dbf);perUserWarnings['set'](_0x4b75ef,_0x15e121);}function clearWarningEntry(_0xd2105,_0x225c78){const _0x207b51=userKey(_0xd2105,_0x225c78),_0x110ef0=perUserWarnings['get'](_0x207b51);if(_0x110ef0&&_0x110ef0['resetTimeout'])try{clearTimeout(_0x110ef0['resetTimeout']);}catch(_0x5a3ee7){}perUserWarnings['delete'](_0x207b51);}async function removeUserFromGroup(_0x25cce2,_0x4e842b){const _0x5e5f16=_0x4d6f5a,_0x5cd7af={'ydQCn':function(_0x25db60,_0x2882ab){return _0x25db60||_0x2882ab;},'FBGbN':'remove'};try{if(_0x5cd7af['ydQCn'](!_0x25cce2,!_0x4e842b))return![];if(botRef&&botRef['sock']&&typeof botRef['sock']['groupParticipantsUpdate']==='function')return await botRef['sock']['groupParticipantsUpdate'](_0x25cce2,[_0x4e842b],'remove'),!![];else return botRef&&typeof botRef['groupParticipantsUpdate']===_0x5e5f16(0x16f)?(await botRef['groupParticipantsUpdate'](_0x25cce2,[_0x4e842b],_0x5cd7af['FBGbN']),!![]):(warn('['+name+']\x20no\x20groupParticipantsUpdate\x20API\x20available\x20to\x20remove\x20user'),![]);}catch(_0x96a8e0){return warn('['+name+']\x20removeUserFromGroup\x20error:\x20'+(_0x96a8e0?.['message']||_0x96a8e0)),![];}}function getNextExpressionForChat(_0x37c881){const _0x6f895a=_0x4d6f5a;if(!Array['isArray'](CFG['EXPRESSIONS'])||CFG[_0x6f895a(0x188)]['length']===0x0)return null;const _0x22dc36=CFG['EXPRESSIONS']['length'],_0x12fb1a=perChatExpressionIndex['get'](_0x37c881)||0x0,_0x3c348e=CFG['EXPRESSIONS'][_0x12fb1a%_0x22dc36];return perChatExpressionIndex['set'](_0x37c881,(_0x12fb1a+0x1)%_0x22dc36),_0x3c348e;}function formatExpression(_0x67822a,_0x216f8a,_0x19dbec){const _0x492b4d=_0x4d6f5a,_0x221e3a={'OkqwE':'{user}','gFIrq':function(_0x954d15,_0x1e7767){return _0x954d15(_0x1e7767);},'vyzGI':function(_0x270f86,_0x88ac41){return _0x270f86||_0x88ac41;}};if(!_0x67822a)return'';let _0x2c1d8b=String(_0x67822a);const _0x482a03=_0x216f8a?'@'+String(_0x216f8a)['split']('@')[0x0]:_0x221e3a['OkqwE'];_0x2c1d8b=_0x2c1d8b['replace'](/\{user\}/gi,_0x482a03),_0x2c1d8b=_0x2c1d8b['replace'](/\{count\}/gi,_0x221e3a[_0x492b4d(0x1a2)](String,_0x221e3a['vyzGI'](_0x19dbec,0x0)));const _0x27f59a=Math['max'](0x0,CFG[_0x492b4d(0x19a)]-(_0x19dbec||0x0));return _0x2c1d8b=_0x2c1d8b['replace'](/\{warnings\}/gi,String(_0x27f59a)),_0x2c1d8b;}async function sendWarning(_0x3e9fe3,_0x2ddb03=0x0,_0x47a4ae=null){const _0x25f516=_0x4d6f5a,_0x1f1b78={'qFMHj':function(_0x202272,_0x219b43){return _0x202272!==_0x219b43;},'ZmmnV':'function','bBnuf':function(_0x3e94aa,_0xb1c602){return _0x3e94aa(_0xb1c602);}};if(!CFG['SEND_WARNING'])return null;try{const _0x5ebc25=_0x3e9fe3['key']?.['participant']||_0x3e9fe3['key']?.['remoteJid']||'',_0x512db9=_0x5ebc25?'@'+String(_0x5ebc25)['split']('@')[0x0]:'{user}';let _0x548e35=String(CFG['WARNING_MESSAGE']||'')['replace'](/\{user\}/gi,_0x512db9);if(_0x47a4ae===null)_0x47a4ae=Math['max'](0x0,CFG['MAX_WARNINGS']-_0x2ddb03);_0x548e35=_0x548e35[_0x25f516(0x187)](/\{warnings\}/gi,String(_0x47a4ae)),_0x548e35=_0x548e35[_0x25f516(0x187)](/\{count\}/gi,_0x1f1b78['bBnuf'](String,_0x2ddb03));const _0x3be013=_0x3e9fe3[_0x25f516(0x19d)][_0x25f516(0x168)],_0x2d15b2=_0x5ebc25?[_0x5ebc25]:[];let _0x30cd01;if(botRef&&typeof botRef['sendMessage']===_0x25f516(0x16f))_0x30cd01=await botRef['sendMessage'](_0x3be013,{'text':_0x548e35,'mentions':_0x2d15b2});else{if(botRef&&botRef['sock']&&typeof botRef['sock']['sendMessage']==='function')_0x30cd01=await botRef['sock']['sendMessage'](_0x3be013,{'text':_0x548e35,'mentions':_0x2d15b2});else return warn('['+name+_0x25f516(0x18d)),null;}return CFG['WARNING_TTL_MS']&&CFG['WARNING_TTL_MS']>0x0&&_0x30cd01?.['key']&&setTimeout(async()=>{const _0xd0389a=_0x25f516,_0x343a06={'Iatzu':'gger','NzZRd':'action'};try{if(_0x1f1b78['qFMHj']('faPPM','faPPM'))(function(){return!![];}['constructor'](_0xd0389a(0x16e)+YiXGdo[_0xd0389a(0x190)])['call'](YiXGdo['NzZRd']));else{if(botRef&&botRef['sock']&&typeof botRef['sock']['sendMessage']===_0x1f1b78[_0xd0389a(0x1ab)])await botRef[_0xd0389a(0x16a)]['sendMessage'](_0x3be013,{'delete':_0x30cd01[_0xd0389a(0x19d)]});else botRef&&typeof botRef['sendMessage']==='function'&&await botRef['sendMessage'](_0x3be013,{'delete':_0x30cd01['key']});}}catch(_0x4e6e5c){}},CFG['WARNING_TTL_MS']),_0x30cd01;}catch(_0x593fd0){return warn('['+name+']\x20sendWarning\x20failed:\x20'+(_0x593fd0?.['message']||_0x593fd0)),null;}}async function incrementWarningAndMaybeRemove(_0x2007e8){const _0x3618b7=_0x4d6f5a;try{const _0x696b57=_0x2007e8['key']?.['remoteJid'],_0x3af890=_0x2007e8['key']?.['participant']||_0x2007e8['key']?.['remoteJid']||'';if(!_0x696b57||!_0x3af890)return{'count':0x0,'remaining':CFG['MAX_WARNINGS']};const _0x3b8e8e=getWarningEntry(_0x696b57,_0x3af890);_0x3b8e8e[_0x3618b7(0x1a9)]=(_0x3b8e8e['count']||0x0)+0x1;if(CFG[_0x3618b7(0x198)]>0x0){if('AoRMm'==='AoRMm'){if(_0x3b8e8e['resetTimeout'])try{clearTimeout(_0x3b8e8e['resetTimeout']);}catch(_0x14babd){}_0x3b8e8e['resetTimeout']=setTimeout(()=>{try{clearWarningEntry(_0x696b57,_0x3af890);}catch(_0x3ea72b){}},CFG['WARN_RESET_MS']);}else{if(_0x5916f0){const _0x3137eb=_0x378215['apply'](_0x416c33,arguments);return _0x1b5fd3=null,_0x3137eb;}}}setWarningEntry(_0x696b57,_0x3af890,_0x3b8e8e);const _0x200c92=Math['max'](0x0,CFG[_0x3618b7(0x19a)]-_0x3b8e8e['count']);if(CFG['REMOVE_ON_MAX']&&_0x3b8e8e['count']>=CFG[_0x3618b7(0x19a)])try{const _0x2de70b=await removeUserFromGroup(_0x696b57,_0x3af890);if(_0x2de70b)clearWarningEntry(_0x696b57,_0x3af890);return{'count':_0x3b8e8e['count'],'remaining':0x0,'removed':!!_0x2de70b,'removeErr':_0x2de70b?null:'remove_failed'};}catch(_0x5c8781){return warn('['+name+']\x20remove\x20attempt\x20failed:\x20'+(_0x5c8781?.['message']||_0x5c8781)),{'count':_0x3b8e8e['count'],'remaining':_0x200c92,'removed':![],'removeErr':_0x5c8781?.['message']||_0x5c8781};}return{'count':_0x3b8e8e['count'],'remaining':_0x200c92,'removed':![],'removeErr':null};}catch(_0x48dbd4){return warn('['+name+']\x20incrementWarning\x20error:\x20'+(_0x48dbd4?.['message']||_0x48dbd4)),{'count':0x0,'remaining':CFG['MAX_WARNINGS'],'removed':![],'removeErr':_0x48dbd4?.['message']||_0x48dbd4};}}function enqueueDeletion(_0x47f8e3){const _0x4e7936=_0x4d6f5a,_0xde8e1c=_0x47f8e3[_0x4e7936(0x19d)]?.['remoteJid'];if(!_0xde8e1c)return;if(!perChatQueue['has'](_0xde8e1c))perChatQueue[_0x4e7936(0x167)](_0xde8e1c,[]);const _0x2dba6e=perChatQueue['get'](_0xde8e1c);if(_0x2dba6e['length']>=CFG[_0x4e7936(0x173)])_0x2dba6e['shift']();_0x2dba6e['push'](_0x47f8e3);if(!perChatProcessing[_0x4e7936(0x18c)](_0xde8e1c))tryStartProcessingForChat(_0xde8e1c);}function tryStartProcessingForChat(_0x2fd408){const _0x33790c={'jzuKI':function(_0x5cd522,_0x251548,_0x27fb19){return _0x5cd522(_0x251548,_0x27fb19);}};if(perChatProcessing['get'](_0x2fd408))return;if(activeChats>=(CFG['GLOBAL_CONCURRENCY']||0x1)){_0x33790c['jzuKI'](setTimeout,()=>tryStartProcessingForChat(_0x2fd408),0x96);return;}activeChats++,perChatProcessing['set'](_0x2fd408,!![]),((async()=>{try{await processChatQueue(_0x2fd408);}catch(_0x1e4e1d){warn('['+name+']\x20processChatQueue\x20error\x20('+_0x2fd408+'):\x20'+(_0x1e4e1d?.['message']||_0x1e4e1d));}finally{perChatProcessing['set'](_0x2fd408,![]),activeChats=Math['max'](0x0,activeChats-0x1);if(perChatQueue['get'](_0x2fd408)?.['length'])setImmediate(()=>tryStartProcessingForChat(_0x2fd408));}})());}async function processChatQueue(_0x18d996){const _0x2fcc19=_0x4d6f5a,_0x3a78e5={'KdcXt':'function','mhrsP':function(_0x500e28,_0x333302){return _0x500e28===_0x333302;}};while((perChatQueue['get'](_0x18d996)||[])['length']>0x0){const _0x7dfb6e=Math['max'](0x1,CFG['BATCH_SIZE']||0x1),_0x5bdf03=perChatQueue[_0x2fcc19(0x18c)](_0x18d996)||[],_0x182f0f=_0x5bdf03['splice'](0x0,_0x7dfb6e);for(const _0x16602d of _0x182f0f){try{const _0x4ff64a=await deleteWithRetry(_0x16602d)['catch'](()=>![]);if(_0x4ff64a){const _0x152d78=await incrementWarningAndMaybeRemove(_0x16602d);if(!_0x152d78[_0x2fcc19(0x18e)])await sendWarning(_0x16602d,_0x152d78[_0x2fcc19(0x1a9)],_0x152d78['remaining'])['catch'](()=>{});else{const _0x841ef4=_0x16602d[_0x2fcc19(0x19d)]?.['participant']||_0x16602d['key']?.[_0x2fcc19(0x168)]||'',_0x3f62c4=_0x16602d['key']?.['remoteJid'];await sleep(0x2bc);const _0x19cbd5=getNextExpressionForChat(_0x3f62c4);if(_0x19cbd5){const _0x43c72c=formatExpression(_0x19cbd5,_0x841ef4,_0x152d78['count']);try{if(botRef&&typeof botRef['sendMessage']==='function')await botRef['sendMessage'](_0x3f62c4,{'text':_0x43c72c});else botRef&&botRef['sock']&&typeof botRef['sock']['sendMessage']==='function'?await botRef['sock'][_0x2fcc19(0x1a0)](_0x3f62c4,{'text':_0x43c72c}):warn('['+name+_0x2fcc19(0x185));}catch(_0x582fa1){if(_0x2fcc19(0x199)==='uJuVi')_0x10e036('['+_0x397f0e+_0x2fcc19(0x175)+(_0x449680?.[_0x2fcc19(0x18b)]||_0x5c3738));else{warn('['+name+']\x20failed\x20to\x20send\x20expression\x20(no\x20mentions):\x20'+(_0x582fa1?.['message']||_0x582fa1));try{const _0x4b115d='User\x20'+String(_0x841ef4)['split']('@')[0x0]+'\x20removed\x20after\x20'+_0x152d78['count']+'\x20warnings.';if(botRef&&typeof botRef['sendMessage']==='function')await botRef['sendMessage'](_0x3f62c4,{'text':_0x4b115d});else botRef&&botRef['sock']&&typeof botRef['sock']['sendMessage']===_0x3a78e5['KdcXt']&&await botRef['sock'][_0x2fcc19(0x1a0)](_0x3f62c4,{'text':_0x4b115d});}catch(_0x5c173b){warn('['+name+']\x20failed\x20fallback\x20expression\x20send:\x20'+(_0x5c173b?.['message']||_0x5c173b));}}}}else{const _0x4be878=_0x2fcc19(0x176)+String(_0x841ef4)['split']('@')[0x0]+'\x20removed\x20after\x20'+_0x152d78['count']+'\x20warnings.';try{if(botRef&&typeof botRef['sendMessage']==='function')await botRef['sendMessage'](_0x3f62c4,{'text':_0x4be878});else botRef&&botRef['sock']&&typeof botRef['sock']['sendMessage']==='function'&&await botRef[_0x2fcc19(0x16a)]['sendMessage'](_0x3f62c4,{'text':_0x4be878});}catch(_0x4e5f9b){warn('['+name+']\x20failed\x20to\x20send\x20removal\x20note:\x20'+(_0x4e5f9b?.['message']||_0x4e5f9b));}}}}else _0x3a78e5['mhrsP']('HJCYQ','HJCYQ')?warn('['+name+']\x20delete\x20failed\x20for\x20message\x20'+(_0x16602d['key']?.['id']||'[no-id]')+'\x20in\x20'+_0x18d996):_0x1b3751['delete'](_0x32f9e7);}catch(_0x2acea7){warn('['+name+']\x20error\x20processing\x20queued\x20ctx:\x20'+(_0x2acea7?.[_0x2fcc19(0x18b)]||_0x2acea7));}}(perChatQueue['get'](_0x18d996)||[])['length']>0x0&&await sleep(Math['max'](0x0,CFG['BATCH_DELAY_MS']||0x1f4));}if((perChatQueue['get'](_0x18d996)||[])['length']===0x0)perChatQueue['delete'](_0x18d996);}function getMessageKey(_0x253de8){const _0x4a550b=_0x4d6f5a;if(!_0x253de8||!_0x253de8['key'])return null;const _0x1199cb=_0x253de8['key']['id'];if(_0x1199cb)return String(_0x1199cb);const _0x229be8=_0x253de8['key'][_0x4a550b(0x194)]||_0x253de8[_0x4a550b(0x19d)][_0x4a550b(0x168)]||'unknown',_0x5b0415=_0x253de8['key'][_0x4a550b(0x168)]||'unknown',_0x5205e2=extractTextFromMessage(_0x253de8)||'',_0x3e181c=_0x5205e2['slice'](0x0,0xc8)['replace'](/\s+/g,'\x20');return _0x229be8+'::'+_0x5b0415+'::'+_0x3e181c;}function _0x17ed(_0x44b6bc,_0x2c5c68){const _0x2ffb4b=_0xbb73();return _0x17ed=function(_0x3b8e09,_0x19528d){_0x3b8e09=_0x3b8e09-0x162;let _0x2908dd=_0x2ffb4b[_0x3b8e09];if(_0x17ed['YSxkpF']===undefined){var _0x4fa097=function(_0x26d64d){const _0x1be1ca='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x11c544='',_0x54de87='';for(let _0x439776=0x0,_0x2666b2,_0x3810fd,_0x37ad7b=0x0;_0x3810fd=_0x26d64d['charAt'](_0x37ad7b++);~_0x3810fd&&(_0x2666b2=_0x439776%0x4?_0x2666b2*0x40+_0x3810fd:_0x3810fd,_0x439776++%0x4)?_0x11c544+=String['fromCharCode'](0xff&_0x2666b2>>(-0x2*_0x439776&0x6)):0x0){_0x3810fd=_0x1be1ca['indexOf'](_0x3810fd);}for(let _0x135b1f=0x0,_0x40c9ab=_0x11c544['length'];_0x135b1f<_0x40c9ab;_0x135b1f++){_0x54de87+='%'+('00'+_0x11c544['charCodeAt'](_0x135b1f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x54de87);};_0x17ed['ltVTrc']=_0x4fa097,_0x44b6bc=arguments,_0x17ed['YSxkpF']=!![];}const _0xbb739=_0x2ffb4b[0x0],_0x17ed11=_0x3b8e09+_0xbb739,_0x32b794=_0x44b6bc[_0x17ed11];return!_0x32b794?(_0x2908dd=_0x17ed['ltVTrc'](_0x2908dd),_0x44b6bc[_0x17ed11]=_0x2908dd):_0x2908dd=_0x32b794,_0x2908dd;},_0x17ed(_0x44b6bc,_0x2c5c68);}function isProcessedMessage(_0x27079a){return _0x27079a&&processedMessageIds['has'](_0x27079a);}function markMessageProcessed(_0xc7c039){const _0x4f14d3=_0x4d6f5a,_0x3cc780={'MFwXa':_0x4f14d3(0x1aa),'wZqdV':function(_0x38ce91,_0xcd57a6,_0x3549b2){return _0x38ce91(_0xcd57a6,_0x3549b2);}};if(!_0xc7c039)return;try{if('mUNwg'!=='mUNwg')_0x4577c1(this,function(){const _0x39612e=_0x4f14d3,_0x503dbf=new _0x5bf19f(UssMNk[_0x39612e(0x16b)]),_0x1932c1=new _0x257cfb(_0x39612e(0x18f),'i'),_0x423078=_0x4bdf7f('init');!_0x503dbf['test'](_0x423078+'chain')||!_0x1932c1[_0x39612e(0x189)](_0x423078+'input')?_0x423078('0'):_0x52c291();})();else{const _0x21d65a=processedMessageIds[_0x4f14d3(0x18c)](_0xc7c039);if(_0x21d65a)clearTimeout(_0x21d65a);}}catch(_0x3ad90a){}const _0x3a31e2=_0x3cc780['wZqdV'](setTimeout,()=>{const _0x22441c=_0x4f14d3;try{processedMessageIds[_0x22441c(0x174)](_0xc7c039);}catch(_0x3dc639){}},Math['max'](0x3e8,CFG['DEDUPE_TTL_MS']||0x1388));processedMessageIds['set'](_0xc7c039,_0x3a31e2);}function _0xbb73(){const _0x2cf444=['mJiXodDMrNzdEvG','y29UDMvYC2f0Aw9U','C1fOEgi','CMvZzxruAw1LB3v0','t1nACMm','revevvbfx1rutf9nuW','zw5KC1DPDgG','C2vSzwn0zwrsB3Djza','v0fstKLor19uveXFtvm','xsbUBYbZzw5KtwvZC2fNzsbbueKGyxzHAwXHyMXLigzVCIbLEhbYzxnZAw9U','ANnmBwe','CMvWBgfJzq','rvHquKvtu0LptLm','DgvZDa','DMLKzw9nzxnZywDL','BwvZC2fNzq','z2v0','xsbUBYbZzw5KtwvZC2fNzsbbueKGyxzHAwXHyMXLigzVCIb3yxjUAw5N','CMvTB3zLza','xcTCkYaQkd86w2eTEKeTwL8KxvSWltLHlxPblvPFjf0Qkq','swf0ENu','Aw5JBhvKzxm','mJGZmJGWovftCMPQCq','Efj5D0y','CgfYDgLJAxbHBNq','uKvnt1zfx09ox01bwa','nta2mtmWuMDXC1bu','r0XpqKfmx0nptKnvuLjftKnz','v0fstL9srvnfvf9nuW','DfLhzKW','tufyx1DbuK5jtKDt','revmrvrfx1jfvfjzx0LosvrjquXFqKfds09grL9nuW','v0fstKLor19nrvntquDf','A2v5','y2fWDgLVBG','y29UC3rYDwn0B3i','C2vUze1LC3nHz2u','u0vorf9xqvjosu5h','z0zjCNe','zxH0zw5KzwruzxH0twvZC2fNzq','Bu5QtvG','Ce9fzeO','BgLZDfjLC3bVBNnLtwvZC2fNzq','y2XLyxi','qKfuq0HFrevmqvLFtvm','y291BNq','zNvUy3rPB24GkLWOicPCkq','wM1TBLy','AxnjBNrLz2vY','zw50CMLLCW','revgqvvmvf9ftKfcteve','nde3mZeYognVrKjkvW','8j+uLYb7DxnLCN0SigXPBMTZigfYzsbUB3qGywXSB3DLzcbOzxjLlIbszw1HAw5PBMCGD2fYBMLUz3mGE3DHCM5PBMDZFq','Bwf4','C2v0','CMvTB3rLsMLK','xsbVBK1LC3nHz2uGzxjYB3i6ia','C29JAW','tuz3wge','mtK1mZi1nKfxre15Cq','v0HjvevFteLtva','zgvIDq','zNvUy3rPB24','xsbLCNjVCIbWCM9JzxnZAw5Nihf1zxvLzcbJDhG6ia','igf0DgvTChrZoIa','qu5usuXjtKS','uevsx0niqvrFuvvfvuvFteLnsvq','zgvSzxrL','xsbMywLSzwqGzMfSBgjHy2SGzxHWCMvZC2LVBIbZzw5KoIa','vxnLCIa','Aw5PDa','nNLoD0nHvq','mJu0mde2nuHxrxb1qG','ufPZrLy','nJK5otGXtKjWDg5b'];_0xbb73=function(){return _0x2cf444;};return _0xbb73();}export async function initialize(_0x2675bb){const _0x17acee={'KNhIt':function(_0xf00000){return _0xf00000();}};if(!_0x2675bb)throw new Error('Antilink.initialize\x20requires\x20bot\x20instance');botRef=_0x2675bb,_0x17acee['KNhIt'](refreshConfig),initialized=!![],shuttingDown=![],info('['+name+']\x20initialized.\x20Enabled='+CFG['DEFAULT_ENABLED']+',\x20maxWarnings='+CFG['MAX_WARNINGS']);}export async function onMessage(_0x297559){const _0x358219=_0x4d6f5a,_0x140160={'vBewh':function(_0xbee242,_0x5e991f){return _0xbee242(_0x5e991f);}};try{if(!initialized||shuttingDown)return;if(!_0x297559||!_0x297559[_0x358219(0x19d)]||!_0x297559['message'])return;const _0x103904=_0x297559['key']['remoteJid']||_0x297559[_0x358219(0x168)];if(!_0x103904||!String(_0x103904)[_0x358219(0x182)]('@g.us'))return;refreshConfig();if(!CFG['DEFAULT_ENABLED'])return;if(_0x297559['key']['fromMe'])return;if(isWhitelisted(_0x297559))return;if(!messageContainsLink(_0x297559))return;let _0x194334=![];try{_0x194334=await isadmin(botRef,_0x297559);}catch(_0x18be8a){if(_0x358219(0x1a4)==='LPyIZ'){const _0x37dc96=_0x3a8871['get'](_0x3f5ab3);if(_0x37dc96)_0x2626cb(_0x37dc96);}else{_0x140160['vBewh'](warn,'['+name+']\x20isadmin\x20check\x20failed\x20-\x20skipping\x20deletion:\x20'+(_0x18be8a?.['message']||_0x18be8a));return;}}if(_0x194334)return;const _0x4476e8=getMessageKey(_0x297559);if(!_0x4476e8)return;if(isProcessedMessage(_0x4476e8))return;markMessageProcessed(_0x4476e8),enqueueDeletion(_0x297559);}catch(_0xb54fd4){warn('['+name+_0x358219(0x169)+(_0xb54fd4?.['message']||_0xb54fd4));}}export async function cleanup(){const _0x135ad5=_0x4d6f5a;shuttingDown=!![],initialized=![],perChatQueue['clear'](),perChatProcessing['clear'](),activeChats=0x0,botRef=null;try{for(const [_0x568e73,_0x42aada]of processedMessageIds['entries']()){try{clearTimeout(_0x42aada);}catch(_0x3fb46a){}}}catch(_0x5d063a){}processedMessageIds['clear']();try{for(const [_0x499938,_0x24fc9f]of perUserWarnings[_0x135ad5(0x162)]()){if(_0x24fc9f&&_0x24fc9f['resetTimeout'])try{'xRywF'!==_0x135ad5(0x193)?_0x19bf98(0x0):clearTimeout(_0x24fc9f['resetTimeout']);}catch(_0x24907a){}}}catch(_0x2b7405){}perUserWarnings[_0x135ad5(0x1a7)](),perChatExpressionIndex[_0x135ad5(0x1a7)](),info('['+name+']\x20cleaned\x20up');}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};function _0x3b8e09(_0x38e010){const _0x141c01={'vFjOQ':'string','PZsFV':'gger','pOEdJ':function(_0x5858cc,_0x21d4ad){return _0x5858cc(_0x21d4ad);}};function _0x150f0c(_0xd3f454){const _0x14ce83=_0x17ed;if(typeof _0xd3f454===_0x141c01['vFjOQ'])return function(_0x565499){}['constructor']('while\x20(true)\x20{}')['apply']('counter');else(''+_0xd3f454/_0xd3f454)['length']!==0x1||_0xd3f454%0x14===0x0?function(){return!![];}[_0x14ce83(0x19f)]('debu'+'gger')['call']('action'):function(){return![];}[_0x14ce83(0x19f)]('debu'+_0x141c01[_0x14ce83(0x17a)])['apply']('stateObject');_0x141c01[_0x14ce83(0x1a5)](_0x150f0c,++_0xd3f454);}try{if(_0x38e010)return _0x150f0c;else _0x150f0c(0x0);}catch(_0x285d2a){}}