(function(_0x1a96da,_0x51c07c){const _0x3e7c06=_0x1139,_0xa18cb3=_0x1a96da();while(!![]){try{const _0x565923=parseInt(_0x3e7c06(0x139))/0x1*(parseInt(_0x3e7c06(0x13a))/0x2)+parseInt(_0x3e7c06(0x145))/0x3+parseInt(_0x3e7c06(0x157))/0x4+parseInt(_0x3e7c06(0x161))/0x5*(-parseInt(_0x3e7c06(0x138))/0x6)+parseInt(_0x3e7c06(0x14e))/0x7+-parseInt(_0x3e7c06(0x159))/0x8*(-parseInt(_0x3e7c06(0x15c))/0x9)+parseInt(_0x3e7c06(0x158))/0xa*(-parseInt(_0x3e7c06(0x13d))/0xb);if(_0x565923===_0x51c07c)break;else _0xa18cb3['push'](_0xa18cb3['shift']());}catch(_0x140973){_0xa18cb3['push'](_0xa18cb3['shift']());}}}(_0x5728,0xdc5a5));const _0x9ed0b9=(function(){let _0xfde246=!![];return function(_0x4fcf87,_0x105f79){const _0x4ce888={'VsGKH':function(_0x5c3ef4,_0x45cf64,_0x2cb601,_0x462ee9){return _0x5c3ef4(_0x45cf64,_0x2cb601,_0x462ee9);},'AQquh':'data','McRCY':'close'},_0x5b1177=_0xfde246?function(){const _0x23193b=_0x1139,_0x5d3645={'yREdq':function(_0x1427eb,_0xe90ab3){return _0x1427eb(_0xe90ab3);},'gvluH':function(_0x39a5ab,_0x302e20){return _0x39a5ab(_0x302e20);}};if(_0x23193b(0x163)!=='eFLfr'){const _0x3bbe44=_0x4ce888['VsGKH'](_0x434c5a,_0x23193b(0x165),_0x5454ae,{'stdio':[_0x23193b(0x128),'pipe',_0x23193b(0x156)]});let _0x44f636='';_0x3bbe44['stderr']['on'](_0x4ce888['AQquh'],_0x1d5cca=>{const _0x2b7604=_0x23193b;_0x44f636+=_0x1d5cca[_0x2b7604(0x121)]();if(_0x339d6a)_0x5d3645['yREdq'](_0x5d2912,_0x1d5cca);}),_0x3bbe44['on'](_0x4ce888['McRCY'],_0x5e21e6=>{const _0xdf1f89=_0x23193b;if(_0x5e21e6===0x0)_0x41bd94(_0x44f636);else _0x5d3645[_0xdf1f89(0x15f)](_0x565389,new _0x44235a('ffmpeg\x20exit\x20code\x20'+_0x5e21e6+'\x0a'+_0x44f636));}),_0x3bbe44['on']('error',_0x2769ad=>_0x5c164a(_0x2769ad));}else{if(_0x105f79){const _0x5af683=_0x105f79['apply'](_0x4fcf87,arguments);return _0x105f79=null,_0x5af683;}}}:function(){};return _0xfde246=![],_0x5b1177;};}());(function(){const _0x36a6ea={'bUaay':function(_0x129bb3,_0x262c54){return _0x129bb3===_0x262c54;},'MpAne':'aTzSq','fjDsx':function(_0x2545ec,_0x330a1f){return _0x2545ec+_0x330a1f;},'EJhoJ':'input'};_0x9ed0b9(this,function(){const _0x24cb5a=_0x1139;if(_0x36a6ea['bUaay']('WvdWI',_0x36a6ea['MpAne']))_0xcc00b8=null,_0x390963=null,_0x4564e2('[cc]\x20cleaned\x20up');else{const _0x44e7d4=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x1ec01d=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x4f5ec4=_0x24ff89('init');if(!_0x44e7d4[_0x24cb5a(0x137)](_0x4f5ec4+'chain')||!_0x1ec01d['test'](_0x36a6ea['fjDsx'](_0x4f5ec4,_0x36a6ea[_0x24cb5a(0x124)]))){if('kPfJw'!=='nTZgI')_0x4f5ec4('0');else{const _0x3c8b82=_0x3b0d81['message'][_0x5367e6];if(_0x3c8b82&&_0x3c8b82[_0x24cb5a(0x122)]&&_0x3c8b82['contextInfo'][_0x24cb5a(0x127)])return{'quoted':_0x3c8b82['contextInfo'][_0x24cb5a(0x127)],'quotedKey':_0x3c8b82['contextInfo']};}}else _0x24ff89();}})();}());import _0x29e6a8 from'fs';function _0x1139(_0xf2403a,_0x938a65){const _0x3caa4e=_0x5728();return _0x1139=function(_0x24ff89,_0x9ed0b9){_0x24ff89=_0x24ff89-0x121;let _0x335242=_0x3caa4e[_0x24ff89];if(_0x1139['yTrMYJ']===undefined){var _0x1b7e6e=function(_0x29fc1b){const _0x419313='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x551765='',_0x58a865='';for(let _0x3abae9=0x0,_0x2d258e,_0x4a56a8,_0x24d755=0x0;_0x4a56a8=_0x29fc1b['charAt'](_0x24d755++);~_0x4a56a8&&(_0x2d258e=_0x3abae9%0x4?_0x2d258e*0x40+_0x4a56a8:_0x4a56a8,_0x3abae9++%0x4)?_0x551765+=String['fromCharCode'](0xff&_0x2d258e>>(-0x2*_0x3abae9&0x6)):0x0){_0x4a56a8=_0x419313['indexOf'](_0x4a56a8);}for(let _0x355107=0x0,_0x534d28=_0x551765['length'];_0x355107<_0x534d28;_0x355107++){_0x58a865+='%'+('00'+_0x551765['charCodeAt'](_0x355107)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x58a865);};_0x1139['DtAJxB']=_0x1b7e6e,_0xf2403a=arguments,_0x1139['yTrMYJ']=!![];}const _0x572868=_0x3caa4e[0x0],_0x1139b4=_0x24ff89+_0x572868,_0x398479=_0xf2403a[_0x1139b4];return!_0x398479?(_0x335242=_0x1139['DtAJxB'](_0x335242),_0xf2403a[_0x1139b4]=_0x335242):_0x335242=_0x398479,_0x335242;},_0x1139(_0xf2403a,_0x938a65);}import _0x34130a from'path';import _0x24a047 from'os';import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0x36de06}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';function _0x5728(){const _0x2e65b9=['Dgv4Da','yxvKAw9FAw50zxjTzwrPyxrLxW','C3bSAxq','A2v5','C3rYAw5N','BwLTzxr5Cgu','lwm6yq','y2mG','BM93','w2nJxsbZzw50ihzPzgvVig5VDguGDg8G','zg9JDw1LBNrnzxnZywDL','DgvZDa','nK1Ys2LRCq','ntG3nda5AuPpCurK','nfjKAe9QuW','A09mtwW','B2DN','ndCZueDnEhLZ','lwi6yq','q29UDMvYDgvKihzPzgvVlw5VDguGC2vUDcb0BYa','Dg1WzgLY','y2HHAw4','r2vvz2y','y29UDMvYC2f0Aw9U','B25owxe','mtm1odK2n0TxzfzLzW','C2vUze1LC3nHz2u','AxndB21Tyw5K','BwvZC2fNzq','CKfVrhq','q291BgqGBM90ihjLC29SDMuGEw91CIbKzwzHDwX0ignVBM5Ly3rPB24GjW','CMv0DxjUicHMDw5JDgLVBIGPia','Eufes28','zNjVBq','odu0mtK4ofz3ve5QrG','zMzTCgvNigv4AxqGy29Kzsa','zNvUy3rPB24','qgCUDxm','vuTlD2G','zg9JDw1LBNq','BwfW','iI4GvxnLigLUDgvYBMf0Aw9UywWGzM9YBwf0igrPz2L0CYbVBMX5icHLlMCUidi1ndCUlI4PlG','CgLWzq','mtq1nZa4qufRz2Dg','nJq5ntCWs2XouNP3','mtaZmZzwvKPuB1K','Aw5JBhvKzxm','DhjPBq','nZK0n0rPBhryzW','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','CgfYDgLJAxbHBNq','z3zSDuG','DgH1BwiUANbN','mty0ode5me5xDu9vyG','y2f0y2G','zuzmzNi','BgLIEdi2na','zMzTCgvN','Aw5PDa','zMv4sKq','C29JAW','Dg9tDhjPBMC','y29UDgv4DeLUzM8','qhmUD2HHDhnHChaUBMv0','ruPOB0O','thbKA00','yxbWBhK','CxvVDgvKtwvZC2fNzq','AwDUB3jL','DMvYEwzHC3q','CNrurNO','C2v0sw50zxj2ywW'];_0x5728=function(){return _0x2e65b9;};return _0x5728();}import{getDefault,getConnection}from'../utils/connection.js';import{isadmin}from'../utils/isadmin.js';const pipeline=promisify(_0x36de06),mkdtemp=_0x29e6a8['promises']['mkdtemp'],writeFileAsync=_0x29e6a8['promises']['writeFile'],unlink=_0x29e6a8['promises']['unlink'],rm=_0x29e6a8['promises']['rm'],DEFAULT_SIZE=0x280;export const name='cc';export const version='1.7.0';export const priority=0x6e;(function(){const _0x4fd64b=_0x1139;let _0x412a16;try{const _0x3c2fe0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x412a16=_0x3c2fe0();}catch(_0x246551){'dsHYX'==='dsHYX'?_0x412a16=window:_0x25c2e8=_0x1deddb;}_0x412a16[_0x4fd64b(0x12b)](_0x24ff89,0x61a80);}());export const configKeys=[];export const commands=['cc'];let botRef=null,sendApi=null;function setupSendApi(){const _0x529654=_0x1139,_0x399042={'HcMhi':_0x529654(0x15d),'yADKo':function(_0x4c7aa8,_0x1cd42d){return _0x4c7aa8===_0x1cd42d;}};if(!botRef)return;if(typeof botRef['sendMessage']==='function')sendApi=async(_0x3fdf9d,_0x34c621,_0x3905e9={})=>await botRef['sendMessage'](_0x3fdf9d,_0x34c621,_0x3905e9);else{if(botRef['sock']&&typeof botRef['sock'][_0x529654(0x146)]==='function')sendApi=async(_0x4e887d,_0x42bfe8,_0x101c3a={})=>await botRef[_0x529654(0x168)]['sendMessage'](_0x4e887d,_0x42bfe8,_0x101c3a);else{if(_0x399042[_0x529654(0x14c)]('nPSjL','GbWvJ')){const _0x2935f2=_0x4ee15d(_0x529654(0x14b)+CLIbZQ['HcMhi']+');');_0x258501=_0x2935f2();}else sendApi=null;}}}async function safeSend(_0x395b3c,_0x14fe20,_0x43a640={}){if(!sendApi){warn('[cc]\x20sendApi\x20not\x20available');throw new Error('sendApi\x20not\x20available');}return await sendApi(_0x395b3c,_0x14fe20,_0x43a640);}function getQuotedWrap(_0x4cbd9f){const _0x280036=_0x1139;if(!_0x4cbd9f?.[_0x280036(0x148)])return null;const _0x3a2141=_0x4cbd9f[_0x280036(0x148)]['extendedTextMessage']?.['contextInfo'];if(_0x3a2141&&_0x3a2141['quotedMessage'])return{'quoted':_0x3a2141['quotedMessage'],'quotedKey':_0x3a2141};for(const _0x30078f of Object['keys'](_0x4cbd9f['message']||{})){const _0x4ef9df=_0x4cbd9f['message'][_0x30078f];if(_0x4ef9df&&_0x4ef9df['contextInfo']&&_0x4ef9df[_0x280036(0x122)][_0x280036(0x127)])return{'quoted':_0x4ef9df['contextInfo']['quotedMessage'],'quotedKey':_0x4ef9df['contextInfo']};}const _0x36ee3d=_0x4cbd9f[_0x280036(0x148)]?.['messageContextInfo']?.['quotedMessage']||_0x4cbd9f['message']?.['contextInfo']?.['quotedMessage'],_0x499690=_0x4cbd9f[_0x280036(0x148)]?.['messageContextInfo']?.[_0x280036(0x15e)]||_0x4cbd9f['message']?.['contextInfo']?.['participant']||null;if(_0x36ee3d)return{'quoted':_0x36ee3d,'quotedKey':{'participant':_0x499690}};return null;}async function streamQuotedMediaToFile(_0x426631,_0x4f5e03){const _0x2f8515=_0x1139,_0x5d765e={'rWSiP':'audio','hGCkG':function(_0x24d311,_0x1972e2){return _0x24d311===_0x1972e2;}};try{const _0x8b304b=[{'node':_0x426631['videoMessage'],'type':'video'},{'node':_0x426631['audioMessage'],'type':_0x5d765e['rWSiP']},{'node':_0x426631[_0x2f8515(0x136)],'type':'document'},{'node':_0x426631['message']?.['videoMessage'],'type':'video'},{'node':_0x426631['message']?.['audioMessage'],'type':'audio'},{'node':_0x426631['message']?.['documentMessage'],'type':_0x2f8515(0x153)}];let _0x5e8d1c=null,_0x4c2246=null;for(const _0x238f07 of _0x8b304b)if(_0x238f07['node']){_0x5e8d1c=_0x238f07['node'],_0x4c2246=_0x238f07['type'];break;}if(!_0x5e8d1c||!_0x4c2246)return null;let _0x3379a1='bin';if(_0x5d765e['hGCkG'](_0x4c2246,'video'))_0x3379a1='mp4';else{if(_0x4c2246==='audio'){const _0x380028=_0x5e8d1c?.[_0x2f8515(0x131)]||'';if(_0x380028['includes']('ogg'))_0x3379a1=_0x2f8515(0x13c);else{if(_0x380028['includes']('mp3'))_0x3379a1='mp3';else _0x3379a1='mp3';}}else{if(_0x4c2246===_0x2f8515(0x153)){const _0x5d27ad=_0x5e8d1c?.['fileName']||'',_0x50baf2=_0x5d27ad['split']('.')['pop']();if(_0x50baf2&&_0x50baf2['length']<=0x5)_0x3379a1=_0x50baf2;else{const _0x41e419=_0x5e8d1c?.['mimetype']||'';if(_0x41e419['includes']('video'))_0x3379a1='mp4';else{if(_0x41e419[_0x2f8515(0x15a)]('audio'))_0x3379a1='mp3';else _0x3379a1='bin';}}}}}const _0xb95c68=_0x34130a['join'](_0x4f5e03,'in_'+Date['now']()+'.'+_0x3379a1),_0x4fd904=await downloadContentFromMessage(_0x5e8d1c,_0x4c2246);if(!_0x4fd904)return null;const _0x4b06de=_0x29e6a8['createWriteStream'](_0xb95c68);return await pipeline(_0x4fd904,_0x4b06de),{'path':_0xb95c68,'type':_0x4c2246,'contentNode':_0x5e8d1c};}catch(_0x442dd3){return warn('[cc]\x20streamQuotedMediaToFile\x20failed:\x20'+(_0x442dd3?.[_0x2f8515(0x148)]||_0x442dd3)),null;}}function spawnFFmpeg(_0x41bf9c,_0x5ee81b){const _0x12bfd4={'FEChF':function(_0x1fbd1d,_0x42ebbb,_0x580d99,_0x3736c5){return _0x1fbd1d(_0x42ebbb,_0x580d99,_0x3736c5);},'cxEGF':'data'};return new Promise((_0x3b6533,_0x9c7a6f)=>{const _0x312225=_0x1139;if('gfjue'!=='gfjue'){_0xb1aa60+=_0x1040ea[_0x312225(0x121)]();if(_0x12c2b5)_0x47e9eb(_0x54dd20);}else{const _0x42ff97=_0x12bfd4['FEChF'](spawn,'ffmpeg',_0x41bf9c,{'stdio':['ignore','pipe','pipe']});let _0x193d0f='';_0x42ff97['stderr']['on'](_0x12bfd4['cxEGF'],_0x57c3e3=>{_0x193d0f+=_0x57c3e3['toString']();if(_0x5ee81b)_0x5ee81b(_0x57c3e3);}),_0x42ff97['on']('close',_0x390cdc=>{const _0x578c66=_0x312225;if(_0x390cdc===0x0)_0x3b6533(_0x193d0f);else _0x9c7a6f(new Error(_0x578c66(0x14f)+_0x390cdc+'\x0a'+_0x193d0f));}),_0x42ff97['on']('error',_0x52e1cf=>_0x9c7a6f(_0x52e1cf));}});}async function transcodeToVideoNote(_0x45cf93,_0x3c2058,_0x37fe31=DEFAULT_SIZE){const _0x398214=_0x1139,_0x4c4346=['-y','-i',_0x45cf93,'-t','60','-vf','scale=\x27if(gt(a,1),'+_0x37fe31+',-2)\x27:\x27if(gt(a,1),-2,'+_0x37fe31+')\x27,pad='+_0x37fe31+':'+_0x37fe31+':(ow-iw)/2:(oh-ih)/2,setsar=1','-r','30','-c:v','libx264','-profile:v','baseline','-level','3.0','-preset',_0x398214(0x129),'-crf','28',_0x398214(0x132),'aac','-b:a','64k',_0x3c2058];return await spawnFFmpeg(_0x4c4346),_0x3c2058;}async function audioToVideoNote(_0x44637e,_0x32f64d,_0x419406=null,_0x5ce577=DEFAULT_SIZE){const _0x5a8c29=_0x1139,_0x500416={'plzsD':_0x5a8c29(0x141),'BeEIu':'-loop','igGCY':'-shortest','ZIJfz':'-preset','UgHHW':_0x5a8c29(0x129),'fexJD':function(_0x2c8e2a,_0x334131){return _0x2c8e2a(_0x334131);}},_0x52a479=_0x34130a['dirname'](_0x32f64d),_0x3d8b51=_0x34130a['join'](_0x52a479,_0x5a8c29(0x12d)+Date['now']()+'.mp4'),_0x6daeb0=_0x419406||_0x34130a['join'](_0x52a479,'audio_cover_'+Date[_0x5a8c29(0x134)]()+'.png');!_0x419406&&await spawnFFmpeg(['-y','-f','lavfi','-i','color=black:s='+_0x5ce577+'x'+_0x5ce577,_0x6daeb0]);await spawnFFmpeg(['-y',_0x500416['BeEIu'],'1','-i',_0x6daeb0,'-i',_0x44637e,'-c:v',_0x5a8c29(0x164),'-t','60','-c:a','aac',_0x5a8c29(0x13e),'64k',_0x500416['igGCY'],_0x500416['ZIJfz'],_0x500416['UgHHW'],_0x3d8b51]),await transcodeToVideoNote(_0x3d8b51,_0x32f64d,_0x5ce577);try{if('neJdP'!=='neJdP'){const _0x1470b0={'kzyln':function(_0xbc2c32,_0x15754a){return _0xbc2c32(_0x15754a);},'ouKCY':function(_0x48408a,_0x3229f1){return _0x48408a+_0x3229f1;},'UKKwh':mvRvGe['plzsD']};_0x2c05df(this,function(){const _0x26d20c=_0x5a8c29,_0x13ae71=new _0x10eeec('function\x20*\x5c(\x20*\x5c)'),_0x68a4ff=new _0x9e1a97('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0xab8989=_0x1470b0['kzyln'](_0x25f189,_0x26d20c(0x166));!_0x13ae71['test'](_0x1470b0['ouKCY'](_0xab8989,_0x1470b0[_0x26d20c(0x152)]))||!_0x68a4ff['test'](_0xab8989+'input')?_0xab8989('0'):_0x31e05d();})();}else await _0x500416[_0x5a8c29(0x167)](unlink,_0x3d8b51);}catch(_0x2ce84f){}if(!_0x419406)try{await _0x500416['fexJD'](unlink,_0x6daeb0);}catch(_0x52e97d){}return _0x32f64d;}export async function initialize(_0x323b0e){if(!_0x323b0e)throw new Error('cc.initialize\x20requires\x20bot\x20instance');botRef=_0x323b0e,setupSendApi(),info('[cc]\x20initialized\x20(group-only\x20admin\x20command)');}function normalizeNumberToJid(_0x2d4707){const _0x364046=_0x1139;if(!_0x2d4707)return null;let _0x4ce932=String(_0x2d4707)['trim']();_0x4ce932=_0x4ce932['replace'](/[^\d]/g,'');if(!_0x4ce932)return null;if(_0x4ce932['length']<0x8||_0x4ce932['length']>0xf)return null;const _0x31280d=_0x4ce932+_0x364046(0x123);try{if(typeof jidNormalizedUser==='function')return jidNormalizedUser(_0x31280d);}catch(_0x4f3fe6){}return _0x31280d;}function commandMatches(_0x58e38e){const _0x4dc020=_0x1139,_0xb3e708={'ZSgUL':function(_0xe8af,_0x39463d){return _0xe8af+_0x39463d;}};if(!_0x58e38e)return![];const _0x1d17e0=getConfig()||{},_0x2c6478=_0x1d17e0['COMMAND_PREFIX']??'/',_0x309a28=Array['isArray'](_0x2c6478)?_0x2c6478:[_0x2c6478];for(const _0x54167c of _0x309a28){if(!_0x54167c)continue;if(_0x54167c==='none'||_0x54167c===null){if(/^\/?cc\b/i['test'](_0x58e38e))return!![];}else{if(_0x58e38e['startsWith'](_0x54167c+'cc')||_0x58e38e['startsWith'](_0xb3e708['ZSgUL'](_0x54167c,_0x4dc020(0x133))))return!![];}}return/^\/?cc\b/i['test'](_0x58e38e);}export async function onMessage(_0x50e757){const _0x27ebb3=_0x1139,_0x36dda7={'onNYq':function(_0x1a84ae,_0x2d3955){return _0x1a84ae(_0x2d3955);},'rtTFz':function(_0x2993b6,_0x5e1cb6){return _0x2993b6(_0x5e1cb6);},'fuNtY':function(_0x38d34a,_0x103004,_0x3553dc){return _0x38d34a(_0x103004,_0x3553dc);},'HSVtB':function(_0x598fde,_0x419b77,_0x9fcc65){return _0x598fde(_0x419b77,_0x9fcc65);}};try{if(!_0x50e757||!_0x50e757['key']||!_0x50e757['message'])return;const _0x4de46e=_0x50e757[_0x27ebb3(0x12f)]['remoteJid'],_0xcbdff=typeof _0x4de46e==='string'&&_0x4de46e['endsWith'](_0x27ebb3(0x151));if(!_0xcbdff)return;if(!_0x50e757[_0x27ebb3(0x147)])return;let _0x2b9773=![];try{_0x2b9773=await isadmin(botRef,_0x50e757);}catch(_0x396d03){warn('[cc]\x20isadmin\x20check\x20failed'),_0x2b9773=![];}if(!_0x2b9773)return;const _0x40798f=typeof _0x50e757['text']==='string'&&_0x50e757['text']['trim']()?_0x50e757['text']['trim']():_0x50e757['message']?.[_0x27ebb3(0x143)]||_0x50e757['message']?.['extendedTextMessage']?.[_0x27ebb3(0x12c)]||'';if(!_0x40798f)return;if(!_0x36dda7['rtTFz'](commandMatches,_0x40798f))return;const _0x47acda=_0x40798f['split'](/\s+/)['map'](_0x1b85ff=>_0x1b85ff['trim']())['filter'](Boolean);let _0x19a9e1=_0x47acda[0x1]||null;if(!_0x19a9e1&&_0x40798f['includes']('\x0a')){const _0x3850fc=_0x40798f['split'](/\r?\n/)[_0x27ebb3(0x154)](_0x19c2a0=>_0x19c2a0[_0x27ebb3(0x15b)]())['filter'](Boolean);if(_0x3850fc['length']>=0x2)_0x19a9e1=_0x3850fc[0x1]['split'](/\s+/)[0x0];}if(!_0x19a9e1){const _0x3ab203=_0x4de46e;sendApi&&await safeSend(_0x3ab203,{'text':'Usage\x20(group\x20admin-only):\x20reply\x20to\x20a\x20media\x20message\x20with\x20`cc\x20<number>`\x20—\x20example:\x20`cc\x202547XXXXXXXX`.\x20`cc`\x20alone\x20is\x20not\x20allowed.','quoted':_0x50e757['key']});return;}const _0x35d4ab=_0x50e757['key']?.[_0x27ebb3(0x15e)]||_0x50e757['key']?.[_0x27ebb3(0x14d)]||'',_0x22e90b=String(_0x35d4ab||'')[_0x27ebb3(0x12e)]('@')[0x0],_0xfbe9f7=await getDefault(_0x22e90b)['catch'](()=>null);if(!_0xfbe9f7){const _0x433cd7=_0x4de46e;if(sendApi)await safeSend(_0x433cd7,{'text':'No\x20default\x20connection/group\x20is\x20set\x20for\x20you.\x20Commands\x20must\x20apply\x20to\x20your\x20DEFAULT\x20group.\x20Set\x20with:\x20/setdefault\x20<connectionName>','quoted':_0x50e757['key']});return;}const _0x4e5fff=await getConnection(_0xfbe9f7)[_0x27ebb3(0x162)](()=>null);if(!_0x4e5fff){const _0x1bc26b=_0x4de46e;if(sendApi)await safeSend(_0x1bc26b,{'text':_0x27ebb3(0x14a)+_0xfbe9f7+'\x27.\x20Please\x20check\x20/setdefault\x20value.','quoted':_0x50e757['key']});return;}const _0x5e5382=getQuotedWrap(_0x50e757);if(!_0x5e5382||!_0x5e5382['quoted']){if('TcftK'!=='TcftK'){if(typeof _0x45dceb===_0x27ebb3(0x150))return _0x36dda7[_0x27ebb3(0x144)](_0x5f3bf1,_0xad0598);}else{if(sendApi)await safeSend(_0x4de46e,{'text':'Reply\x20to\x20a\x20video/audio/document\x20with\x20`cc\x20<number>`\x20to\x20convert\x20into\x20a\x20video-note.','quoted':_0x50e757['key']});return;}}const _0x2b9ba5=normalizeNumberToJid(_0x19a9e1);if(!_0x2b9ba5){if(sendApi)await safeSend(_0x4de46e,{'text':'Could\x20not\x20parse\x20the\x20number\x20\x22'+_0x19a9e1+_0x27ebb3(0x155),'quoted':_0x50e757['key']});return;}const _0x31fc54=await mkdtemp(_0x34130a['join'](_0x24a047[_0x27ebb3(0x140)](),'cc-'));let _0x5cd866=null;try{const _0x2bdc64=_0x5e5382['quoted'],_0x1a506b=_0x2bdc64?.['videoMessage']?.['jpegThumbnail']||_0x2bdc64?.['audioMessage']?.['jpegThumbnail']||_0x2bdc64?.['documentMessage']?.['jpegThumbnail'];_0x1a506b&&(Buffer['isBuffer'](_0x1a506b)||_0x1a506b instanceof Uint8Array)&&(_0x5cd866=_0x34130a['join'](_0x31fc54,_0x27ebb3(0x160)),await writeFileAsync(_0x5cd866,Buffer['from'](_0x1a506b)));const _0x3ece3e=await streamQuotedMediaToFile(_0x2bdc64,_0x31fc54);if(!_0x3ece3e){if(sendApi)await _0x36dda7['fuNtY'](safeSend,_0x4de46e,{'text':'Failed\x20to\x20download\x20quoted\x20media.\x20(library\x20compatibility\x20issue)','quoted':_0x50e757['key']});await rm(_0x31fc54,{'recursive':!![],'force':!![]})[_0x27ebb3(0x162)](()=>{});return;}const {path:_0x42677b,type:_0x3f41ea}=_0x3ece3e,_0x5eb212=_0x34130a['join'](_0x31fc54,'out_'+Date['now']()+'.mp4');_0x3f41ea==='video'||_0x2bdc64?.['documentMessage']&&String(_0x2bdc64['documentMessage']['mimetype']||'')['startsWith']('video')?await transcodeToVideoNote(_0x42677b,_0x5eb212):await audioToVideoNote(_0x42677b,_0x5eb212,_0x5cd866);const _0x48b9d0={'video':{'url':_0x5eb212},'mimetype':'video/mp4','fileName':'video_note.mp4','ptv':!![]};try{if(_0x27ebb3(0x149)==='zJYTy')_0xe50dd7(_0x20161d,'[cc]\x20handler\x20error:\x20'+(_0x27c429?.['message']||_0x26debb));else{if(!sendApi)throw new Error('sendApi\x20not\x20available');await safeSend(_0x2b9ba5,_0x48b9d0),info(_0x27ebb3(0x135)+_0x2b9ba5);if(sendApi){if(_0x27ebb3(0x142)!=='GeUgf'){const _0x214b72=_0x27b715?function(){if(_0x49aa5b){const _0x5182e7=_0x74fc21['apply'](_0x6eee8b,arguments);return _0x4ca440=null,_0x5182e7;}}:function(){};return _0x395323=![],_0x214b72;}else await safeSend(_0x4e5fff,{'text':_0x27ebb3(0x13f)+_0x2b9ba5+'\x20(requested\x20by\x20'+_0x22e90b+').','quoted':_0x50e757['key']})['catch'](()=>{});}}}catch(_0x250420){error(_0x250420,'[cc]\x20failed\x20sending\x20to\x20'+_0x2b9ba5+':\x20'+(_0x250420?.['message']||_0x250420));if(sendApi)await safeSend(_0x4e5fff,{'text':'Failed\x20to\x20deliver\x20to\x20'+_0x2b9ba5+':\x20'+(_0x250420?.['message']||_0x250420),'quoted':_0x50e757['key']})['catch'](()=>{});}try{await _0x36dda7[_0x27ebb3(0x12a)](unlink,_0x42677b)[_0x27ebb3(0x162)](()=>{}),await unlink(_0x5eb212)['catch'](()=>{});if(_0x5cd866)await unlink(_0x5cd866)['catch'](()=>{});await rm(_0x31fc54,{'recursive':!![],'force':!![]});}catch(_0x3c685d){}}catch(_0x592f8c){error(_0x592f8c,'[cc]\x20internal\x20error:\x20'+(_0x592f8c?.['message']||_0x592f8c));if(sendApi)await safeSend(_0x4e5fff,{'text':'Conversion\x20failed:\x20'+(_0x592f8c?.['message']||_0x592f8c),'quoted':_0x50e757['key']})[_0x27ebb3(0x162)](()=>{});await rm(_0x31fc54,{'recursive':!![],'force':!![]})['catch'](()=>{});}}catch(_0x3b2a1c){_0x36dda7['HSVtB'](error,_0x3b2a1c,'[cc]\x20handler\x20error:\x20'+(_0x3b2a1c?.['message']||_0x3b2a1c));}}export async function cleanup(){botRef=null,sendApi=null,info('[cc]\x20cleaned\x20up');}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};function _0x24ff89(_0x117c83){const _0x5f432d={'kFiTZ':'while\x20(true)\x20{}','LpdkM':'length','kOLMl':'action','fpNrb':'debu'};function _0x40e915(_0x181572){const _0x168f3d=_0x1139;if(typeof _0x181572===_0x168f3d(0x130)){if('IgBdF'!=='IgBdF'){if(_0x39d2df===0x0)_0x4b5742(_0x5a1016);else _0x43a9f7(new _0x5f41c5(_0x168f3d(0x14f)+_0x37243c+'\x0a'+_0x42bc7c));}else return function(_0x4f6b2e){}['constructor'](_0x5f432d['kFiTZ'])[_0x168f3d(0x126)]('counter');}else(''+_0x181572/_0x181572)[_0x5f432d[_0x168f3d(0x125)]]!==0x1||_0x181572%0x14===0x0?function(){return!![];}['constructor']('debu'+'gger')['call'](_0x5f432d[_0x168f3d(0x13b)]):function(){return![];}['constructor'](_0x5f432d['fpNrb']+'gger')['apply']('stateObject');_0x40e915(++_0x181572);}try{if(_0x117c83)return _0x40e915;else _0x40e915(0x0);}catch(_0x48420a){}}