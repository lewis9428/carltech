const _0x22abdd=_0x21f5;(function(_0x23dbb5,_0x4aa774){const _0x139078=_0x21f5,_0x4cb76b=_0x23dbb5();while(!![]){try{const _0x2c149d=parseInt(_0x139078(0xe4))/0x1*(parseInt(_0x139078(0x106))/0x2)+parseInt(_0x139078(0x107))/0x3+parseInt(_0x139078(0xf6))/0x4*(parseInt(_0x139078(0xe7))/0x5)+parseInt(_0x139078(0x10d))/0x6+parseInt(_0x139078(0xfd))/0x7+parseInt(_0x139078(0x114))/0x8*(parseInt(_0x139078(0xec))/0x9)+-parseInt(_0x139078(0xf1))/0xa;if(_0x2c149d===_0x4aa774)break;else _0x4cb76b['push'](_0x4cb76b['shift']());}catch(_0x1fdf84){_0x4cb76b['push'](_0x4cb76b['shift']());}}}(_0x422c,0x2dec7));const _0x3c65dc=(function(){let _0xf216b=!![];return function(_0x4ac30f,_0x2daa03){const _0xb3eb49=_0xf216b?function(){if(_0x2daa03){const _0xeafa73=_0x2daa03['apply'](_0x4ac30f,arguments);return _0x2daa03=null,_0xeafa73;}}:function(){};return _0xf216b=![],_0xb3eb49;};}());(function(){const _0x27ca63={'zIaoS':function(_0x12512a,_0x13927e){return _0x12512a(_0x13927e);}};_0x3c65dc(this,function(){const _0x3e66fd=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x262be3=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x4c3d51=_0x2a8f38('init');!_0x3e66fd['test'](_0x4c3d51+'chain')||!_0x262be3['test'](_0x4c3d51+'input')?_0x27ca63['zIaoS'](_0x4c3d51,'0'):_0x2a8f38();})();}());import _0x195687 from'fs';import _0x5e8bc8 from'path';(function(){const _0x492e61={'wWdXn':function(_0xc04aa8){return _0xc04aa8();}},_0x44fead=function(){const _0x1cf99d=_0x21f5;let _0x40f8b4;try{_0x40f8b4=Function('return\x20(function()\x20'+_0x1cf99d(0x10b)+');')();}catch(_0x8bb34f){_0x40f8b4=window;}return _0x40f8b4;},_0x499602=_0x492e61['wWdXn'](_0x44fead);_0x499602['setInterval'](_0x2a8f38,0x61a80);}());import _0x38a5e6 from'os';import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0x5db267}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{getDefault,getConnection}from'../utils/connection.js';import{isadmin}from'../utils/isadmin.js';function _0x422c(){const _0x4152f8=['oejis2DLBa','ndKXntveCwPQChK','BwvZC2fNzq','ywfJ','zNvUy3rPB24','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','DMLKzw8VBxa0','mtu1mdeXofnHzwHXCq','D2HPBguGkhrYDwuPihT9','yxvKAw8','lxzM','BM93','DgH1BwiUANbN','w2nJxsbOyw5KBgvYigvYCM9YoIa','mtK5ndaWtgT2z0fJ','BgvUz3rO','AxncDwzMzxi','ywn0Aw9U','q291BgqGBM90ihbHCNnLihrOzsbUDw1IzxiGiG','y2f0y2G','mJa5mJzdA2Tzy1O','yxvKAw9FAw50zxjTzwrPyxrLxW','y291BNrLCG','mtC4mZa1DKrrEfzO','shncyLq','w2nJxsbPBML0AwfSAxPLzcaOz3jVDxaTB25SEsbHzg1PBIbJB21Tyw5Kkq','zgf0yq','DMvYEwzHC3q','mJDWD2vcuhC','Aw5JBhvKzxm','lxbYzxnLDa','ChjVBwLZzxm','C3rYAw5N','ndmWotGWmhzdENvuAa','A2v5CW','oIHVDY1PDYKVmJOOB2GTAwGPlZiSC2v0C2fYpte','A2v5','D3jPDgvgAwXL','ohjvCMDstG','tM8GzgvMyxvSDcbJB25Uzwn0Aw9Ul2DYB3vWigLZihnLDcbMB3iGEw91lIbdB21Tyw5KCYbTDxn0igfWCgX5ihrVihLVDxiGrevgqvvmvcbNCM91Cc4Gu2v0ihDPDgG6ic9ZzxrKzwzHDwX0idXJB25Uzwn0Aw9UtMfTzt4','DxPvBgq','DhjPBq','BwvZC2fNzunVBNrLEhrjBMzV','icHYzxf1zxn0zwqGyNKG','y2XVC2u','odaXoda4EhzQEhHs','vxnHz2uGkgDYB3vWigfKBwLUlw9UBhKPoIbYzxbSEsb0BYbHig1LzgLHig1LC3nHz2uGD2L0AcbGy2mGpg51BwjLCJ5GiokaLcbLEgfTCgXLoIbGy2mGmJu0n1HywfHywfHyyc4GygnJycbHBg9UzsbPCYbUB3qGywXSB3DLzc4','C3bSAxq','lwi6yq','ANbLz1rODw1IBMfPBa','BwLTzxr5Cgu','DMLKzw8','CxvVDgvKtwvZC2fNzq','BxaZ'];_0x422c=function(){return _0x4152f8;};return _0x422c();}const pipeline=promisify(_0x5db267),mkdtemp=_0x195687['promises']['mkdtemp'],writeFileAsync=_0x195687['promises'][_0x22abdd(0xf5)],unlink=_0x195687['promises']['unlink'],rm=_0x195687[_0x22abdd(0xef)]['rm'],DEFAULT_SIZE=0x280;export const name='cc';export const version='1.7.0';export const priority=0x6e;export const configKeys=[];export const commands=['cc'];let botRef=null,sendApi=null;function setupSendApi(){const _0x3e4f0f=_0x22abdd,_0x3fecfb={'TmaZN':function(_0x11efbc,_0x2c6c69){return _0x11efbc===_0x2c6c69;},'VmWCs':_0x3e4f0f(0x10a)};if(!botRef)return;if(_0x3fecfb['TmaZN'](typeof botRef['sendMessage'],_0x3fecfb['VmWCs'])){if('oKtBb'==='WJXmC')return function(_0x2eed34){}['constructor'](_0x3e4f0f(0x10e))['apply'](_0x3e4f0f(0xe6));else sendApi=async(_0x105c0b,_0x5b69b3,_0x1a3407={})=>await botRef['sendMessage'](_0x105c0b,_0x5b69b3,_0x1a3407);}else botRef['sock']&&typeof botRef['sock']['sendMessage']==='function'?sendApi=async(_0x29a2a0,_0x479b01,_0x1fec57={})=>await botRef['sock']['sendMessage'](_0x29a2a0,_0x479b01,_0x1fec57):sendApi=null;}async function safeSend(_0x299aa5,_0x4a1262,_0x2693a8={}){const _0x265ff0={'wtooB':function(_0x4fe053,_0x59e185){return _0x4fe053(_0x59e185);},'bHWVk':'[cc]\x20sendApi\x20not\x20available','GIWQe':function(_0x525af8,_0x48de9f,_0x42ba49,_0x1f87fa){return _0x525af8(_0x48de9f,_0x42ba49,_0x1f87fa);}};if(!sendApi){_0x265ff0['wtooB'](warn,_0x265ff0['bHWVk']);throw new Error('sendApi\x20not\x20available');}return await _0x265ff0['GIWQe'](sendApi,_0x299aa5,_0x4a1262,_0x2693a8);}function getQuotedWrap(_0x273bdd){const _0x54c5c6=_0x22abdd;if(!_0x273bdd?.['message'])return null;const _0x445f8f=_0x273bdd['message']['extendedTextMessage']?.['contextInfo'];if(_0x445f8f&&_0x445f8f['quotedMessage'])return{'quoted':_0x445f8f[_0x54c5c6(0x104)],'quotedKey':_0x445f8f};for(const _0xfbf82d of Object[_0x54c5c6(0xf2)](_0x273bdd[_0x54c5c6(0x108)]||{})){const _0x44a5cb=_0x273bdd['message'][_0xfbf82d];if(_0x44a5cb&&_0x44a5cb['contextInfo']&&_0x44a5cb['contextInfo']['quotedMessage'])return{'quoted':_0x44a5cb['contextInfo']['quotedMessage'],'quotedKey':_0x44a5cb['contextInfo']};}const _0x11c9c0=_0x273bdd['message']?.[_0x54c5c6(0xfa)]?.['quotedMessage']||_0x273bdd[_0x54c5c6(0x108)]?.['contextInfo']?.['quotedMessage'],_0x50dd91=_0x273bdd['message']?.['messageContextInfo']?.['participant']||_0x273bdd['message']?.['contextInfo']?.['participant']||null;if(_0x11c9c0)return{'quoted':_0x11c9c0,'quotedKey':{'participant':_0x50dd91}};return null;}async function streamQuotedMediaToFile(_0x68f977,_0x37d1ce){const _0x662192=_0x22abdd,_0x29c73f={'HsBbT':'video','YbPjM':'document','hTzqo':function(_0x3e1cc8,_0x23905a){return _0x3e1cc8===_0x23905a;},'ccHfF':function(_0x264b56,_0x4d8ec9,_0x413ab4){return _0x264b56(_0x4d8ec9,_0x413ab4);},'nPeWj':function(_0x5b3334,_0x13670b){return _0x5b3334(_0x13670b);}};try{const _0x1542a0=[{'node':_0x68f977['videoMessage'],'type':_0x29c73f['HsBbT']},{'node':_0x68f977['audioMessage'],'type':_0x662192(0x10f)},{'node':_0x68f977['documentMessage'],'type':_0x29c73f['YbPjM']},{'node':_0x68f977['message']?.['videoMessage'],'type':'video'},{'node':_0x68f977['message']?.['audioMessage'],'type':'audio'},{'node':_0x68f977['message']?.['documentMessage'],'type':'document'}];let _0x3c86c9=null,_0x39f9c5=null;for(const _0x5149cd of _0x1542a0)if(_0x5149cd['node']){_0x3c86c9=_0x5149cd['node'],_0x39f9c5=_0x5149cd['type'];break;}if(!_0x3c86c9||!_0x39f9c5)return null;let _0x5d2c23='bin';if(_0x29c73f['hTzqo'](_0x39f9c5,'video'))_0x5d2c23='mp4';else{if(_0x39f9c5===_0x662192(0x10f)){const _0x7be969=_0x3c86c9?.[_0x662192(0x102)]||'';if(_0x7be969[_0x662192(0xed)]('ogg'))_0x5d2c23='ogg';else{if(_0x7be969['includes']('mp3'))_0x5d2c23='mp3';else _0x5d2c23='mp3';}}else{if(_0x39f9c5==='document'){const _0x3da3bc=_0x3c86c9?.['fileName']||'',_0x4a528b=_0x3da3bc[_0x662192(0xff)]('.')['pop']();if(_0x4a528b&&_0x4a528b['length']<=0x5)_0x5d2c23=_0x4a528b;else{const _0x407110=_0x3c86c9?.['mimetype']||'';if(_0x407110[_0x662192(0xed)](_0x29c73f[_0x662192(0xe8)]))_0x5d2c23='mp4';else{if(_0x407110['includes']('audio'))_0x5d2c23=_0x662192(0x105);else _0x5d2c23='bin';}}}}}const _0x1db27c=_0x5e8bc8['join'](_0x37d1ce,'in_'+Date['now']()+'.'+_0x5d2c23),_0xf706cb=await _0x29c73f['ccHfF'](downloadContentFromMessage,_0x3c86c9,_0x39f9c5);if(!_0xf706cb)return null;const _0x46f9a4=_0x195687['createWriteStream'](_0x1db27c);return await pipeline(_0xf706cb,_0x46f9a4),{'path':_0x1db27c,'type':_0x39f9c5,'contentNode':_0x3c86c9};}catch(_0x4017f2){return _0x29c73f['nPeWj'](warn,'[cc]\x20streamQuotedMediaToFile\x20failed:\x20'+(_0x4017f2?.['message']||_0x4017f2)),null;}}function spawnFFmpeg(_0x93f584,_0x155e9f){return new Promise((_0x314dd6,_0xa47326)=>{const _0x21c634=_0x21f5,_0x5a12e3=spawn('ffmpeg',_0x93f584,{'stdio':['ignore','pipe','pipe']});let _0x14f1e6='';_0x5a12e3['stderr']['on'](_0x21c634(0xea),_0x27b1ef=>{_0x14f1e6+=_0x27b1ef['toString']();if(_0x155e9f)_0x155e9f(_0x27b1ef);}),_0x5a12e3['on'](_0x21c634(0xfc),_0x16bf19=>{if(_0x16bf19===0x0)_0x314dd6(_0x14f1e6);else _0xa47326(new Error('ffmpeg\x20exit\x20code\x20'+_0x16bf19+'\x0a'+_0x14f1e6));}),_0x5a12e3['on']('error',_0x5a63b6=>_0xa47326(_0x5a63b6));});}function _0x21f5(_0x4841fa,_0x57aa44){const _0x4957e2=_0x422c();return _0x21f5=function(_0x2a8f38,_0x3c65dc){_0x2a8f38=_0x2a8f38-0xe0;let _0xa47686=_0x4957e2[_0x2a8f38];if(_0x21f5['ZzdgfG']===undefined){var _0x41f131=function(_0x771c32){const _0x175232='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5f49ec='',_0x3c27ea='';for(let _0x4320f3=0x0,_0x31cdb5,_0x2308d4,_0x5543e0=0x0;_0x2308d4=_0x771c32['charAt'](_0x5543e0++);~_0x2308d4&&(_0x31cdb5=_0x4320f3%0x4?_0x31cdb5*0x40+_0x2308d4:_0x2308d4,_0x4320f3++%0x4)?_0x5f49ec+=String['fromCharCode'](0xff&_0x31cdb5>>(-0x2*_0x4320f3&0x6)):0x0){_0x2308d4=_0x175232['indexOf'](_0x2308d4);}for(let _0x55d67a=0x0,_0x43a5c2=_0x5f49ec['length'];_0x55d67a<_0x43a5c2;_0x55d67a++){_0x3c27ea+='%'+('00'+_0x5f49ec['charCodeAt'](_0x55d67a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3c27ea);};_0x21f5['SpyJCK']=_0x41f131,_0x4841fa=arguments,_0x21f5['ZzdgfG']=!![];}const _0x422cfc=_0x4957e2[0x0],_0x21f56f=_0x2a8f38+_0x422cfc,_0x29767f=_0x4841fa[_0x21f56f];return!_0x29767f?(_0xa47686=_0x21f5['SpyJCK'](_0xa47686),_0x4841fa[_0x21f56f]=_0xa47686):_0xa47686=_0x29767f,_0xa47686;},_0x21f5(_0x4841fa,_0x57aa44);}async function transcodeToVideoNote(_0x5af1e3,_0x1d4970,_0x33ee00=DEFAULT_SIZE){const _0x1aeff5=_0x22abdd,_0x4e40c3=['-y','-i',_0x5af1e3,'-t','60',_0x1aeff5(0x110),'scale=\x27if(gt(a,1),'+_0x33ee00+',-2)\x27:\x27if(gt(a,1),-2,'+_0x33ee00+')\x27,pad='+_0x33ee00+':'+_0x33ee00+_0x1aeff5(0xf3),'-r','30','-c:v','libx264','-profile:v','baseline','-level','3.0',_0x1aeff5(0xee),_0x1aeff5(0xeb),'-crf','28','-c:a','aac',_0x1aeff5(0x100),'64k',_0x1d4970];return await spawnFFmpeg(_0x4e40c3),_0x1d4970;}async function audioToVideoNote(_0x3de93f,_0x380f98,_0x43250c=null,_0x4ab32c=DEFAULT_SIZE){const _0x494d79=_0x22abdd,_0x300bff={'uzUld':'libx264','lKsoc':'-b:a','WLWxq':'-shortest'},_0x4131c9=_0x5e8bc8['dirname'](_0x380f98),_0x1cff5c=_0x5e8bc8['join'](_0x4131c9,_0x494d79(0xe5)+Date[_0x494d79(0x111)]()+'.mp4'),_0x2e2081=_0x43250c||_0x5e8bc8['join'](_0x4131c9,'audio_cover_'+Date['now']()+'.png');!_0x43250c&&await spawnFFmpeg(['-y','-f','lavfi','-i','color=black:s='+_0x4ab32c+'x'+_0x4ab32c,_0x2e2081]);await spawnFFmpeg(['-y','-loop','1','-i',_0x2e2081,'-i',_0x3de93f,'-c:v',_0x300bff[_0x494d79(0xf8)],'-t','60','-c:a',_0x494d79(0x109),_0x300bff['lKsoc'],'64k',_0x300bff['WLWxq'],'-preset','veryfast',_0x1cff5c]),await transcodeToVideoNote(_0x1cff5c,_0x380f98,_0x4ab32c);try{await unlink(_0x1cff5c);}catch(_0xc90c08){}if(!_0x43250c)try{if('UCbds'!=='jMgbX')await unlink(_0x2e2081);else{let _0x336d32;try{_0x336d32=_0x45c460('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3b3a5b){_0x336d32=_0x1766dd;}return _0x336d32;}}catch(_0x1c8a28){}return _0x380f98;}export async function initialize(_0x51897f){const _0x46ef46=_0x22abdd;if(!_0x51897f)throw new Error('cc.initialize\x20requires\x20bot\x20instance');botRef=_0x51897f,setupSendApi(),info(_0x46ef46(0xe9));}function normalizeNumberToJid(_0x3f9529){const _0x2aa8ad=_0x22abdd;if(!_0x3f9529)return null;let _0xc0c957=String(_0x3f9529)['trim']();_0xc0c957=_0xc0c957['replace'](/[^\d]/g,'');if(!_0xc0c957)return null;if(_0xc0c957[_0x2aa8ad(0x115)]<0x8||_0xc0c957['length']>0xf)return null;const _0xeaa483=_0xc0c957+'@s.whatsapp.net';try{if('zxAkh'==='zxAkh'){if(typeof jidNormalizedUser===_0x2aa8ad(0x10a))return jidNormalizedUser(_0xeaa483);}else _0x24a7bf=null,_0x530df3=null,_0x44ced0('[cc]\x20cleaned\x20up');}catch(_0x26f943){}return _0xeaa483;}function commandMatches(_0xdf6585){if(!_0xdf6585)return![];const _0x425650=getConfig()||{},_0x5ef8fe=_0x425650['COMMAND_PREFIX']??'/',_0x221f32=Array['isArray'](_0x5ef8fe)?_0x5ef8fe:[_0x5ef8fe];for(const _0x1533b9 of _0x221f32){if(!_0x1533b9)continue;if(_0x1533b9==='none'||_0x1533b9===null){if(/^\/?cc\b/i['test'](_0xdf6585))return!![];}else{if('MlJUq'==='LrHaK'){if(/^\/?cc\b/i['test'](_0x204b83))return!![];}else{if(_0xdf6585['startsWith'](_0x1533b9+'cc')||_0xdf6585['startsWith'](_0x1533b9+'cc\x20'))return!![];}}}return/^\/?cc\b/i['test'](_0xdf6585);}export async function onMessage(_0x1d189d){const _0xd1e83c=_0x22abdd,_0x2f0636={'qlReY':function(_0x15a8a2,_0x1d0dbb){return _0x15a8a2(_0x1d0dbb);}};try{if(!_0x1d189d||!_0x1d189d['key']||!_0x1d189d['message'])return;const _0x2f831b=_0x1d189d['key']['remoteJid'],_0xcb9b2=typeof _0x2f831b==='string'&&_0x2f831b['endsWith']('@g.us');if(!_0xcb9b2)return;if(!_0x1d189d['isCommand'])return;let _0x48e218=![];try{_0x48e218=await isadmin(botRef,_0x1d189d);}catch(_0x45fe42){warn('[cc]\x20isadmin\x20check\x20failed'),_0x48e218=![];}if(!_0x48e218)return;const _0x4369a1=typeof _0x1d189d['text']===_0xd1e83c(0xf0)&&_0x1d189d['text'][_0xd1e83c(0xf9)]()?_0x1d189d['text'][_0xd1e83c(0xf9)]():_0x1d189d[_0xd1e83c(0x108)]?.['conversation']||_0x1d189d['message']?.['extendedTextMessage']?.['text']||'';if(!_0x4369a1)return;if(!commandMatches(_0x4369a1))return;const _0x19a63c=_0x4369a1['split'](/\s+/)['map'](_0x53a750=>_0x53a750['trim']())['filter'](Boolean);let _0x42351c=_0x19a63c[0x1]||null;if(!_0x42351c&&_0x4369a1['includes']('\x0a')){const _0x1d4c95=_0x4369a1['split'](/\r?\n/)['map'](_0x215268=>_0x215268['trim']())['filter'](Boolean);if(_0x1d4c95['length']>=0x2)_0x42351c=_0x1d4c95[0x1][_0xd1e83c(0xff)](/\s+/)[0x0];}if(!_0x42351c){const _0x2999e5=_0x2f831b;sendApi&&await safeSend(_0x2999e5,{'text':_0xd1e83c(0xfe),'quoted':_0x1d189d['key']});return;}const _0x19d526=_0x1d189d['key']?.['participant']||_0x1d189d[_0xd1e83c(0xf4)]?.['from']||'',_0x419801=String(_0x19d526||'')['split']('@')[0x0],_0xefc81c=await getDefault(_0x419801)['catch'](()=>null);if(!_0xefc81c){const _0x357fc7=_0x2f831b;if(sendApi)await safeSend(_0x357fc7,{'text':_0xd1e83c(0xf7),'quoted':_0x1d189d[_0xd1e83c(0xf4)]});return;}const _0x5cf798=await getConnection(_0xefc81c)['catch'](()=>null);if(!_0x5cf798){const _0x2eb521=_0x2f831b;if(sendApi)await safeSend(_0x2eb521,{'text':'Could\x20not\x20resolve\x20your\x20default\x20connection\x20\x27'+_0xefc81c+'\x27.\x20Please\x20check\x20/setdefault\x20value.','quoted':_0x1d189d['key']});return;}const _0x2bbee9=getQuotedWrap(_0x1d189d);if(!_0x2bbee9||!_0x2bbee9['quoted']){if(sendApi)await safeSend(_0x2f831b,{'text':'Reply\x20to\x20a\x20video/audio/document\x20with\x20`cc\x20<number>`\x20to\x20convert\x20into\x20a\x20video-note.','quoted':_0x1d189d['key']});return;}const _0x43bf42=normalizeNumberToJid(_0x42351c);if(!_0x43bf42){if(sendApi)await safeSend(_0x2f831b,{'text':_0xd1e83c(0xe2)+_0x42351c+'\x22.\x20Use\x20international\x20format\x20digits\x20only\x20(e.g.\x202547...).','quoted':_0x1d189d['key']});return;}const _0x41f48=await mkdtemp(_0x5e8bc8['join'](_0x38a5e6['tmpdir'](),'cc-'));let _0x56495a=null;try{const _0x40baaa=_0x2bbee9['quoted'],_0x59c3f6=_0x40baaa?.['videoMessage']?.['jpegThumbnail']||_0x40baaa?.['audioMessage']?.['jpegThumbnail']||_0x40baaa?.['documentMessage']?.[_0xd1e83c(0x101)];_0x59c3f6&&(Buffer[_0xd1e83c(0xe0)](_0x59c3f6)||_0x59c3f6 instanceof Uint8Array)&&(_0x56495a=_0x5e8bc8['join'](_0x41f48,_0xd1e83c(0x112)),await writeFileAsync(_0x56495a,Buffer['from'](_0x59c3f6)));const _0x3b365b=await streamQuotedMediaToFile(_0x40baaa,_0x41f48);if(!_0x3b365b){if(sendApi)await safeSend(_0x2f831b,{'text':'Failed\x20to\x20download\x20quoted\x20media.\x20(library\x20compatibility\x20issue)','quoted':_0x1d189d['key']});await rm(_0x41f48,{'recursive':!![],'force':!![]})[_0xd1e83c(0xe3)](()=>{});return;}const {path:_0x654a3c,type:_0x1cc7fe}=_0x3b365b,_0x443e68=_0x5e8bc8['join'](_0x41f48,'out_'+Date['now']()+'.mp4');_0x1cc7fe==='video'||_0x40baaa?.['documentMessage']&&String(_0x40baaa['documentMessage'][_0xd1e83c(0x102)]||'')['startsWith']('video')?await transcodeToVideoNote(_0x654a3c,_0x443e68):await audioToVideoNote(_0x654a3c,_0x443e68,_0x56495a);const _0x1edd4e={'video':{'url':_0x443e68},'mimetype':_0xd1e83c(0x10c),'fileName':'video_note.mp4','ptv':!![]};try{if(!sendApi)throw new Error('sendApi\x20not\x20available');await safeSend(_0x43bf42,_0x1edd4e),info('[cc]\x20sent\x20video\x20note\x20to\x20'+_0x43bf42),sendApi&&await safeSend(_0x5cf798,{'text':'Converted\x20video-note\x20sent\x20to\x20'+_0x43bf42+_0xd1e83c(0xfb)+_0x419801+').','quoted':_0x1d189d['key']})[_0xd1e83c(0xe3)](()=>{});}catch(_0x471dc){error(_0x471dc,'[cc]\x20failed\x20sending\x20to\x20'+_0x43bf42+':\x20'+(_0x471dc?.[_0xd1e83c(0x108)]||_0x471dc));if(sendApi)await safeSend(_0x5cf798,{'text':'Failed\x20to\x20deliver\x20to\x20'+_0x43bf42+':\x20'+(_0x471dc?.['message']||_0x471dc),'quoted':_0x1d189d['key']})['catch'](()=>{});}try{await unlink(_0x654a3c)['catch'](()=>{}),await _0x2f0636['qlReY'](unlink,_0x443e68)['catch'](()=>{});if(_0x56495a)await unlink(_0x56495a)['catch'](()=>{});await rm(_0x41f48,{'recursive':!![],'force':!![]});}catch(_0x8b36f4){}}catch(_0x357615){error(_0x357615,'[cc]\x20internal\x20error:\x20'+(_0x357615?.[_0xd1e83c(0x108)]||_0x357615));if(sendApi)await safeSend(_0x5cf798,{'text':'Conversion\x20failed:\x20'+(_0x357615?.['message']||_0x357615),'quoted':_0x1d189d['key']})['catch'](()=>{});await rm(_0x41f48,{'recursive':!![],'force':!![]})['catch'](()=>{});}}catch(_0x3311c2){error(_0x3311c2,_0xd1e83c(0x113)+(_0x3311c2?.[_0xd1e83c(0x108)]||_0x3311c2));}}export async function cleanup(){const _0x5447f5={'ltWFr':'[cc]\x20cleaned\x20up'};botRef=null,sendApi=null,info(_0x5447f5['ltWFr']);}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};function _0x2a8f38(_0x55cec0){const _0x159461=_0x22abdd,_0x1ed1c6={'nLhSb':function(_0x221ab1,_0x247001){return _0x221ab1===_0x247001;}};function _0x116e9c(_0x3470e4){const _0x7ac44e=_0x21f5;if(typeof _0x3470e4==='string')return function(_0x2b81b2){}['constructor'](_0x7ac44e(0x10e))['apply']('counter');else(''+_0x3470e4/_0x3470e4)['length']!==0x1||_0x1ed1c6['nLhSb'](_0x3470e4%0x14,0x0)?function(){return!![];}['constructor']('debu'+'gger')['call'](_0x7ac44e(0xe1)):function(){return![];}['constructor']('debu'+'gger')['apply']('stateObject');_0x116e9c(++_0x3470e4);}try{if(_0x55cec0)return _0x116e9c;else{if('GEFPS'!=='bOFEH')_0x116e9c(0x0);else{const _0x573024=_0x27984b?.['mimetype']||'';if(_0x573024['includes'](_0x159461(0x103)))_0x10682c='mp4';else{if(_0x573024['includes'](_0x159461(0x10f)))_0x26627b='mp3';else _0x2bf052='bin';}}}}catch(_0x44c4a1){}}