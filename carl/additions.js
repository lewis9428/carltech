const _0x2d2a4b=_0x1bef;(function(_0x2c45c7,_0x1d20a9){const _0x8ef631=_0x1bef,_0x2ca472=_0x2c45c7();while(!![]){try{const _0x5bb2f5=-parseInt(_0x8ef631(0x1c4))/0x1*(-parseInt(_0x8ef631(0x183))/0x2)+parseInt(_0x8ef631(0x194))/0x3*(parseInt(_0x8ef631(0x1b5))/0x4)+-parseInt(_0x8ef631(0x18d))/0x5+-parseInt(_0x8ef631(0x1dc))/0x6*(-parseInt(_0x8ef631(0x1a9))/0x7)+-parseInt(_0x8ef631(0x1c6))/0x8+parseInt(_0x8ef631(0x188))/0x9*(-parseInt(_0x8ef631(0x1a6))/0xa)+parseInt(_0x8ef631(0x18c))/0xb;if(_0x5bb2f5===_0x1d20a9)break;else _0x2ca472['push'](_0x2ca472['shift']());}catch(_0x4dc16e){_0x2ca472['push'](_0x2ca472['shift']());}}}(_0x6994,0xc12e1));const _0x2496d5=(function(){let _0x2ff909=!![];return function(_0x36aeb7,_0x783f34){const _0x19a60f=_0x2ff909?function(){const _0x27d2c8=_0x1bef;if(_0x783f34){const _0x210806=_0x783f34[_0x27d2c8(0x1bb)](_0x36aeb7,arguments);return _0x783f34=null,_0x210806;}}:function(){};return _0x2ff909=![],_0x19a60f;};}());(function(){const _0x471956=_0x1bef,_0x185c7b={'gheiA':_0x471956(0x1b0)};_0x2496d5(this,function(){const _0x40a8f7=_0x471956,_0x3adb45=new RegExp('function\x20*\x5c(\x20*\x5c)'),_0x18ff9d=new RegExp(_0x185c7b['gheiA'],'i'),_0x2bed9a=_0x2e8127(_0x40a8f7(0x1e3));!_0x3adb45['test'](_0x2bed9a+'chain')||!_0x18ff9d['test'](_0x2bed9a+'input')?_0x2bed9a('0'):_0x2e8127();})();}());import{info,warn,error}from'../utils/logger.js';(function(){const _0x1e9776={'pcQQV':'return\x20(function()\x20'};let _0x486e03;try{const _0x82c8c4=Function(_0x1e9776['pcQQV']+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x486e03=_0x82c8c4();}catch(_0x18b2c8){_0x486e03=window;}_0x486e03['setInterval'](_0x2e8127,0x61a80);}());import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';export const name='additions';export const version='1.3.0';export const priority=0x5a;export const configKeys=['ADDITIONS'];export const commands=['additiongroup',_0x2d2a4b(0x1ce),'removeadditiongroup','listadditiongroups','additiongroups','additions','additiontarget','additionstatus'];let botRef=null,attached=![],listener=null;const groupQueues=new Map(),groupTimers=new Map();let CFG={'DEFAULT_ENABLED':!![],'DEBOUNCE_MS':0xbb8,'SEND_IN_GROUP_BY_DEFAULT':!![],'notify_group':null};const DEDUPE_TTL_MS=0x1e*0x3e8,processedMessageKeys=new Map();function markProcessed(_0x3149ab){const _0x54c272=_0x2d2a4b;if(!_0x3149ab)return;if(processedMessageKeys['has'](_0x3149ab))try{if('JpZTi'==='JpZTi')clearTimeout(processedMessageKeys['get'](_0x3149ab));else{if(_0x2e3483['sock']&&_0x3e2309['sock']['ev']&&typeof _0x1ef955['sock']['ev']['on']==='function')_0x4ff7f7['sock']['ev']['on'](_0x54c272(0x1a8),_0x27b4a1);}}catch(_0x310ce0){}const _0x3d1d2e=setTimeout(()=>processedMessageKeys['delete'](_0x3149ab),DEDUPE_TTL_MS);processedMessageKeys['set'](_0x3149ab,_0x3d1d2e);}function isProcessed(_0xec0cf7){return _0xec0cf7&&processedMessageKeys['has'](_0xec0cf7);}let attachWatcherInterval=null,sockMonitorInterval=null,lastSockIdentity=null,connectionUpdateHandler=null;async function ensureSchema(){const _0x1b493f=_0x2d2a4b;try{if('fyFTo'==='fyFTo')await db['exec']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20additions_config\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20key\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20value\x20TEXT\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20'),await db['exec']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20additions_groups\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20group_jid\x20TEXT\x20PRIMARY\x20KEY\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20'),info('['+name+_0x1b493f(0x1ea));else{const _0x1f712e=_0x25881a(_0x1b493f(0x19a)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x44adb4=_0x1f712e();}}catch(_0xcde0a0){error(_0xcde0a0,'['+name+']\x20ensureSchema\x20failed:\x20'+(_0xcde0a0?.[_0x1b493f(0x1a5)]||_0xcde0a0));throw _0xcde0a0;}}async function dbSetConfig(_0x4042f3,_0x3ad2fb){const _0x94afd9=_0x2d2a4b;try{return await db['run']('INSERT\x20INTO\x20additions_config\x20(key,\x20value)\x20VALUES\x20(?,\x20?)\x20ON\x20CONFLICT(key)\x20DO\x20UPDATE\x20SET\x20value\x20=\x20excluded.value;',[_0x4042f3,String(_0x3ad2fb)]),!![];}catch(_0x2d4c8a){return warn('['+name+_0x94afd9(0x1d2)+(_0x2d4c8a?.['message']||_0x2d4c8a)),![];}}async function dbGetConfig(_0xd2320a){const _0x1513fb=_0x2d2a4b;try{const _0x5bb14a=await db['get']('SELECT\x20value\x20FROM\x20additions_config\x20WHERE\x20key\x20=\x20?\x20LIMIT\x201',[_0xd2320a]);return _0x5bb14a?_0x5bb14a['value']:null;}catch(_0x2593ce){return warn('['+name+_0x1513fb(0x1ac)+(_0x2593ce?.['message']||_0x2593ce)),null;}}async function dbDeleteConfig(_0x149bcb){try{return await db['run']('DELETE\x20FROM\x20additions_config\x20WHERE\x20key\x20=\x20?',[_0x149bcb]),!![];}catch(_0x35495d){return warn('['+name+']\x20dbDeleteConfig\x20failed:\x20'+(_0x35495d?.['message']||_0x35495d)),![];}}async function dbAddGroup(_0x3e1be3){const _0x4ad1aa=_0x2d2a4b;try{return await db['run'](_0x4ad1aa(0x1cb),[_0x3e1be3]),!![];}catch(_0x3f4049){return warn('['+name+']\x20dbAddGroup\x20failed:\x20'+(_0x3f4049?.['message']||_0x3f4049)),![];}}async function dbRemoveGroup(_0x480314){try{const _0x2f4c64=await db['run']('DELETE\x20FROM\x20additions_groups\x20WHERE\x20group_jid\x20=\x20?',[_0x480314]);return!!_0x2f4c64?.['changes'];}catch(_0x4035e3){return warn('['+name+']\x20dbRemoveGroup\x20failed:\x20'+(_0x4035e3?.['message']||_0x4035e3)),![];}}async function dbListGroups(){const _0xe85835=_0x2d2a4b;try{const _0x210b34=await db['all']('SELECT\x20group_jid\x20FROM\x20additions_groups\x20ORDER\x20BY\x20group_jid');return(_0x210b34||[])['map'](_0x9db5dc=>_0x9db5dc[_0xe85835(0x19b)]);}catch(_0x36dc0e){return warn('['+name+']\x20dbListGroups\x20failed:\x20'+(_0x36dc0e?.['message']||_0x36dc0e)),[];}}function _0x1bef(_0x5d60be,_0x16b266){const _0x45bab8=_0x6994();return _0x1bef=function(_0x2e8127,_0x2496d5){_0x2e8127=_0x2e8127-0x180;let _0x5c836a=_0x45bab8[_0x2e8127];if(_0x1bef['SElKLg']===undefined){var _0x20012c=function(_0x33651f){const _0x4a1c36='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x578dff='',_0x3f4ed0='';for(let _0x2c5ef7=0x0,_0x1135b2,_0x417245,_0x201194=0x0;_0x417245=_0x33651f['charAt'](_0x201194++);~_0x417245&&(_0x1135b2=_0x2c5ef7%0x4?_0x1135b2*0x40+_0x417245:_0x417245,_0x2c5ef7++%0x4)?_0x578dff+=String['fromCharCode'](0xff&_0x1135b2>>(-0x2*_0x2c5ef7&0x6)):0x0){_0x417245=_0x4a1c36['indexOf'](_0x417245);}for(let _0xbe62f8=0x0,_0xb74b00=_0x578dff['length'];_0xbe62f8<_0xb74b00;_0xbe62f8++){_0x3f4ed0+='%'+('00'+_0x578dff['charCodeAt'](_0xbe62f8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3f4ed0);};_0x1bef['KPCnXP']=_0x20012c,_0x5d60be=arguments,_0x1bef['SElKLg']=!![];}const _0x699443=_0x45bab8[0x0],_0x1bef8d=_0x2e8127+_0x699443,_0x18b537=_0x5d60be[_0x1bef8d];return!_0x18b537?(_0x5c836a=_0x1bef['KPCnXP'](_0x5c836a),_0x5d60be[_0x1bef8d]=_0x5c836a):_0x5c836a=_0x18b537,_0x5c836a;},_0x1bef(_0x5d60be,_0x16b266);}async function dbIsGroupMonitored(_0x3ececd){try{const _0x226fa3=await db['get']('SELECT\x20group_jid\x20FROM\x20additions_groups\x20WHERE\x20group_jid\x20=\x20?\x20LIMIT\x201',[_0x3ececd]);return!!_0x226fa3;}catch(_0x505a4f){return warn('['+name+']\x20dbIsGroupMonitored\x20failed:\x20'+(_0x505a4f?.['message']||_0x505a4f)),![];}}async function refreshRuntimeConfig(){const _0x2d1147=_0x2d2a4b,_0x1c2437={'SutGD':function(_0x2cc80a,_0xe843b8){return _0x2cc80a!==_0xe843b8;},'MicdG':function(_0x5b2ff1,_0x952323){return _0x5b2ff1(_0x952323);},'ShheM':function(_0x54c154,_0xfd43ee){return _0x54c154===_0xfd43ee;}};try{const _0x2d06ad=getConfig()||{},_0x4a9b69=_0x2d06ad['ADDITIONS']&&typeof _0x2d06ad['ADDITIONS']===_0x2d1147(0x1cd)?_0x2d06ad['ADDITIONS']:{};CFG[_0x2d1147(0x1e6)]=_0x1c2437['SutGD'](_0x4a9b69['DEFAULT_ENABLED'],undefined)?!!_0x4a9b69['DEFAULT_ENABLED']:!![],CFG['DEBOUNCE_MS']=Number['isInteger'](_0x4a9b69['DEBOUNCE_MS'])?_0x4a9b69['DEBOUNCE_MS']:0xbb8,CFG['SEND_IN_GROUP_BY_DEFAULT']=_0x4a9b69['SEND_IN_GROUP']!==undefined?!!_0x4a9b69['SEND_IN_GROUP']:!![];const _0xc7c5cc=await _0x1c2437[_0x2d1147(0x1b1)](dbGetConfig,_0x2d1147(0x1c7));if(_0xc7c5cc!==null)CFG['DEFAULT_ENABLED']=_0x1c2437['ShheM'](_0xc7c5cc,'1')||_0xc7c5cc==='true';const _0x1049f9=await dbGetConfig('debounce_ms');if(_0x1049f9!==null&&!Number['isNaN'](Number(_0x1049f9)))CFG[_0x2d1147(0x1ae)]=Number(_0x1049f9);const _0x5d1fdc=await dbGetConfig(_0x2d1147(0x19f));CFG['notify_group']=_0x5d1fdc||null,info('['+name+']\x20runtime\x20config\x20refreshed\x20(enabled='+CFG['DEFAULT_ENABLED']+',\x20debounce_ms='+CFG['DEBOUNCE_MS']+',\x20notify_group='+CFG['notify_group']+')');}catch(_0xa58d76){warn('['+name+']\x20refreshRuntimeConfig\x20failed:\x20'+(_0xa58d76?.['message']||_0xa58d76));}}try{hotReloadConfig&&hotReloadConfig(_0x35f81a=>{const _0x3c3967=_0x2d2a4b;try{refreshRuntimeConfig(),info('['+name+']\x20hotReloadConfig\x20applied\x20(changed\x20keys:\x20'+(_0x35f81a||[])['join'](',')+')');}catch(_0x3e697d){warn('['+name+']\x20hotReloadConfig\x20handler\x20error:\x20'+(_0x3e697d?.[_0x3c3967(0x1a5)]||_0x3e697d));}});}catch(_0x104a8b){warn('['+name+_0x2d2a4b(0x1b3)+(_0x104a8b?.['message']||_0x104a8b));}async function resolveDisplayName(_0x2a53b2){const _0x310eb8=_0x2d2a4b;try{if(!botRef||!_0x2a53b2)return _0x2a53b2?.['split']?.('@')?.[0x0]??_0x2a53b2;try{if(typeof botRef['onWhatsApp']==='function'){const _0x55e2d9=await botRef['onWhatsApp'](_0x2a53b2);if(Array[_0x310eb8(0x1c5)](_0x55e2d9)&&_0x55e2d9['length']>0x0){const _0x395e61=_0x55e2d9[0x0];if(_0x395e61&&(_0x395e61['notify']||_0x395e61['vname']||_0x395e61['name']))return _0x395e61[_0x310eb8(0x186)]||_0x395e61['vname']||_0x395e61['name'];}}if(botRef['sock']&&typeof botRef['sock']['onWhatsApp']==='function'){const _0x5ea237=await botRef['sock'][_0x310eb8(0x1ab)](_0x2a53b2);if(Array[_0x310eb8(0x1c5)](_0x5ea237)&&_0x5ea237[_0x310eb8(0x1b4)]>0x0){const _0x166f45=_0x5ea237[0x0];if(_0x166f45&&(_0x166f45['notify']||_0x166f45[_0x310eb8(0x18f)]||_0x166f45[_0x310eb8(0x195)]))return _0x166f45['notify']||_0x166f45['vname']||_0x166f45[_0x310eb8(0x195)];}}}catch(_0x43e331){}const _0x33013e=String(_0x2a53b2)[_0x310eb8(0x1b8)](':')['pop']()[_0x310eb8(0x1b8)]('@')[0x0];return _0x33013e||_0x2a53b2;}catch(_0xf55434){return _0x2a53b2?.['split']?.('@')?.[0x0]??_0x2a53b2;}}async function getGroupTitle(_0xf1d428){const _0x42632c=_0x2d2a4b,_0x4af658={'rRzRl':function(_0x3edcb4,_0x8cccbd){return _0x3edcb4===_0x8cccbd;},'lwXDu':'function'};try{if(!botRef)return _0xf1d428;if(botRef['sock']&&_0x4af658[_0x42632c(0x19e)](typeof botRef['sock']['groupMetadata'],'function')){const _0xe255e=await botRef['sock']['groupMetadata'](_0xf1d428)['catch'](()=>null);if(_0xe255e&&_0xe255e['subject'])return _0xe255e['subject'];}if(typeof botRef['getGroupMetadata']===_0x4af658['lwXDu']){const _0x14f6bd=await botRef[_0x42632c(0x1dd)](_0xf1d428)['catch'](()=>null);if(_0x14f6bd&&_0x14f6bd['subject'])return _0x14f6bd[_0x42632c(0x1a7)];}return _0xf1d428;}catch(_0x106700){return _0xf1d428;}}async function sendSummary(_0x50ad2b,_0x2c2494,_0x4de728,_0x343670){const _0x24d53b=_0x2d2a4b;try{if(!botRef)return;const _0x617342=await resolveDisplayName(_0x4de728),_0x5a76b1=[],_0x475343=[];for(const _0x4f538a of _0x343670){const _0xacc534=await resolveDisplayName(_0x4f538a);_0x5a76b1[_0x24d53b(0x1c0)](_0x4f538a),_0x475343['push'](_0x24d53b(0x1de)+String(_0xacc534)['replace'](/\n/g,'\x20'));}if(!_0x5a76b1['includes'](_0x4de728))_0x5a76b1['unshift'](_0x4de728);const _0x5c593f=await getGroupTitle(_0x2c2494),_0x47a0db='ðŸ‘¥\x20@'+String(_0x617342)['replace'](/\n/g,'\x20')+'\x20added:\x0a',_0x45e7a0=_0x475343['join']('\x0a'),_0x1b880b='\x0a\x0aðŸ“›\x20Group:\x20'+_0x5c593f+'\x20('+_0x2c2494+')',_0x11e834=_0x47a0db+_0x45e7a0+_0x1b880b,_0x1b11d4=CFG['notify_group']||_0x2c2494;if(botRef&&typeof botRef[_0x24d53b(0x1cf)]===_0x24d53b(0x1e7))await botRef['sendMessage'](_0x1b11d4,{'text':_0x11e834,'mentions':_0x5a76b1});else botRef&&botRef['sock']&&typeof botRef['sock'][_0x24d53b(0x1cf)]==='function'?await botRef['sock']['sendMessage'](_0x1b11d4,{'text':_0x11e834,'mentions':_0x5a76b1}):warn('['+name+_0x24d53b(0x1e1));info('['+name+']\x20Sent\x20additions\x20summary\x20for\x20group\x20'+_0x2c2494+_0x24d53b(0x1bd)+_0x1b11d4);}catch(_0xc324f4){warn('['+name+']\x20sendSummary\x20failed:\x20'+(_0xc324f4?.[_0x24d53b(0x1a5)]||_0xc324f4));}}async function flushAdderForGroup(_0x126ec9,_0x2bf6e5){const _0x2eb367=_0x2d2a4b,_0x380a6e={'QpDtB':'group-participants.update','QapjR':function(_0x5a8686,_0x42e6fb){return _0x5a8686!==_0x42e6fb;}};try{if(!botRef)return;const _0x5a3a30=groupQueues['get'](_0x126ec9);if(!_0x5a3a30)return;const _0x2e42a9=_0x5a3a30['get'](_0x2bf6e5);if(!_0x2e42a9||_0x2e42a9['size']===0x0){if(_0x2eb367(0x1d9)!=='UDEgy')_0x12ea6b&&_0x1d990b&&_0x4fecc4['sock']&&_0x8e4db4['sock']['ev']&&typeof _0x4e7780['sock']['ev']['off']==='function'&&_0x4d2d93['sock']['ev']['off']('group-participants.update',_0xe33e81),_0x538bbf&&_0x537d3e&&_0x13e91d['ev']&&typeof _0x3fe1b4['ev']['off']==='function'&&_0x2f07aa['ev']['off'](_0x380a6e['QpDtB'],_0x275be8);else{_0x5a3a30['delete'](_0x2bf6e5);if(_0x5a3a30[_0x2eb367(0x1d0)]===0x0)groupQueues['delete'](_0x126ec9);return;}}const _0x1240f8=Array['from'](_0x2e42a9);await sendSummary(CFG['notify_group']||_0x126ec9,_0x126ec9,_0x2bf6e5,_0x1240f8);}catch(_0x376e21){if(_0x380a6e['QapjR'](_0x2eb367(0x182),'WKaHF'))return _0x1682e7[_0x2eb367(0x1e5)]['ev']['on']('group-participants.update',_0x410a29),_0x5ea8f6=!![],_0x4da716=_0xb6bcd8['sock'],_0x4d904e('['+_0x40a5da+']\x20attached\x20to\x20sock.ev.group-participants.update'),!![];else error(_0x376e21,'['+name+']\x20flushAdderForGroup\x20error');}finally{const _0x569350=groupQueues['get'](_0x126ec9);if(_0x569350){_0x569350['delete'](_0x2bf6e5);if(_0x569350['size']===0x0)groupQueues['delete'](_0x126ec9);}}}async function flushGroup(_0x19908a){const _0x458d18=_0x2d2a4b,_0x5dcfb3={'KgrmG':function(_0x404aa3,_0x3c7264){return _0x404aa3(_0x3c7264);}};try{const _0x3bc7b8=groupQueues['get'](_0x19908a);if(!_0x3bc7b8)return;const _0x4f0cbc=Array[_0x458d18(0x193)](_0x3bc7b8['keys']());for(const _0x1100e5 of _0x4f0cbc){await flushAdderForGroup(_0x19908a,_0x1100e5);}}catch(_0x3ed1f1){error(_0x3ed1f1,'['+name+_0x458d18(0x197)+(_0x3ed1f1?.['message']||_0x3ed1f1));}finally{if(groupTimers[_0x458d18(0x1c3)](_0x19908a)){if('CbVYn'===_0x458d18(0x1b9))return function(_0x4168e5){}['constructor']('while\x20(true)\x20{}')['apply']('counter');else{try{_0x5dcfb3['KgrmG'](clearTimeout,groupTimers['get'](_0x19908a));}catch(_0x255248){}groupTimers['delete'](_0x19908a);}}if(groupQueues['get'](_0x19908a)&&groupQueues['get'](_0x19908a)['size']===0x0)groupQueues[_0x458d18(0x18e)](_0x19908a);}}async function gpUpdateHandler(_0x4f71e3){const _0x2f483f=_0x2d2a4b,_0x3c8d5f={'hwBHG':function(_0x5a3102,_0x512fe8){return _0x5a3102+_0x512fe8;}};try{if(!_0x4f71e3)return;if(!CFG['DEFAULT_ENABLED'])return;const _0x1213b7=_0x4f71e3['action']||_0x4f71e3['type']||null;if(!_0x1213b7)return;if(String(_0x1213b7)[_0x2f483f(0x19d)]()!=='add')return;const _0xa2de60=_0x4f71e3['id']||_0x4f71e3['groupId']||_0x4f71e3['jid'];if(!_0xa2de60)return;const _0x2b3cb0=await dbIsGroupMonitored(_0xa2de60);if(!_0x2b3cb0)return;const _0x39ce2d=Array['isArray'](_0x4f71e3['participants'])?_0x4f71e3['participants']:Array['isArray'](_0x4f71e3[_0x2f483f(0x1df)])?_0x4f71e3[_0x2f483f(0x1df)]:[];if(!_0x39ce2d||_0x39ce2d['length']===0x0)return;const _0x3906d6=_0x4f71e3[_0x2f483f(0x192)]||_0x4f71e3['author']||_0x4f71e3['by']||_0x4f71e3['initiator']||_0x4f71e3[_0x2f483f(0x198)]||_0x4f71e3['invoker']||_0x2f483f(0x1a3);if(!groupQueues['has'](_0xa2de60))groupQueues[_0x2f483f(0x1af)](_0xa2de60,new Map());const _0x1b36a3=groupQueues['get'](_0xa2de60);if(!_0x1b36a3[_0x2f483f(0x1c3)](_0x3906d6))_0x1b36a3[_0x2f483f(0x1af)](_0x3906d6,new Set());const _0x438ba1=_0x1b36a3['get'](_0x3906d6);for(const _0x3e0dfa of _0x39ce2d)_0x438ba1['add'](_0x3e0dfa);if(groupTimers[_0x2f483f(0x1c3)](_0xa2de60))try{clearTimeout(groupTimers['get'](_0xa2de60));}catch(_0x4692f3){}const _0x12eb84=Math[_0x2f483f(0x1ca)](0x64,Number(CFG['DEBOUNCE_MS']||0xbb8)),_0x1e6a01=setTimeout(()=>{flushGroup(_0xa2de60)['catch'](_0xcf13d7=>warn('['+name+']\x20flushGroup\x20failed:\x20'+(_0xcf13d7?.['message']||_0xcf13d7)));},_0x12eb84);groupTimers['set'](_0xa2de60,_0x1e6a01);}catch(_0x3f2934){_0x2f483f(0x1e0)==='gRplK'?warn('['+name+']\x20gpUpdateHandler\x20error:\x20'+(_0x3f2934?.['message']||_0x3f2934)):function(){return![];}['constructor'](nIWxkd['hwBHG'](_0x2f483f(0x1d4),_0x2f483f(0x18b)))['apply']('stateObject');}}function extractTextFromMessage(_0x349143){const _0x3e1a65=_0x2d2a4b;if(!_0x349143||!_0x349143['message'])return'';const _0x313788=_0x349143['message'];if(_0x313788['conversation'])return _0x313788['conversation'];if(_0x313788['extendedTextMessage']?.['text'])return _0x313788['extendedTextMessage'][_0x3e1a65(0x1e9)];if(_0x313788['imageMessage']?.['caption'])return _0x313788['imageMessage'][_0x3e1a65(0x1d5)];if(_0x313788['videoMessage']?.['caption'])return _0x313788[_0x3e1a65(0x1bc)][_0x3e1a65(0x1d5)];if(_0x313788['buttonsResponseMessage']?.['selectedButtonId'])return _0x313788['buttonsResponseMessage']['selectedButtonId'];if(_0x313788[_0x3e1a65(0x19c)]?.['singleSelectReply']?.['selectedRowId'])return _0x313788['listResponseMessage']['singleSelectReply']['selectedRowId'];return'';}function detectCommandName(_0x41ddda){if(!_0x41ddda)return null;const _0x5c2414=_0x41ddda['trim']();if(!_0x5c2414)return null;return _0x5c2414['split'](/\s+/)[0x0]['toLowerCase']();}function parseJidsFromText(_0x33989b){const _0x37d550=_0x2d2a4b;if(!_0x33989b)return[];const _0x2d5f89=_0x33989b['split'](/[\s,]+/)['map'](_0x5c2d2e=>_0x5c2d2e['trim']())['filter'](Boolean),_0x14ece0=_0x2d5f89[_0x37d550(0x1db)](_0x55a072=>_0x55a072['includes']('@'))['map'](_0x2b85d8=>_0x2b85d8);return _0x14ece0;}function parseDeleteItems(_0x264319){const _0x1936a1=_0x2d2a4b;if(!_0x264319)return[];const _0xdf7097=_0x264319['split'](/[\s,]+/)['map'](_0xbd335f=>_0xbd335f['trim']())[_0x1936a1(0x1db)](Boolean),_0x2b6011=_0xdf7097['map'](_0x9a13d4=>{const _0x346312=_0x1936a1;if(/^\d+$/[_0x346312(0x1ba)](_0x9a13d4))return{'type':'index','value':Number(_0x9a13d4)};return{'type':_0x346312(0x184),'value':_0x9a13d4};});return _0x2b6011;}async function sendApiOrFallback(_0x47d934,_0x5f34ac,_0x14f270=[]){const _0xf5601a=_0x2d2a4b,_0x1f8ff9={'hFOnB':function(_0x14663e,_0x3221d1){return _0x14663e(_0x3221d1);},'prvKy':function(_0x2efee8,_0x50e4b1){return _0x2efee8===_0x50e4b1;}};try{if(!_0x47d934||!_0x5f34ac)return;if(botRef&&typeof botRef['sendMessage']===_0xf5601a(0x1e7))'geFZH'!=='wDfcQ'?await botRef['sendMessage'](_0x47d934,{'text':String(_0x5f34ac),'mentions':_0x14f270}):(_0x1f8ff9['hFOnB'](_0x1f422a,_0x26a950),_0x22b626=null);else botRef&&botRef['sock']&&_0x1f8ff9['prvKy'](typeof botRef[_0xf5601a(0x1e5)]['sendMessage'],_0xf5601a(0x1e7))?await botRef['sock']['sendMessage'](_0x47d934,{'text':String(_0x5f34ac),'mentions':_0x14f270}):_0xf5601a(0x1cc)===_0xf5601a(0x1cc)?warn('['+name+']\x20no\x20send\x20surface\x20available\x20for\x20confirmation\x20to\x20'+_0x47d934):_0x5286e0('['+_0x31b61e+']\x20no\x20send\x20surface\x20available\x20for\x20confirmation\x20to\x20'+_0x2c5d85);}catch(_0xea8d41){warn('['+name+_0xf5601a(0x1bf)+(_0xea8d41?.[_0xf5601a(0x1a5)]||_0xea8d41));}}function chunkLines(_0x3a8b32,_0x5bd4b3=0x5dc){const _0x40f135=[];let _0xefc104='';for(const _0x1f9fb1 of _0x3a8b32){(_0xefc104+'\x0a'+_0x1f9fb1)['length']>_0x5bd4b3&&(_0x40f135['push'](_0xefc104['trim']()),_0xefc104=''),_0xefc104+=(_0xefc104?'\x0a':'')+_0x1f9fb1;}if(_0xefc104)_0x40f135['push'](_0xefc104['trim']());return _0x40f135;}function attachGpListener(){const _0x5793e7=_0x2d2a4b,_0x344262={'RaMXI':function(_0x5807f9,_0x54aac3){return _0x5807f9&&_0x54aac3;},'IKftf':function(_0x59a8f7,_0x5121f1){return _0x59a8f7(_0x5121f1);}};try{if(!botRef)return![];try{'NBecq'==='NBecq'?(_0x344262['RaMXI'](listener,botRef)&&botRef['sock']&&botRef['sock']['ev']&&typeof botRef['sock']['ev']['off']==='function'&&botRef['sock']['ev'][_0x5793e7(0x185)]('group-participants.update',listener),listener&&botRef&&botRef['ev']&&typeof botRef['ev']['off']==='function'&&botRef['ev']['off'](_0x5793e7(0x1c8),listener)):(_0x4c95f7('['+_0x15bf1e+_0x5793e7(0x191)+_0x3a1779+':\x20'+(_0x3211c0?.['message']||_0x4621b5)),_0x4bac93['push'](_0x41d897));}catch(_0x4e2d9c){}listener=gpUpdateHandler;if(botRef['sock']&&botRef['sock']['ev']&&typeof botRef['sock']['ev']['on']==='function')return botRef['sock']['ev']['on']('group-participants.update',listener),attached=!![],lastSockIdentity=botRef['sock'],info('['+name+']\x20attached\x20to\x20sock.ev.group-participants.update'),!![];if(botRef['ev']&&typeof botRef['ev']['on']===_0x5793e7(0x1e7))return botRef['ev']['on']('group-participants.update',listener),attached=!![],lastSockIdentity=null,info('['+name+']\x20attached\x20to\x20botRef.ev.group-participants.update'),!![];return _0x344262[_0x5793e7(0x199)](warn,'['+name+']\x20event\x20API\x20not\x20found\x20on\x20bot\x20instance\x20for\x20group-participants.update'),![];}catch(_0x17eb38){return warn('['+name+']\x20attachGpListener\x20failed:\x20'+(_0x17eb38?.['message']||_0x17eb38)),attached=![],listener=null,![];}}function detachGpListener(){const _0x478b70=_0x2d2a4b;try{if(!listener)return;if(botRef&&botRef['sock']&&botRef['sock']['ev'])try{botRef['sock']['ev'][_0x478b70(0x185)]?.('group-participants.update',listener);}catch(_0x3754bb){try{botRef[_0x478b70(0x1e5)]['ev']['removeListener']?.('group-participants.update',listener);}catch(_0x4b487a){}}if(botRef&&botRef['ev'])try{botRef['ev']['off']?.('group-participants.update',listener);}catch(_0xdaec18){try{botRef['ev']['removeListener']?.('group-participants.update',listener);}catch(_0x3135d4){}}}catch(_0x52bb42){warn('['+name+']\x20detachGpListener\x20error:\x20'+(_0x52bb42?.['message']||_0x52bb42));}finally{attached=![],listener=null,lastSockIdentity=null,info('['+name+']\x20detached\x20gp\x20listener\x20if\x20present');}}function startAttachWatcher(){stopAttachWatcher();const _0x4469ad=0xbb8;attachWatcherInterval=setInterval(()=>{try{if(!botRef)return;if(!attached)attachGpListener();}catch(_0x56f723){warn('['+name+']\x20attach\x20watcher\x20error:\x20'+(_0x56f723?.['message']||_0x56f723));}},_0x4469ad);}function stopAttachWatcher(){attachWatcherInterval&&(clearInterval(attachWatcherInterval),attachWatcherInterval=null);}function startSockMonitor(){stopSockMonitor();const _0x3168a0=0x3e8;sockMonitorInterval=setInterval(()=>{const _0x26208f=_0x1bef;try{if(!botRef)return;const _0x5c8329=botRef['sock']||null;if(_0x5c8329&&lastSockIdentity&&_0x5c8329!==lastSockIdentity){info('['+name+']\x20detected\x20botRef.sock\x20change\x20-\x20re-attaching\x20gp\x20listener');try{detachGpListener();}catch(_0x599224){}attachGpListener();}else!lastSockIdentity&&_0x5c8329&&attachGpListener();}catch(_0x3a6f95){warn('['+name+_0x26208f(0x1aa)+(_0x3a6f95?.[_0x26208f(0x1a5)]||_0x3a6f95));}},_0x3168a0);}function stopSockMonitor(){sockMonitorInterval&&(clearInterval(sockMonitorInterval),sockMonitorInterval=null);}function startConnectionUpdateHook(){const _0x5ef95a=_0x2d2a4b,_0x360e95={'WfQTw':'mlPiS'};if(!botRef)return;if(connectionUpdateHandler)return;connectionUpdateHandler=_0x482d1c=>{if(_0x360e95['WfQTw']==='mlPiS')try{setTimeout(()=>{try{info('['+name+']\x20connection.update\x20observed\x20-\x20ensuring\x20gp\x20listener\x20attached'),attachGpListener();}catch(_0xe30c19){}},0x1f4);}catch(_0x16cdba){warn('['+name+']\x20connection.update\x20handler\x20error:\x20'+(_0x16cdba?.['message']||_0x16cdba));}else _0x5a5c34(_0x240677),_0x1f704d=null;};try{if(botRef['sock']&&botRef['sock']['ev']&&typeof botRef['sock']['ev']['on']==='function')botRef['sock']['ev']['on']('connection.update',connectionUpdateHandler);}catch(_0x2721dd){warn('['+name+_0x5ef95a(0x1e2)+(_0x2721dd?.['message']||_0x2721dd));}try{if(botRef['ev']&&typeof botRef['ev']['on']==='function')botRef['ev']['on']('connection.update',connectionUpdateHandler);}catch(_0x137a8c){}}function stopConnectionUpdateHook(){const _0x1805a4=_0x2d2a4b;try{if(connectionUpdateHandler){if(botRef&&botRef['sock']&&botRef[_0x1805a4(0x1e5)]['ev'])try{botRef['sock']['ev']['off']?.('connection.update',connectionUpdateHandler);}catch(_0x1ef0f3){}if(botRef&&botRef['ev'])try{if('OYXjH'!=='hHSfb')botRef['ev']['off']?.('connection.update',connectionUpdateHandler);else return _0x533e71('['+_0x5c6058+']\x20dbDeleteConfig\x20failed:\x20'+(_0x1efc65?.['message']||_0x5171fa)),![];}catch(_0x35f962){}}}catch(_0x3a1b31){}connectionUpdateHandler=null;}export async function initialize(_0x51ba7b){const _0x188063=_0x2d2a4b;try{if(!_0x51ba7b)throw new Error('additions.initialize\x20requires\x20bot\x20instance');botRef=_0x51ba7b,await ensureSchema(),await refreshRuntimeConfig();try{const _0x92d0b1='4|1|3|0|2'['split']('|');let _0x595b3f=0x0;while(!![]){switch(_0x92d0b1[_0x595b3f++]){case'0':startSockMonitor();continue;case'1':startConnectionUpdateHook();continue;case'2':info('['+name+']\x20initialized\x20and\x20gp\x20listener\x20watching');continue;case'3':startAttachWatcher();continue;case'4':attachGpListener();continue;}break;}}catch(_0x4248d7){warn('['+name+']\x20failed\x20to\x20attach\x20gp\x20listener\x20initially:\x20'+(_0x4248d7?.['message']||_0x4248d7));}}catch(_0xeb52d5){if('rjApl'==='rjApl'){error(_0xeb52d5,'['+name+_0x188063(0x1ad)+(_0xeb52d5?.[_0x188063(0x1a5)]||_0xeb52d5));throw _0xeb52d5;}else{const _0x3e6a3b=_0x5a8daa['apply'](_0x4c66a4,arguments);return _0x20d4db=null,_0x3e6a3b;}}}export async function onMessage(_0x37fb46){const _0x346a01=_0x2d2a4b,_0x50c7db={'NFfUa':'deladditiongroup','sfFaZ':'removeadditiongroup','tToIY':function(_0x5717ba){return _0x5717ba();},'nanvq':function(_0x14a5dd,_0x23f8af){return _0x14a5dd===_0x23f8af;},'qGudP':'index','tYfey':function(_0x594131,_0x230c13){return _0x594131!==_0x230c13;},'QjWyL':function(_0x1fdd73,_0x31c986){return _0x1fdd73(_0x31c986);},'zqJNS':function(_0x50af21,_0x4da193,_0x28e0ea){return _0x50af21(_0x4da193,_0x28e0ea);}};try{if(!_0x37fb46||!_0x37fb46['key'])return;const _0x2215b1=String(_0x37fb46[_0x346a01(0x196)][_0x346a01(0x1b2)]||'')+'::'+String(_0x37fb46['key']['id']||_0x37fb46[_0x346a01(0x196)]['participant']||'');if(isProcessed(_0x2215b1))return;markProcessed(_0x2215b1);const _0x3a199b=_0x37fb46['text']&&typeof _0x37fb46['text']==='string'?_0x37fb46['text']:extractTextFromMessage(_0x37fb46)||'';if(!_0x3a199b)return;const _0x8bf6d=_0x37fb46['key']['remoteJid'],_0x5e185a=String(_0x8bf6d||'')['endsWith'](_0x346a01(0x1e8)),_0x1eb249=_0x37fb46['key']?.['participant']||_0x37fb46[_0x346a01(0x196)]?.['from']||_0x37fb46['key']?.[_0x346a01(0x1b2)]||'',_0x41811d=(_0x1eb249||'')[_0x346a01(0x1b8)]('@')[0x0];if(!_0x37fb46[_0x346a01(0x1a1)])return;if(!_0x5e185a)return;let _0x2226ff=![];try{_0x2226ff=await isadmin(botRef,_0x37fb46);}catch(_0x38c59e){warn('['+name+_0x346a01(0x1e4)+(_0x38c59e?.['message']||_0x38c59e)),_0x2226ff=![];}if(!_0x2226ff)return;const _0x210b47=typeof _0x37fb46['text']==='string'&&_0x37fb46['text']['trim']()[_0x346a01(0x1b4)]?_0x37fb46['text'][_0x346a01(0x1da)]():_0x3a199b['trim'](),_0x51ec8e=detectCommandName(_0x210b47);if(!_0x51ec8e)return;if(!commands['includes'](_0x51ec8e))return;const _0x5758b8=_0x8bf6d;if(_0x51ec8e==='additiongroup'){const _0x1f3415=_0x210b47['replace'](/^additiongroup\b/i,'')['trim']();let _0x5cb79a=[];if(_0x1f3415&&_0x1f3415['length'])_0x5cb79a=parseJidsFromText(_0x1f3415);else{const _0x3e2a43=_0x210b47['split'](/\r?\n/)['slice'](0x1)['map'](_0x1dae9c=>_0x1dae9c['trim']())[_0x346a01(0x1db)](Boolean),_0x479a66=_0x3e2a43['join']('\x20');_0x5cb79a=parseJidsFromText(_0x479a66);}if(!_0x5cb79a['length']){await sendApiOrFallback(_0x5758b8,'Usage:\x20additiongroup\x20<group_jid>\x20[<group_jid>...]\x0aOr:\x0aadditiongroup\x0a<jid1>\x0a<jid2>\x0a');return;}const _0x23d94c=[],_0x1d1df8=[];for(const _0xd02b39 of _0x5cb79a){if(!_0xd02b39['includes']('@')){_0x1d1df8['push'](_0xd02b39);continue;}try{const _0x1092e0=await dbAddGroup(_0xd02b39);if(_0x1092e0)_0x23d94c['push'](_0xd02b39);else _0x1d1df8['push'](_0xd02b39);}catch(_0x3ea822){warn('['+name+']\x20dbAddGroup\x20error\x20for\x20'+_0xd02b39+':\x20'+(_0x3ea822?.['message']||_0x3ea822)),_0x1d1df8['push'](_0xd02b39);}}await refreshRuntimeConfig();const _0x24fe54=[];if(_0x23d94c['length'])_0x24fe54['push']('âœ…\x20Added:\x0a'+_0x23d94c['map'](_0x34554f=>'â€¢\x20'+_0x34554f)['join']('\x0a'));if(_0x1d1df8['length'])_0x24fe54['push']('âš ï¸\x20Skipped/failed:\x0a'+_0x1d1df8['map'](_0x2ca6bf=>'â€¢\x20'+_0x2ca6bf)['join']('\x0a'));await sendApiOrFallback(_0x5758b8,_0x24fe54['join']('\x0a\x0a')||'No\x20valid\x20group\x20JIDs\x20provided.');return;}if(_0x51ec8e===_0x50c7db['NFfUa']||_0x51ec8e===_0x50c7db['sfFaZ']){const _0x51fa0a=_0x210b47['replace'](/^(deladditiongroup|removeadditiongroup)\b/i,'')['trim']();if(!_0x51fa0a){await sendApiOrFallback(_0x5758b8,'Usage:\x20deladditiongroup\x20<group_jid|index[,index,...]>\x0aUse\x20listadditiongroups\x20to\x20see\x20indices.');return;}const _0x2f2344=parseDeleteItems(_0x51fa0a);if(!_0x2f2344[_0x346a01(0x1b4)]){await sendApiOrFallback(_0x5758b8,'No\x20valid\x20items\x20to\x20delete.\x20Use\x20group\x20JIDs\x20or\x20indices\x20from\x20listadditiongroups.');return;}const _0x267a73=await _0x50c7db['tToIY'](dbListGroups),_0x86792b=new Set(),_0x459b63=[];for(const _0x36f611 of _0x2f2344){if(_0x50c7db['nanvq'](_0x36f611[_0x346a01(0x1d7)],_0x346a01(0x184))){const _0x1c27f1=_0x36f611['value'];if(_0x267a73['includes'](_0x1c27f1))_0x86792b['add'](_0x1c27f1);else _0x459b63[_0x346a01(0x1c0)](_0x1c27f1);}else{if(_0x36f611['type']===_0x50c7db['qGudP']){const _0x2a6017=_0x36f611['value'];if(_0x2a6017<=0x0||_0x2a6017>_0x267a73['length']){_0x459b63['push'](String(_0x2a6017));continue;}const _0x1a5ad0=_0x267a73[_0x2a6017-0x1];if(_0x1a5ad0)_0x86792b['add'](_0x1a5ad0);}}}const _0x458679=[],_0x3236ea=[];for(const _0x432a31 of Array['from'](_0x86792b)){try{if('DFzkB'!==_0x346a01(0x1a0)){const _0x2e31a7=await dbRemoveGroup(_0x432a31);if(_0x2e31a7)_0x458679[_0x346a01(0x1c0)](_0x432a31);else _0x3236ea['push'](_0x432a31);}else _0x2c0459(_0x466073,'['+_0x5ed651+']\x20onMessage\x20error:\x20'+(_0x12eefa?.['message']||_0x44279a));}catch(_0x59d3f1){warn('['+name+']\x20dbRemoveGroup\x20error\x20for\x20'+_0x432a31+':\x20'+(_0x59d3f1?.['message']||_0x59d3f1)),_0x3236ea['push'](_0x432a31);}}await refreshRuntimeConfig();const _0x531495=[];if(_0x458679['length'])_0x531495['push'](_0x346a01(0x18a)+_0x458679['map'](_0x34642d=>'â€¢\x20'+_0x34642d)[_0x346a01(0x1be)]('\x0a'));if(_0x3236ea['length'])_0x531495['push']('âŒ\x20Failed\x20to\x20remove:\x0a'+_0x3236ea['map'](_0x136cdb=>'â€¢\x20'+_0x136cdb)['join']('\x0a'));if(_0x459b63['length'])_0x531495['push'](_0x346a01(0x1b6)+_0x459b63['map'](_0x41a9be=>'\x20'+_0x41a9be)['join'](','));await sendApiOrFallback(_0x5758b8,_0x531495['join']('\x0a\x0a')||'No\x20items\x20removed.');return;}if(_0x51ec8e===_0x346a01(0x1c9)||_0x51ec8e===_0x346a01(0x1d6)){const _0x30af71=await dbListGroups();if(!_0x30af71||_0x30af71[_0x346a01(0x1b4)]===0x0){await sendApiOrFallback(_0x5758b8,_0x346a01(0x1d8));return;}const _0x13a28a=_0x30af71['map']((_0x4253f0,_0x3d47a9)=>_0x3d47a9+0x1+'.\x20'+_0x4253f0),_0x455207=chunkLines(_0x13a28a,0x4b0);for(const _0x28dbe5 of _0x455207)await sendApiOrFallback(_0x5758b8,_0x28dbe5);return;}if(_0x51ec8e==='additions'){const _0x4c8210=_0x210b47['split'](/\s+/)['slice'](0x1);if(!_0x4c8210||!_0x4c8210[0x0]){await sendApiOrFallback(_0x5758b8,_0x346a01(0x1c1)+(CFG[_0x346a01(0x1e6)]?'on':'off'));return;}const _0x431d0a=_0x4c8210[0x0][_0x346a01(0x19d)]();if(_0x431d0a!=='on'&&_0x431d0a!==_0x346a01(0x185)){if(_0x50c7db['tYfey']('XZPSo',_0x346a01(0x1d3)))return _0x18fa61('['+_0x4c3a4e+_0x346a01(0x1d2)+(_0x3d426f?.['message']||_0x17f602)),![];else{await sendApiOrFallback(_0x5758b8,_0x346a01(0x189));return;}}const _0x48b1fc=_0x50c7db['nanvq'](_0x431d0a,'on'),_0x490afd=await dbSetConfig('enabled',_0x48b1fc?'1':'0');if(!_0x490afd){await sendApiOrFallback(_0x5758b8,'Failed\x20to\x20update\x20additions\x20enabled\x20state.');return;}CFG['DEFAULT_ENABLED']=_0x48b1fc,await sendApiOrFallback(_0x5758b8,'âœ…\x20additions\x20'+(_0x48b1fc?'enabled':'disabled'));return;}if(_0x51ec8e==='additiontarget'){const _0x48a45e=_0x210b47['split'](/\s+/)[_0x346a01(0x180)](0x1);if(!_0x48a45e||!_0x48a45e[0x0]){await sendApiOrFallback(_0x5758b8,'Usage:\x20additiontarget\x20<target_jid|clear>\x0aCurrent:\x20'+(CFG[_0x346a01(0x19f)]||_0x346a01(0x1d1)));return;}const _0x5ee378=_0x48a45e[0x0]['trim']();if(_0x5ee378['toLowerCase']()==='clear'){await _0x50c7db['QjWyL'](dbDeleteConfig,'notify_group'),CFG['notify_group']=null,await sendApiOrFallback(_0x5758b8,'âœ…\x20additiontarget\x20cleared\x20â€”\x20will\x20send\x20in\x20origin\x20groups\x20(or\x20configured\x20group\x20list).');return;}if(!_0x5ee378['includes']('@')){if('lnjPb'==='lnjPb'){await sendApiOrFallback(_0x5758b8,'Target\x20JID\x20must\x20include\x20an\x20@\x20(e.g.\x201203...@g.us)');return;}else try{_0x587427['ev']['removeListener']?.('group-participants.update',_0x23e1b9);}catch(_0x4079ab){}}const _0x3095eb=await _0x50c7db['zqJNS'](dbSetConfig,'notify_group',_0x5ee378);if(!_0x3095eb){await sendApiOrFallback(_0x5758b8,'âŒ\x20additiontarget\x20failed\x20for\x20'+_0x5ee378);return;}CFG[_0x346a01(0x19f)]=_0x5ee378,await sendApiOrFallback(_0x5758b8,'âœ…\x20additiontarget\x20set\x20to\x20'+_0x5ee378);return;}if(_0x51ec8e==='additionstatus'){const _0xe568e1=CFG['DEFAULT_ENABLED']?'on':_0x346a01(0x185),_0x28fb18=CFG['notify_group']||'(none\x20â€”\x20send\x20to\x20origin\x20group)',_0x4469d3=await dbListGroups(),_0x175d75=['Enabled:\x20'+_0xe568e1,'Notify\x20target:\x20'+_0x28fb18,'Monitored\x20groups:\x20'+(_0x4469d3['length']||0x0)];await _0x50c7db['zqJNS'](sendApiOrFallback,_0x5758b8,_0x175d75['join']('\x0a'));if(_0x4469d3['length']){const _0x5b683d=_0x4469d3['map']((_0x3dc8f0,_0x228d25)=>_0x228d25+0x1+'.\x20'+_0x3dc8f0),_0x3c77aa=chunkLines(_0x5b683d,0x4b0);for(const _0xe6a620 of _0x3c77aa)await sendApiOrFallback(_0x5758b8,_0xe6a620);}return;}}catch(_0x25b906){error(_0x25b906,'['+name+_0x346a01(0x190)+(_0x25b906?.['message']||_0x25b906));}}export async function cleanup(){const _0x2ff18e=_0x2d2a4b,_0x827315={'sYpYM':_0x2ff18e(0x181),'MAvtA':_0x2ff18e(0x1b7)};try{for(const _0x1fe878 of groupTimers['values']())try{_0x2ff18e(0x187)!==_0x827315['sYpYM']?clearTimeout(_0x1fe878):(_0x2eb481('['+_0x29bafe+']\x20connection.update\x20observed\x20-\x20ensuring\x20gp\x20listener\x20attached'),_0x1710df());}catch(_0x1c7957){}groupTimers['clear'](),groupQueues[_0x2ff18e(0x1c2)]();try{_0x827315['MAvtA']==='pEzqx'?_0x55d409('0'):(detachGpListener(),stopAttachWatcher(),stopSockMonitor(),stopConnectionUpdateHook());}catch(_0x139411){}}catch(_0x27c574){warn('['+name+']\x20cleanup\x20error:\x20'+(_0x27c574?.[_0x2ff18e(0x1a5)]||_0x27c574));}finally{attached=![],listener=null,botRef=null,info('['+name+']\x20cleaned\x20up');}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};function _0x6994(){const _0xfa5f64=['xsbKyLjLBw92zuDYB3vWigvYCM9YigzVCIa','ywn0B3i','zNjVBq','m2nyuw51wG','BMfTzq','A2v5','xsbMBhvZAeDYB3vWigvYCM9YoIa','ywrTAw4','suTMDgy','CMv0DxjUicHMDw5JDgLVBIGPia','z3jVDxbFAMLK','BgLZDfjLC3bVBNnLtwvZC2fNzq','Dg9mB3DLCKnHC2u','CLj6uMW','BM90Awz5x2DYB3vW','rvbNAKG','AxndB21Tyw5K','AxfHrM0','C3LZDgvTqhn5C3rLBq','y2fSBa','BwvZC2fNzq','mtb3ENPcDgS','C3vIAMvJDa','y29UBMvJDgLVBI51CgrHDgu','mZa0nJq1nLv0uNffAG','xsbZB2nRig1VBML0B3iGzxjYB3i6ia','B25xAgf0C0fWCa','xsbKyKDLDenVBMzPzYbMywLSzwq6ia','xsbPBML0AwfSAxPLigvYCM9YoIa','revct1voq0vFtvm','C2v0','xcTCkYaQkd86w2eTEKeTwL8KxvSWltLHlxPblvPFjf0Qkq','twLJzeC','CMvTB3rLsMLK','xsbOB3rszwXVywrdB25MAwCGCMvNAxn0CMf0Aw9UigzHAwXLzdOG','BgvUz3rO','mtG2mdCZmM9YyKLOqW','4PQG77Ipie5VDcbMB3vUzcaVigLUDMfSAwq6ia','B2LYAKq','C3bSAxq','ywHtuLG','DgvZDa','yxbWBhK','DMLKzw9nzxnZywDL','ic0+ihrHCMDLDca','AM9PBG','xsbZzw5KqxbPt3jgywXSyMfJAYbMywLSzwq6ia','ChvZAa','vxnHz2u6igfKzgL0Aw9UCYbVBNXVzMykq3vYCMvUDdOG','y2XLyxi','AgfZ','otG2oteZB3j1y2H3','AxnbCNjHEq','ndGZode1mM1bBwfqqq','zw5HyMXLza','z3jVDxaTCgfYDgLJAxbHBNrZlNvWzgf0zq','BgLZDgfKzgL0Aw9Uz3jVDxbZ','Bwf4','su5trvjuieLove8GywrKAxrPB25Zx2DYB3vWCYaOz3jVDxbFAMLKksbwquXvrvmGkd8Pie9oienptKzmsunukgDYB3vWx2PPzcKGre8GtK9useLorZS','shb4Cee','B2jQzwn0','zgvSywrKAxrPB25NCM91Ca','C2vUze1LC3nHz2u','C2L6zq','kg5VBMuG4OcuihnLBMqGDg8GB3jPz2LUigDYB3vWCYK','xsbKyLnLDenVBMzPzYbMywLSzwq6ia','wfPqu28','zgvIDq','y2fWDgLVBG','ywrKAxrPB25NCM91Chm','DhLWzq','tM8GywrKAxrPB24Gz3jVDxbZignVBMzPz3vYzwqU','vurfz3K','DhjPBq','zMLSDgvY','nNvsyuDwvq','z2v0r3jVDxbnzxrHzgf0yq','icba','CgfYDgLJAxbHBNrZx2fKzgvK','z1jWBeS','xsbUBYbZzw5Kihn1CMzHy2uGDg8GzgvSAxzLCIbHzgrPDgLVBNmGC3vTBwfYEq','xsbMywLSzwqGDg8GAg9VAYbJB25Uzwn0Aw9UlNvWzgf0zsbVBIbZB2nRoIa','Aw5PDa','xsbPC2fKBwLUignOzwnRigzHAwXLzdOG','C29JAW','revgqvvmvf9ftKfcteve','zNvUy3rPB24','qgCUDxm','Dgv4Da','xsbeqIbZy2HLBweGzw5ZDxjLza','C2XPy2u','Eg9sB0i','v0THsey','mKDZDvrTDW','AMLK','B2zM','BM90Awz5','C2rsrNG','mteZndu5ndb4DgDRvxG','vxnHz2u6igfKzgL0Aw9UCYbVBNXVzMy','4PYfifjLBw92zwq6cG','z2DLCG','mtK2nduYndfWAfHrD2W','nta4mJCWnvHQqvHSzG','zgvSzxrL','DM5HBwu','xsbVBK1LC3nHz2uGzxjYB3i6ia'];_0x6994=function(){return _0xfa5f64;};return _0x6994();}function _0x2e8127(_0x47d299){const _0x3009fc={'AndJV':function(_0x18a1e6,_0x55c438){return _0x18a1e6!==_0x55c438;}};function _0x14a468(_0x49ce0c){const _0x878bc1=_0x1bef;if(typeof _0x49ce0c==='string')return function(_0x2545f9){}['constructor']('while\x20(true)\x20{}')[_0x878bc1(0x1bb)]('counter');else(''+_0x49ce0c/_0x49ce0c)['length']!==0x1||_0x49ce0c%0x14===0x0?function(){return!![];}['constructor']('debu'+_0x878bc1(0x18b))[_0x878bc1(0x1a4)]('action'):function(){const _0x2c5976=_0x878bc1;if(_0x3009fc['AndJV'](_0x2c5976(0x1a2),'iqaFm')){if(!_0xe6994c)return null;const _0x136514=_0x32080c['trim']();if(!_0x136514)return null;return _0x136514['split'](/\s+/)[0x0]['toLowerCase']();}else return![];}['constructor']('debu'+_0x878bc1(0x18b))['apply']('stateObject');_0x14a468(++_0x49ce0c);}try{if(_0x47d299)return _0x14a468;else _0x14a468(0x0);}catch(_0x50e5a8){}}